{"title":"远程协助 国内用ToDesk 国外用RustDesk","slug":"远程协助-国内用ToDesk-国外用RustDesk","date":"2023-12-18T01:49:45.000Z","updated":"2025-12-30T13:19:19.906Z","comments":true,"path":"api/articles/远程协助-国内用ToDesk-国外用RustDesk.json","excerpt":" [Figure] 远程协助, 远程控制手机, 电脑等各平台设备","covers":null,"content":"<img class=\"lozad\" data-src=\"\">\n\n<p>远程协助, 远程控制手机, 电脑等各平台设备</p>\n<span id=\"more\"></span>\n\n<h1 id=\"有什么用\"><a href=\"#有什么用\" class=\"headerlink\" title=\"有什么用\"></a>有什么用</h1><p>在寻找远程协助客户, 家人, 朋友的手机或电脑时，寻找最佳体验的解决办法</p>\n<p>比如：想现场讲解如何操作，演示操作过程，代替朋友协助操作软件系统画面</p>\n<p>下一步计划: </p>\n<h1 id=\"怎么用\"><a href=\"#怎么用\" class=\"headerlink\" title=\"怎么用\"></a>怎么用</h1><p>国内用ToDesk 国外用RustDesk，不是没有道理的，ToDesk国内有中转服务器架设，这样使用的体验上就比RustDesk（开源）的要好；除非我们自己架设RustDesk服务器节点，可是即便这么做了，还得需要编译RustDesk的手机和电脑端APP，这样才能避免受协助端无需去操作界面填写服务器地址端口等等信息（因为需要协助的人，如果很懂IT，那ta很可能性不需要协助了）</p>\n<p>完美的协助流程：</p>\n<ol>\n<li>发送被控端（受协助对象）APP给需要协助的家人朋友或客户，让对方安装到手机或者电脑上（不如什么平台的电脑：Windows，MAC，Ubuntu等等）</li>\n<li>沟通获取被控端提供，远程协助的ID</li>\n<li>在控制端，输入远程协助ID，点击连接<ol>\n<li>有时，还需要被控端接受远程协助的确认点击。</li>\n</ol>\n</li>\n</ol>\n<h1 id=\"相关内容\"><a href=\"#相关内容\" class=\"headerlink\" title=\"相关内容\"></a>相关内容</h1><iframe style=\"box-shadow: 0px 0px 20px -10px;\" src=\"https://query.carlzeng.com:3/appsearch?q=远程协助\" frameborder=\"0\" scrolling=\"auto\" width=\"100%\" height=\"500\"></iframe>\n\n<h1 id=\"实现方法\"><a href=\"#实现方法\" class=\"headerlink\" title=\"实现方法\"></a>实现方法</h1><p>手机的远程控制APP，实现远程操作安卓手机，可能需要越狱？</p>\n<h2 id=\"1-TeamViewer\"><a href=\"#1-TeamViewer\" class=\"headerlink\" title=\"1. TeamViewer\"></a>1. TeamViewer</h2><p><a href=\"https://www.youtube.com/watch?v=UXRvw49jH3s\">https://www.youtube.com/watch?v=UXRvw49jH3s</a></p>\n<h2 id=\"2-锐连-随时随地远程协助-https-remobax-top\"><a href=\"#2-锐连-随时随地远程协助-https-remobax-top\" class=\"headerlink\" title=\"2. 锐连 随时随地远程协助 https://remobax.top/\"></a>2. 锐连 随时随地远程协助 <a href=\"https://remobax.top/\">https://remobax.top/</a></h2><pre><code>忘记以前那个什么app了，手机内存找一找  \n    如何使用AirMirror App实现手机远程控制手机？ AirDroid\n    https://github.com/bk138/droidVNC-NG\n    https://f-droid.org/packages/net.christianbeier.droidvnc_ng/\n</code></pre>\n<h2 id=\"3-ToDesk-或者-选择anydesk-同样的原理还免费，但是大陆不开梯子会很卡\"><a href=\"#3-ToDesk-或者-选择anydesk-同样的原理还免费，但是大陆不开梯子会很卡\" class=\"headerlink\" title=\"3. ToDesk 或者 选择anydesk(同样的原理还免费，但是大陆不开梯子会很卡)\"></a>3. ToDesk 或者 选择anydesk(同样的原理还免费，但是大陆不开梯子会很卡)</h2><p>ToDesk，远程客户请使用官方的精简版，</p>\n<p>​\t下载链接1: <a href=\"https://dl.todesk.com/windows/ToDesk_Lite.exe\">https://dl.todesk.com/windows/ToDesk_Lite.exe</a> 或者 <a href=\"https://file.carlzeng.com:3/d/SWITCH%E4%BB%BB%E5%A4%A9%E5%A0%82/ToDesk_Lite.exe\">https://file.carlzeng.com:3/d/SWITCH%E4%BB%BB%E5%A4%A9%E5%A0%82/ToDesk_Lite.exe</a></p>\n<p>​\t</p>\n<h2 id=\"4-rustdesk\"><a href=\"#4-rustdesk\" class=\"headerlink\" title=\"4. rustdesk\"></a>4. rustdesk</h2><pre><code>How to modify the client default server address in the code \n自己搭建服务器，但是每次发给别人都需要去改服务器地址，修改代码的那个位置，可以默认服务器ip，以后发给别人都可以不用添加服务器地址？\nhttps://github.com/rustdesk/rustdesk/discussions/2236\n    Sciter.JS - HTML/CSS/JS embeddable engine.\n\nhttp://aizuda.com/article/1088975\ndocker-compose 部署restdesk服务器\n</code></pre>\n<h2 id=\"4-1-Docker-build\"><a href=\"#4-1-Docker-build\" class=\"headerlink\" title=\"4.1 Docker build\"></a>4.1 Docker build</h2><pre><code>#8 83.01 Environment variable VCPKG_FORCE_SYSTEM_BINARIES must be set on arm, s390x, ppc64le and riscv platforms.\n</code></pre>\n<p>解决办法：拆分成三个独立的命令</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">RUN git clone --branch 2023.04.15 --depth=1 https://github.com/microsoft/vcpkg --single-branch</span><br><span class=\"line\">RUN /vcpkg/bootstrap-vcpkg.sh -disableMetrics</span><br><span class=\"line\">RUN /vcpkg/vcpkg --disable-metrics install libvpx libyuv opus aom</span><br></pre></td></tr></table></figure>\n\n<pre><code>方向性错误，编译出windows，mac的客户端没有意义；我需要编译出APK\n</code></pre>\n<h2 id=\"4-2-rustdesk-flutter\"><a href=\"#4-2-rustdesk-flutter\" class=\"headerlink\" title=\"4.2 rustdesk&#x2F;flutter&#x2F;\"></a>4.2 rustdesk&#x2F;flutter&#x2F;</h2><p><a href=\"https://github.com/rustdesk/rustdesk/tree/master/flutter\">https://github.com/rustdesk/rustdesk/tree/master/flutter</a><br>    85 mins remaining</p>\n<p>测试了一下国内直连默认服务器使用，安卓端的按键和确认动作太多，延迟太大了<br>难怪方案：国内用todesk，国外用rustdesk; </p>\n<p>尝试自建服务器</p>\n<h3 id=\"docker-compose-自建ID和relay服务器\"><a href=\"#docker-compose-自建ID和relay服务器\" class=\"headerlink\" title=\"docker-compose 自建ID和relay服务器\"></a>docker-compose 自建ID和relay服务器</h3><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">services:</span></span><br><span class=\"line\">  <span class=\"attr\">hbbs:</span></span><br><span class=\"line\">    <span class=\"attr\">container_name:</span> <span class=\"string\">hbbs</span></span><br><span class=\"line\">    <span class=\"attr\">image:</span> <span class=\"string\">rustdesk/rustdesk-server:latest</span></span><br><span class=\"line\">    <span class=\"attr\">environment:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">ALWAYS_USE_RELAY=Y</span></span><br><span class=\"line\">    <span class=\"attr\">command:</span> <span class=\"string\">hbbs</span></span><br><span class=\"line\">    <span class=\"attr\">volumes:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">./data:/root</span></span><br><span class=\"line\">    <span class=\"attr\">network_mode:</span> <span class=\"string\">&quot;host&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"attr\">depends_on:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">hbbr</span></span><br><span class=\"line\">    <span class=\"attr\">restart:</span> <span class=\"string\">unless-stopped</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">hbbr:</span></span><br><span class=\"line\">    <span class=\"attr\">container_name:</span> <span class=\"string\">hbbr</span></span><br><span class=\"line\">    <span class=\"attr\">image:</span> <span class=\"string\">rustdesk/rustdesk-server:latest</span></span><br><span class=\"line\">    <span class=\"attr\">command:</span> <span class=\"string\">hbbr</span></span><br><span class=\"line\">    <span class=\"attr\">volumes:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">./data:/root</span></span><br><span class=\"line\">    <span class=\"attr\">network_mode:</span> <span class=\"string\">&quot;host&quot;</span></span><br><span class=\"line\">    <span class=\"attr\">restart:</span> <span class=\"string\">unless-stopped</span></span><br></pre></td></tr></table></figure>\n\n\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[src/common.rs:147] Private/public key written to id_ed25519/id_ed25519.pub</span><br><span class=\"line\">hbbs  | [2025-12-29 13:32:49.446375 +00:00] INFO [src/rendezvous_server.rs:1205] Key: huHpigOnBqrvwEH3eBFKULUWgiywtacmBpyJpupxyTE=</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">carlzeng@MacBookPro ~ % nc -vz 192.168.6.117 21114</span><br><span class=\"line\">nc: connectx to 192.168.6.117 port 21114 (tcp) failed: Connection refused</span><br><span class=\"line\">carlzeng@MacBookPro ~ % nc -vz 192.168.6.117 21115</span><br><span class=\"line\">Connection to 192.168.6.117 port 21115 [tcp/*] succeeded!</span><br><span class=\"line\">carlzeng@MacBookPro ~ % nc -vz 192.168.6.117 21116</span><br><span class=\"line\">Connection to 192.168.6.117 port 21116 [tcp/*] succeeded!</span><br><span class=\"line\">carlzeng@MacBookPro ~ % nc -vz 192.168.6.117 21117</span><br><span class=\"line\">Connection to 192.168.6.117 port 21117 [tcp/*] succeeded!</span><br><span class=\"line\">carlzeng@MacBookPro ~ % nc -vz 192.168.6.117 21118</span><br><span class=\"line\">Connection to 192.168.6.117 port 21118 [tcp/*] succeeded!</span><br><span class=\"line\">carlzeng@MacBookPro ~ % nc -vz 192.168.6.117 21119</span><br><span class=\"line\">Connection to 192.168.6.117 port 21119 [tcp/*] succeeded!</span><br></pre></td></tr></table></figure>\n\n<p>TODO:   故障: 转发后, 无法连接到本地服务器的21116 和 21117.</p>\n<p>解决过程:</p>\n<p>​\t重启以后, 依旧失效, 无法连接到117明明是开放着的21117; 其他端口设置了转发就有成功的… 为何就是改的这几个端口死活就是无法链接呢? </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">carlzeng@MacBookPro ~ % nc -vz 111.193.104.114 11117                                                             </span><br><span class=\"line\">nc: connectx to 111.193.104.114 port 11117 (tcp) failed: Connection refused                                      </span><br><span class=\"line\">carlzeng@MacBookPro ~ % nc -vz 111.193.104.114 3                                                                 </span><br><span class=\"line\">Connection to 111.193.104.114 port 3 [tcp/compressnet] succeeded!                                                </span><br><span class=\"line\">carlzeng@MacBookPro ~ % nc -vz 111.193.104.114 6                                                                 </span><br><span class=\"line\">Connection to 111.193.104.114 port 6 [tcp/*] succeeded!</span><br><span class=\"line\"></span><br><span class=\"line\">carlzeng@MacBookPro ~ % nc -vz 111.193.104.114 1117</span><br><span class=\"line\">Connection to 111.193.104.114 port 1117 [tcp/ardus-mtrns] succeeded!</span><br><span class=\"line\">carlzeng@MacBookPro ~ % nc -vz 111.193.104.114 1116</span><br><span class=\"line\">Connection to 111.193.104.114 port 1116 [tcp/ardus-cntl] succeeded!</span><br></pre></td></tr></table></figure>\n\n<p>原来又是运营商搞的鬼;   当路由器端完成了转发后, 其实流量数据包是在运营商那端被丢弃的, 导致(tcp) failed: Connection refused.</p>\n<p>切换到小的端口值号时候, 可以正常连接了服务器节点. </p>\n<p>安装安卓默认版本, 统一网络下连接顺利</p>\n<p>故障: 移动网络中的安卓, 无法连接到id服务器(切换端口到116, 117以后可以连接到RustDesk网络, 就绪. 偶尔断开)</p>\n<p>当手机的网络属于‘中国移动’的网络时, 无法从MAC连接进行远程协助.(即便是状态显示就绪; 很快又跳成未就绪, 请检查网络连接)</p>\n<p>本小结又参考阅读了: <a href=\"https://www.cnblogs.com/ryanyangcs/p/18186163\">RustDesk 自建服务器部署和使用教程</a></p>\n<h2 id=\"5-parsec\"><a href=\"#5-parsec\" class=\"headerlink\" title=\"5. parsec\"></a>5. parsec</h2><p>no.</p>\n<h2 id=\"6-frp方案\"><a href=\"#6-frp方案\" class=\"headerlink\" title=\"6. frp方案\"></a>6. frp方案</h2><p>厉害了 （从rustdesk无人值守，入口找到的个人站）<br><a href=\"https://zsxwz.com/\">https://zsxwz.com/</a><br><a href=\"https://shop.zsxwz.shop/\">https://shop.zsxwz.shop</a></p>\n<p>如何配置域名访问？反代？</p>\n<h2 id=\"7-手机上VNC服务端可从F-Droid下载droidvnc-ng开启服务\"><a href=\"#7-手机上VNC服务端可从F-Droid下载droidvnc-ng开启服务\" class=\"headerlink\" title=\"7. 手机上VNC服务端可从F-Droid下载droidvnc-ng开启服务\"></a>7. 手机上VNC服务端可从F-Droid下载droidvnc-ng开启服务</h2><p><a href=\"https://www.bilibili.com/read/cv21492779/\">https://www.bilibili.com/read/cv21492779/</a><br>被控端B： frpc穿透后，用<a href=\"https://github.com/bk138/droidVNC-NG\">droidvnc-ng</a>开启vnc服务</p>\n<p>这个方案的尴尬之处在于：随着Android版本升级，安全性的提高，导致开启vnc服务需要跨越的系统级障碍增加。</p>\n<p>于是各路APP都在想办法在非root的情况下开启远程桌面服务：VNC server app for Android that does not require root privileges.</p>\n<p>测试中：<a href=\"https://github.com/yrom/ScreenRecorder\">https://github.com/yrom/ScreenRecorder</a></p>\n<p>Implement screen capture without root on Android 5.0+ by using MediaProjectionManager, VirtualDisplay, AudioRecord, MediaCodec and MediaMuxer APIs</p>\n<h2 id=\"8-用scrcpy连接Android调试功能实现远程控制\"><a href=\"#8-用scrcpy连接Android调试功能实现远程控制\" class=\"headerlink\" title=\"8. 用scrcpy连接Android调试功能实现远程控制\"></a>8. 用scrcpy连接Android调试功能实现远程控制</h2><p>详见：<a href=\"https://www.carlzeng.com/202312121225.html\">安卓手机投屏至电脑, 电脑显示和控制安卓手机, 手机电脑同屏软件Scrcpy-CarlZeng</a></p>\n<h2 id=\"9-hsslive-cn-测试\"><a href=\"#9-hsslive-cn-测试\" class=\"headerlink\" title=\"9. hsslive.cn 测试\"></a>9. hsslive.cn 测试</h2><p>切换服务到: <a href=\"https://desk.hsslive.cn/#/\">https://desk.hsslive.cn/#/</a>  (作者: <a href=\"https://github.com/galaxy-s10\">https://github.com/galaxy-s10</a>)</p>\n<p>免费流畅的远程体验基于WebRTC+Flutter+Vue3+Nodejs </p>\n<p>实现电脑对电脑, 电脑对手机, 甚至可以手机对电脑的远程控制</p>\n<p>(类似于todesk, 或 向日葵功能); 下载: <a href=\"https://desk.hsslive.cn/#/release\">https://desk.hsslive.cn/#/release</a></p>\n<p>免费方案，是作者推荐的方案：BilldDesk Pro + 自建中继服务器。即直接使用现有的 BilldDesk Pro，自己再额外部署一个中继服务器，然后在 BilldDesk Pro 里面使用自建的中继服务器。这样优点是不使用官方的共享服务器，享受独立的中继服务器，远程控制更流畅。</p>\n<p>测试后放弃该方案, 原因:</p>\n<ol>\n<li>下载客户端的链接是各种网盘, (很不正式, github上的版本太久, 下载下来又提示强制更新)</li>\n<li>客户端也要注册用户, 这个步骤对于‘懒人’用户不友好, 不主控的话, 别强制注册, 自动一下呢?</li>\n<li>界面用的词语不恰当: 主控, 被控; 不适合我的应用场景; 给客户不安全感</li>\n</ol>\n","more":"<h1 id=\"有什么用\"><a href=\"#有什么用\" class=\"headerlink\" title=\"有什么用\"></a>有什么用</h1><p>在寻找远程协助客户, 家人, 朋友的手机或电脑时，寻找最佳体验的解决办法</p>\n<p>比如：想现场讲解如何操作，演示操作过程，代替朋友协助操作软件系统画面</p>\n<p>下一步计划: </p>\n<h1 id=\"怎么用\"><a href=\"#怎么用\" class=\"headerlink\" title=\"怎么用\"></a>怎么用</h1><p>国内用ToDesk 国外用RustDesk，不是没有道理的，ToDesk国内有中转服务器架设，这样使用的体验上就比RustDesk（开源）的要好；除非我们自己架设RustDesk服务器节点，可是即便这么做了，还得需要编译RustDesk的手机和电脑端APP，这样才能避免受协助端无需去操作界面填写服务器地址端口等等信息（因为需要协助的人，如果很懂IT，那ta很可能性不需要协助了）</p>\n<p>完美的协助流程：</p>\n<ol>\n<li>发送被控端（受协助对象）APP给需要协助的家人朋友或客户，让对方安装到手机或者电脑上（不如什么平台的电脑：Windows，MAC，Ubuntu等等）</li>\n<li>沟通获取被控端提供，远程协助的ID</li>\n<li>在控制端，输入远程协助ID，点击连接<ol>\n<li>有时，还需要被控端接受远程协助的确认点击。</li>\n</ol>\n</li>\n</ol>\n<h1 id=\"相关内容\"><a href=\"#相关内容\" class=\"headerlink\" title=\"相关内容\"></a>相关内容</h1><iframe style=\"box-shadow: 0px 0px 20px -10px;\" src=\"https://query.carlzeng.com:3/appsearch?q=远程协助\" frameborder=\"0\" scrolling=\"auto\" width=\"100%\" height=\"500\"></iframe>\n\n<h1 id=\"实现方法\"><a href=\"#实现方法\" class=\"headerlink\" title=\"实现方法\"></a>实现方法</h1><p>手机的远程控制APP，实现远程操作安卓手机，可能需要越狱？</p>\n<h2 id=\"1-TeamViewer\"><a href=\"#1-TeamViewer\" class=\"headerlink\" title=\"1. TeamViewer\"></a>1. TeamViewer</h2><p><a href=\"https://www.youtube.com/watch?v=UXRvw49jH3s\">https://www.youtube.com/watch?v=UXRvw49jH3s</a></p>\n<h2 id=\"2-锐连-随时随地远程协助-https-remobax-top\"><a href=\"#2-锐连-随时随地远程协助-https-remobax-top\" class=\"headerlink\" title=\"2. 锐连 随时随地远程协助 https://remobax.top/\"></a>2. 锐连 随时随地远程协助 <a href=\"https://remobax.top/\">https://remobax.top/</a></h2><pre><code>忘记以前那个什么app了，手机内存找一找  \n    如何使用AirMirror App实现手机远程控制手机？ AirDroid\n    https://github.com/bk138/droidVNC-NG\n    https://f-droid.org/packages/net.christianbeier.droidvnc_ng/\n</code></pre>\n<h2 id=\"3-ToDesk-或者-选择anydesk-同样的原理还免费，但是大陆不开梯子会很卡\"><a href=\"#3-ToDesk-或者-选择anydesk-同样的原理还免费，但是大陆不开梯子会很卡\" class=\"headerlink\" title=\"3. ToDesk 或者 选择anydesk(同样的原理还免费，但是大陆不开梯子会很卡)\"></a>3. ToDesk 或者 选择anydesk(同样的原理还免费，但是大陆不开梯子会很卡)</h2><p>ToDesk，远程客户请使用官方的精简版，</p>\n<p>​\t下载链接1: <a href=\"https://dl.todesk.com/windows/ToDesk_Lite.exe\">https://dl.todesk.com/windows/ToDesk_Lite.exe</a> 或者 <a href=\"https://file.carlzeng.com:3/d/SWITCH%E4%BB%BB%E5%A4%A9%E5%A0%82/ToDesk_Lite.exe\">https://file.carlzeng.com:3/d/SWITCH%E4%BB%BB%E5%A4%A9%E5%A0%82/ToDesk_Lite.exe</a></p>\n<p>​\t</p>\n<h2 id=\"4-rustdesk\"><a href=\"#4-rustdesk\" class=\"headerlink\" title=\"4. rustdesk\"></a>4. rustdesk</h2><pre><code>How to modify the client default server address in the code \n自己搭建服务器，但是每次发给别人都需要去改服务器地址，修改代码的那个位置，可以默认服务器ip，以后发给别人都可以不用添加服务器地址？\nhttps://github.com/rustdesk/rustdesk/discussions/2236\n    Sciter.JS - HTML/CSS/JS embeddable engine.\n\nhttp://aizuda.com/article/1088975\ndocker-compose 部署restdesk服务器\n</code></pre>\n<h2 id=\"4-1-Docker-build\"><a href=\"#4-1-Docker-build\" class=\"headerlink\" title=\"4.1 Docker build\"></a>4.1 Docker build</h2><pre><code>#8 83.01 Environment variable VCPKG_FORCE_SYSTEM_BINARIES must be set on arm, s390x, ppc64le and riscv platforms.\n</code></pre>\n<p>解决办法：拆分成三个独立的命令</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">RUN git clone --branch 2023.04.15 --depth=1 https://github.com/microsoft/vcpkg --single-branch</span><br><span class=\"line\">RUN /vcpkg/bootstrap-vcpkg.sh -disableMetrics</span><br><span class=\"line\">RUN /vcpkg/vcpkg --disable-metrics install libvpx libyuv opus aom</span><br></pre></td></tr></table></figure>\n\n<pre><code>方向性错误，编译出windows，mac的客户端没有意义；我需要编译出APK\n</code></pre>\n<h2 id=\"4-2-rustdesk-flutter\"><a href=\"#4-2-rustdesk-flutter\" class=\"headerlink\" title=\"4.2 rustdesk&#x2F;flutter&#x2F;\"></a>4.2 rustdesk&#x2F;flutter&#x2F;</h2><p><a href=\"https://github.com/rustdesk/rustdesk/tree/master/flutter\">https://github.com/rustdesk/rustdesk/tree/master/flutter</a><br>    85 mins remaining</p>\n<p>测试了一下国内直连默认服务器使用，安卓端的按键和确认动作太多，延迟太大了<br>难怪方案：国内用todesk，国外用rustdesk; </p>\n<p>尝试自建服务器</p>\n<h3 id=\"docker-compose-自建ID和relay服务器\"><a href=\"#docker-compose-自建ID和relay服务器\" class=\"headerlink\" title=\"docker-compose 自建ID和relay服务器\"></a>docker-compose 自建ID和relay服务器</h3><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">services:</span></span><br><span class=\"line\">  <span class=\"attr\">hbbs:</span></span><br><span class=\"line\">    <span class=\"attr\">container_name:</span> <span class=\"string\">hbbs</span></span><br><span class=\"line\">    <span class=\"attr\">image:</span> <span class=\"string\">rustdesk/rustdesk-server:latest</span></span><br><span class=\"line\">    <span class=\"attr\">environment:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">ALWAYS_USE_RELAY=Y</span></span><br><span class=\"line\">    <span class=\"attr\">command:</span> <span class=\"string\">hbbs</span></span><br><span class=\"line\">    <span class=\"attr\">volumes:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">./data:/root</span></span><br><span class=\"line\">    <span class=\"attr\">network_mode:</span> <span class=\"string\">&quot;host&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"attr\">depends_on:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">hbbr</span></span><br><span class=\"line\">    <span class=\"attr\">restart:</span> <span class=\"string\">unless-stopped</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">hbbr:</span></span><br><span class=\"line\">    <span class=\"attr\">container_name:</span> <span class=\"string\">hbbr</span></span><br><span class=\"line\">    <span class=\"attr\">image:</span> <span class=\"string\">rustdesk/rustdesk-server:latest</span></span><br><span class=\"line\">    <span class=\"attr\">command:</span> <span class=\"string\">hbbr</span></span><br><span class=\"line\">    <span class=\"attr\">volumes:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">./data:/root</span></span><br><span class=\"line\">    <span class=\"attr\">network_mode:</span> <span class=\"string\">&quot;host&quot;</span></span><br><span class=\"line\">    <span class=\"attr\">restart:</span> <span class=\"string\">unless-stopped</span></span><br></pre></td></tr></table></figure>\n\n\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[src/common.rs:147] Private/public key written to id_ed25519/id_ed25519.pub</span><br><span class=\"line\">hbbs  | [2025-12-29 13:32:49.446375 +00:00] INFO [src/rendezvous_server.rs:1205] Key: huHpigOnBqrvwEH3eBFKULUWgiywtacmBpyJpupxyTE=</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">carlzeng@MacBookPro ~ % nc -vz 192.168.6.117 21114</span><br><span class=\"line\">nc: connectx to 192.168.6.117 port 21114 (tcp) failed: Connection refused</span><br><span class=\"line\">carlzeng@MacBookPro ~ % nc -vz 192.168.6.117 21115</span><br><span class=\"line\">Connection to 192.168.6.117 port 21115 [tcp/*] succeeded!</span><br><span class=\"line\">carlzeng@MacBookPro ~ % nc -vz 192.168.6.117 21116</span><br><span class=\"line\">Connection to 192.168.6.117 port 21116 [tcp/*] succeeded!</span><br><span class=\"line\">carlzeng@MacBookPro ~ % nc -vz 192.168.6.117 21117</span><br><span class=\"line\">Connection to 192.168.6.117 port 21117 [tcp/*] succeeded!</span><br><span class=\"line\">carlzeng@MacBookPro ~ % nc -vz 192.168.6.117 21118</span><br><span class=\"line\">Connection to 192.168.6.117 port 21118 [tcp/*] succeeded!</span><br><span class=\"line\">carlzeng@MacBookPro ~ % nc -vz 192.168.6.117 21119</span><br><span class=\"line\">Connection to 192.168.6.117 port 21119 [tcp/*] succeeded!</span><br></pre></td></tr></table></figure>\n\n<p>TODO:   故障: 转发后, 无法连接到本地服务器的21116 和 21117.</p>\n<p>解决过程:</p>\n<p>​\t重启以后, 依旧失效, 无法连接到117明明是开放着的21117; 其他端口设置了转发就有成功的… 为何就是改的这几个端口死活就是无法链接呢? </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">carlzeng@MacBookPro ~ % nc -vz 111.193.104.114 11117                                                             </span><br><span class=\"line\">nc: connectx to 111.193.104.114 port 11117 (tcp) failed: Connection refused                                      </span><br><span class=\"line\">carlzeng@MacBookPro ~ % nc -vz 111.193.104.114 3                                                                 </span><br><span class=\"line\">Connection to 111.193.104.114 port 3 [tcp/compressnet] succeeded!                                                </span><br><span class=\"line\">carlzeng@MacBookPro ~ % nc -vz 111.193.104.114 6                                                                 </span><br><span class=\"line\">Connection to 111.193.104.114 port 6 [tcp/*] succeeded!</span><br><span class=\"line\"></span><br><span class=\"line\">carlzeng@MacBookPro ~ % nc -vz 111.193.104.114 1117</span><br><span class=\"line\">Connection to 111.193.104.114 port 1117 [tcp/ardus-mtrns] succeeded!</span><br><span class=\"line\">carlzeng@MacBookPro ~ % nc -vz 111.193.104.114 1116</span><br><span class=\"line\">Connection to 111.193.104.114 port 1116 [tcp/ardus-cntl] succeeded!</span><br></pre></td></tr></table></figure>\n\n<p>原来又是运营商搞的鬼;   当路由器端完成了转发后, 其实流量数据包是在运营商那端被丢弃的, 导致(tcp) failed: Connection refused.</p>\n<p>切换到小的端口值号时候, 可以正常连接了服务器节点. </p>\n<p>安装安卓默认版本, 统一网络下连接顺利</p>\n<p>故障: 移动网络中的安卓, 无法连接到id服务器(切换端口到116, 117以后可以连接到RustDesk网络, 就绪. 偶尔断开)</p>\n<p>当手机的网络属于‘中国移动’的网络时, 无法从MAC连接进行远程协助.(即便是状态显示就绪; 很快又跳成未就绪, 请检查网络连接)</p>\n<p>本小结又参考阅读了: <a href=\"https://www.cnblogs.com/ryanyangcs/p/18186163\">RustDesk 自建服务器部署和使用教程</a></p>\n<h2 id=\"5-parsec\"><a href=\"#5-parsec\" class=\"headerlink\" title=\"5. parsec\"></a>5. parsec</h2><p>no.</p>\n<h2 id=\"6-frp方案\"><a href=\"#6-frp方案\" class=\"headerlink\" title=\"6. frp方案\"></a>6. frp方案</h2><p>厉害了 （从rustdesk无人值守，入口找到的个人站）<br><a href=\"https://zsxwz.com/\">https://zsxwz.com/</a><br><a href=\"https://shop.zsxwz.shop/\">https://shop.zsxwz.shop</a></p>\n<p>如何配置域名访问？反代？</p>\n<h2 id=\"7-手机上VNC服务端可从F-Droid下载droidvnc-ng开启服务\"><a href=\"#7-手机上VNC服务端可从F-Droid下载droidvnc-ng开启服务\" class=\"headerlink\" title=\"7. 手机上VNC服务端可从F-Droid下载droidvnc-ng开启服务\"></a>7. 手机上VNC服务端可从F-Droid下载droidvnc-ng开启服务</h2><p><a href=\"https://www.bilibili.com/read/cv21492779/\">https://www.bilibili.com/read/cv21492779/</a><br>被控端B： frpc穿透后，用<a href=\"https://github.com/bk138/droidVNC-NG\">droidvnc-ng</a>开启vnc服务</p>\n<p>这个方案的尴尬之处在于：随着Android版本升级，安全性的提高，导致开启vnc服务需要跨越的系统级障碍增加。</p>\n<p>于是各路APP都在想办法在非root的情况下开启远程桌面服务：VNC server app for Android that does not require root privileges.</p>\n<p>测试中：<a href=\"https://github.com/yrom/ScreenRecorder\">https://github.com/yrom/ScreenRecorder</a></p>\n<p>Implement screen capture without root on Android 5.0+ by using MediaProjectionManager, VirtualDisplay, AudioRecord, MediaCodec and MediaMuxer APIs</p>\n<h2 id=\"8-用scrcpy连接Android调试功能实现远程控制\"><a href=\"#8-用scrcpy连接Android调试功能实现远程控制\" class=\"headerlink\" title=\"8. 用scrcpy连接Android调试功能实现远程控制\"></a>8. 用scrcpy连接Android调试功能实现远程控制</h2><p>详见：<a href=\"https://www.carlzeng.com/202312121225.html\">安卓手机投屏至电脑, 电脑显示和控制安卓手机, 手机电脑同屏软件Scrcpy-CarlZeng</a></p>\n<h2 id=\"9-hsslive-cn-测试\"><a href=\"#9-hsslive-cn-测试\" class=\"headerlink\" title=\"9. hsslive.cn 测试\"></a>9. hsslive.cn 测试</h2><p>切换服务到: <a href=\"https://desk.hsslive.cn/#/\">https://desk.hsslive.cn/#/</a>  (作者: <a href=\"https://github.com/galaxy-s10\">https://github.com/galaxy-s10</a>)</p>\n<p>免费流畅的远程体验基于WebRTC+Flutter+Vue3+Nodejs </p>\n<p>实现电脑对电脑, 电脑对手机, 甚至可以手机对电脑的远程控制</p>\n<p>(类似于todesk, 或 向日葵功能); 下载: <a href=\"https://desk.hsslive.cn/#/release\">https://desk.hsslive.cn/#/release</a></p>\n<p>免费方案，是作者推荐的方案：BilldDesk Pro + 自建中继服务器。即直接使用现有的 BilldDesk Pro，自己再额外部署一个中继服务器，然后在 BilldDesk Pro 里面使用自建的中继服务器。这样优点是不使用官方的共享服务器，享受独立的中继服务器，远程控制更流畅。</p>\n<p>测试后放弃该方案, 原因:</p>\n<ol>\n<li>下载客户端的链接是各种网盘, (很不正式, github上的版本太久, 下载下来又提示强制更新)</li>\n<li>客户端也要注册用户, 这个步骤对于‘懒人’用户不友好, 不主控的话, 别强制注册, 自动一下呢?</li>\n<li>界面用的词语不恰当: 主控, 被控; 不适合我的应用场景; 给客户不安全感</li>\n</ol>","categories":[{"name":"远程协助","path":"api/categories/远程协助.json"}],"tags":[{"name":"frp","path":"api/tags/frp.json"},{"name":"ToDesk","path":"api/tags/ToDesk.json"},{"name":"RustDesk","path":"api/tags/RustDesk.json"},{"name":"远程协助","path":"api/tags/远程协助.json"}]}