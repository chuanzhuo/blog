{"title":"案例展示NetSuite UI界面中创建动态下拉列表","slug":"案例展示NetSuite-UI界面中创建动态下拉列表","date":"2024-06-13T14:47:13.000Z","updated":"2024-06-19T13:55:51.928Z","comments":true,"path":"api/articles/案例展示NetSuite-UI界面中创建动态下拉列表.json","excerpt":" [Figure] 在NetSuite的主界面或列表中，创建动态下拉子列表，无缝嵌入到商业应用流程中","covers":["https://img.carlzeng.top:3/i/2024/06/19/6672a7121c35c.png","https://img.carlzeng.top:3/i/2024/06/18/6671838d0e787.png","https://img.carlzeng.top:3/i/2024/06/19/6672a5d64b868.png","https://img.carlzeng.top:3/i/2024/06/19/6672e2c4ae1ab.png","https://img.carlzeng.top:3/i/2024/06/15/666d9804768ee.png","https://img.carlzeng.top:3/i/2024/06/15/666d98635ec4e.png"],"content":"<img class=\"lozad\" data-src=\"https://img.carlzeng.top:3/i/2024/06/19/6672a7121c35c.png\">\n\n<p>在NetSuite的主界面或列表中，创建动态下拉子列表，无缝嵌入到商业应用流程中</p>\n<span id=\"more\"></span>\n\n<div> \n<button onclick=\"synthesizeSpeech()\">朗读全文</button>\n</div>\n<audio controls id=\"audioPlayer\">Your browser does not support the audio element.</audio>      \n<script>\n  function synthesizeSpeech() { \n    var inputText = document.getElementsByClassName('post-block')[0].innerText;\n    var voice = \"ZH\";\n    var url = 'https://tts.carlzeng.top:3/speech?text=' + encodeURIComponent(inputText.substring(0,3000)) + '&voice=' + voice;\n    var audioPlayer = document.getElementById('audioPlayer');          \n    audioPlayer.src = url;\n    audioPlayer.load();\n    audioPlayer.play();\n  }\n</script>\n\n\n<h1 id=\"有什么用\"><a href=\"#有什么用\" class=\"headerlink\" title=\"有什么用\"></a>有什么用</h1><p>学会如何在NetSuite UI界面中创建动态下拉列表</p>\n<ul>\n<li>在主界面(Custom Body Field)中创建动态下拉列表字段</li>\n<li>在列表行(Custom Line Item Field)中创建动态下拉列表字段</li>\n</ul>\n<p>在现实业务流程中，这样的动态下拉列表应用十分广泛；而NetSuite自带的自定义字段的动态下来过滤功能十分有限。很多的应用场景无法满足，这里就不一一展开说明，懂的都懂。</p>\n<h1 id=\"需求\"><a href=\"#需求\" class=\"headerlink\" title=\"需求\"></a>需求</h1><p><img data-src=\"https://img.carlzeng.top:3/i/2024/06/18/6671838d0e787.png\" alt=\"image-20240618205434547\"></p>\n<p>本案例：要在下拉列表中，将Replacement Vendor字段的内容，动态地根据Replacement Item字段的内容而决定。就是根据Item货品的供应商列表来过滤当前自定义记录界面中的Replacement Vendor字段的下拉内容，从而达到Replacement Vendor字段的下拉列表不展示系统中所有的Vendor，而是限定于特定Item货品（当前行中的货品字段）的供应商列表（这个使用其实也同时可以展示该供应商的此货品采购价）</p>\n<h1 id=\"怎么用\"><a href=\"#怎么用\" class=\"headerlink\" title=\"怎么用\"></a>怎么用</h1><ol>\n<li>创建一个系统中的自定义字段<ol>\n<li>如果是把动态列表放在主界面，那么该‘容器’字段也可以使用UserEvent的script生成出这个一个动态的自定义字段。</li>\n<li>如果是把动态列表放在主界面下的列表中（比如：销售订单的货品列表中），那么就必须要新建一个自定义列字段；</li>\n<li>而假如是要把动态列表放在主界面下的列表中（比如：主从关系的自定义记录类型Custom Record Type），那么就是新建一个自定字段在在子记录类型中（这个子自定义记录类型在UI中会变成一个列表sublist）</li>\n</ol>\n</li>\n<li>新建一个Library脚本文件Script（详见下方的PRI_DropDown_lib.js文件全部内容展示）</li>\n<li>创建一个User Event Script记录<ol>\n<li>用来新建初始化字段（可选，根据实际需要）</li>\n<li>用来初始化字段的HTML内容；这个初始化内容是根据列表中当前的货品来决定的，UI的编辑状态用户是可以随时在界面中切换货品字段内容，从而需要重新初始化该HTML内容（详见实现在下方的Client Script中）</li>\n</ol>\n</li>\n<li>创建一个Client Script记录<ol>\n<li>在列表的line init事件中，初始化当前行的Vendor列表（根据当前的货品字段内容）</li>\n<li>在用户切换了Item货品字段内容后，重新刷新初始化当前行的Vendor列表</li>\n</ol>\n</li>\n</ol>\n<h1 id=\"相关内容\"><a href=\"#相关内容\" class=\"headerlink\" title=\"相关内容\"></a>相关内容</h1><iframe style=\"box-shadow: 0px 0px 20px -10px;\" src=\"https://query.carlzeng.top:3/appsearch?q=netsuite\" frameborder=\"0\" scrolling=\"auto\" width=\"100%\" height=\"500\"></iframe>\n\n<h1 id=\"实现方法\"><a href=\"#实现方法\" class=\"headerlink\" title=\"实现方法\"></a>实现方法</h1><h2 id=\"Create-Custom-Field\"><a href=\"#Create-Custom-Field\" class=\"headerlink\" title=\"Create Custom Field\"></a>Create Custom Field</h2><p>新建自定义字段的定义案例：</p>\n<p><img data-src=\"https://img.carlzeng.top:3/i/2024/06/19/6672a5d64b868.png\" alt=\"image-20240619173308707\"></p>\n<p>说明：这个字段的TYPE，用Free Form Text也是一样的。</p>\n<h2 id=\"User-Event\"><a href=\"#User-Event\" class=\"headerlink\" title=\"User Event\"></a>User Event</h2><p>to initial the UI to put-in&#x2F;inject the dropdown HTML</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> intDefProject = currentRecord.<span class=\"title function_\">getValue</span>(<span class=\"string\">&#x27;custbody_pri_prj&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> clsProjectDropDown = <span class=\"keyword\">new</span> <span class=\"variable constant_\">CLLIB</span>.<span class=\"title function_\">PROJECTDROPDOWN</span>(intEntityId,</span><br><span class=\"line\">    <span class=\"string\">&#x27;&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Set entity projects dropdown options HTML</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> strInitSelectHtml = clsProjectDropDown.<span class=\"title function_\">initOptionHtml</span>(</span><br><span class=\"line\">    intDefProject, scriptContext.<span class=\"property\">type</span>);</span><br><span class=\"line\">objFldProject.<span class=\"property\">defaultValue</span> = <span class=\"string\">&quot;&lt;div class=\\&quot;uir-field-wrapper\\&quot; data-field-type=\\&quot;text\\&quot;&gt;&lt;span id=\\&quot;projectdropdown_fs_lbl_uir_label\\&quot; class=\\&quot;smallgraytextnolink uir-label \\&quot;&gt;&lt;span id=\\&quot;projectdropdown_fs_lbl\\&quot; class=\\&quot;labelSpanEdit smallgraytextnolink\\&quot; style=\\&quot;\\&quot;&gt;&quot;</span></span><br><span class=\"line\">    + <span class=\"string\">&quot;&lt;a tabindex=\\&quot;-1\\&quot; title=\\&quot;What&#x27;s this?\\&quot; href=&#x27;javascript:void(\\&quot;help\\&quot;)&#x27; style=\\&quot;cursor:help\\&quot;  class=\\&quot;smallgraytextnolink\\&quot; onmouseover=\\&quot;this.className=&#x27;smallgraytext&#x27;; return true;\\&quot; onmouseout=\\&quot;this.className=&#x27;smallgraytextnolink&#x27;; \\&quot;&gt;&quot;</span></span><br><span class=\"line\">    + strPrjLbl</span><br><span class=\"line\">    + <span class=\"string\">&quot;&lt;/a&gt;&quot;</span></span><br><span class=\"line\">    + <span class=\"string\">&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=\\&quot;uir-field\\&quot;&gt;&quot;</span></span><br><span class=\"line\">    + strInitSelectHtml + <span class=\"string\">&quot;&lt;/span&gt;&quot;</span> + <span class=\"string\">&quot;&lt;/div&gt;&quot;</span>;</span><br></pre></td></tr></table></figure>\n\n<p>上面这个方案是直接注入到系统的自定义字段中（在NetSuite系统的自定义字段中定义的）</p>\n<p>或者使用全新的Script新增的动态的html字段</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> objFldProject = objForm.<span class=\"title function_\">addField</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">id</span>: <span class=\"string\">&#x27;custpage_pri_prj&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">type</span>: ui.<span class=\"property\">FieldType</span>.<span class=\"property\">INLINEHTML</span>,</span><br><span class=\"line\">    <span class=\"attr\">label</span>: strPrjLbl</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">objForm.<span class=\"title function_\">insertField</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">field</span>: objFldProject,</span><br><span class=\"line\">    <span class=\"attr\">nextfield</span>: <span class=\"string\">&#x27;custbody_pri_co&#x27;</span>,<span class=\"comment\">// &#x27;job&#x27;</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">objFldProject.<span class=\"property\">defaultValue</span> = <span class=\"string\">&quot;&lt;div class=\\&quot;uir-field-wrapper\\&quot; data-field-type=\\&quot;text\\&quot;&gt;&lt;span id=\\&quot;projectdropdown_fs_lbl_uir_label\\&quot; class=\\&quot;smallgraytextnolink uir-label \\&quot;&gt;&lt;span id=\\&quot;projectdropdown_fs_lbl\\&quot; class=\\&quot;labelSpanEdit smallgraytextnolink\\&quot; style=\\&quot;\\&quot;&gt;&quot;</span></span><br><span class=\"line\">    + <span class=\"string\">&quot;&lt;a tabindex=\\&quot;-1\\&quot; title=\\&quot;What&#x27;s this?\\&quot; href=&#x27;javascript:void(\\&quot;help\\&quot;)&#x27; style=\\&quot;cursor:help\\&quot;  class=\\&quot;smallgraytextnolink\\&quot; onmouseover=\\&quot;this.className=&#x27;smallgraytext&#x27;; return true;\\&quot; onmouseout=\\&quot;this.className=&#x27;smallgraytextnolink&#x27;; \\&quot;&gt; &quot;</span></span><br><span class=\"line\">    + strPrjLbl</span><br><span class=\"line\">    + <span class=\"string\">&quot;&lt;/a&gt;&quot;</span></span><br><span class=\"line\">    + <span class=\"string\">&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=\\&quot;uir-field\\&quot;&gt;&quot;</span></span><br><span class=\"line\">    + <span class=\"string\">&quot;&lt;select id=\\&quot;custpage_projectdropdown\\&quot; name=\\&quot;custpage_projectdropdown\\&quot; autocomplete=\\&quot;off\\&quot; lineindex=\\&quot;1\\&quot; class=\\&quot;input uir-custom-field\\&quot;&gt;&quot;</span></span><br><span class=\"line\">    + <span class=\"string\">&quot;&lt;option value=\\&quot;\\&quot;&gt; &lt;/option&gt;&quot;</span></span><br><span class=\"line\">    + <span class=\"string\">&quot;&lt;/select&gt;&quot;</span></span><br><span class=\"line\">    + <span class=\"string\">&quot;&lt;/span&gt;&quot;</span> + <span class=\"string\">&quot;&lt;/div&gt;&quot;</span> + <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n\n\n<hr>\n<h2 id=\"Client-Script-dynamic-behaviors\"><a href=\"#Client-Script-dynamic-behaviors\" class=\"headerlink\" title=\"Client Script dynamic behaviors\"></a>Client Script dynamic behaviors</h2><h3 id=\"pageInit\"><a href=\"#pageInit\" class=\"headerlink\" title=\"pageInit\"></a>pageInit</h3><p>可选，仅用于使用主界面的系统自带自定义字段来‘加载’动态列表的情况下</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">\t\t\t * Function to be executed after page is initialized.</span></span><br><span class=\"line\"><span class=\"comment\">\t\t\t *</span></span><br><span class=\"line\"><span class=\"comment\">\t\t\t * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">Object</span>&#125;</span></span><br><span class=\"line\"><span class=\"comment\">\t\t\t *            scriptContext</span></span><br><span class=\"line\"><span class=\"comment\">\t\t\t * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">Record</span>&#125;</span></span><br><span class=\"line\"><span class=\"comment\">\t\t\t *            scriptContext.currentRecord - Current form record</span></span><br><span class=\"line\"><span class=\"comment\">\t\t\t * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">string</span>&#125;</span></span><br><span class=\"line\"><span class=\"comment\">\t\t\t *            scriptContext.mode - The mode in which the record is</span></span><br><span class=\"line\"><span class=\"comment\">\t\t\t *            being accessed (create, copy, or edit)</span></span><br><span class=\"line\"><span class=\"comment\">\t\t\t *</span></span><br><span class=\"line\"><span class=\"comment\">\t\t\t * <span class=\"doctag\">@since</span> 2015.2</span></span><br><span class=\"line\"><span class=\"comment\">\t\t\t */</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">pageInit</span>(<span class=\"params\">scriptContext</span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  ...</span><br><span class=\"line\">  </span><br><span class=\"line\">    <span class=\"comment\">// Bind select option change event</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> clsProjectDropDown = <span class=\"keyword\">new</span> <span class=\"variable constant_\">CLLIB</span>.<span class=\"title function_\">PROJECTDROPDOWN</span>(intEntityId,</span><br><span class=\"line\">          objDropdownDom, &#123;<span class=\"string\">&#x27;currentRecord&#x27;</span>: currentRecord&#125;);</span><br><span class=\"line\">    clsProjectDropDown.<span class=\"title function_\">bindSelectEvent</span>();</span><br><span class=\"line\">  </span><br><span class=\"line\">  ...</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">  </span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"fieldChanged\"><a href=\"#fieldChanged\" class=\"headerlink\" title=\"fieldChanged\"></a>fieldChanged</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fieldChanged</span>(<span class=\"params\">scriptContext</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">switch</span> (scriptContext.<span class=\"property\">fieldId</span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">case</span> ....</span><br><span class=\"line\">      </span><br><span class=\"line\">      <span class=\"comment\">// Bind select option change event</span></span><br><span class=\"line\">      <span class=\"keyword\">var</span> clsProjectDropDown = <span class=\"keyword\">new</span> <span class=\"variable constant_\">CLLIB</span>.<span class=\"title function_\">PROJECTDROPDOWN</span>(</span><br><span class=\"line\">            intEntityId, objDropdownDom, &#123;<span class=\"string\">&#x27;currentRecord&#x27;</span>: currentRecord&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (!intEntityId) &#123;</span><br><span class=\"line\">         clsProjectDropDown.<span class=\"title function_\">clearSelectOptions</span>();</span><br><span class=\"line\">         <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// Draw entity project dropdown options</span></span><br><span class=\"line\">      clsProjectDropDown.<span class=\"title function_\">drawDOM</span>();</span><br><span class=\"line\">  \t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">      </span><br></pre></td></tr></table></figure>\n\n<p>pri_RetMgr_vendor_refreshSelectOption</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">pri_RetMgr_vendor_refreshSelectOption</span>(<span class=\"params\">currentRecord</span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">var</span> lnIdx = currentRecord.<span class=\"title function_\">getCurrentSublistIndex</span>(&#123;</span><br><span class=\"line\">        <span class=\"attr\">sublistId</span>: strSublistId_replc</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> intItemId = currentRecord.<span class=\"title function_\">getCurrentSublistValue</span>(strSublistId_replc, <span class=\"variable constant_\">RETMGRLIB</span>.<span class=\"property\">REC_RETURNMGR_REPLC_LINE</span>.<span class=\"property\">ITEM</span>);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> intVendorId_cur = currentRecord.<span class=\"title function_\">getCurrentSublistValue</span>(strSublistId_replc, <span class=\"variable constant_\">RETMGRLIB</span>.<span class=\"property\">REC_RETURNMGR_REPLC_LINE</span>.<span class=\"property\">VENDOR</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">var</span> objDropdownDom = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;recmachcustrecord_pri_return_mgr_replc_parent_custrecord_pri_return_mgr_replc_selvnd_fs&#x27;</span>);</span><br><span class=\"line\">        <span class=\"comment\">// Bind select option change event</span></span><br><span class=\"line\">        <span class=\"keyword\">var</span> clsVendorDropDown = <span class=\"keyword\">new</span> <span class=\"variable constant_\">DDLIB</span>.<span class=\"title function_\">DROPDOWN</span>(intItemId, objDropdownDom, &#123;<span class=\"string\">&#x27;currentRecord&#x27;</span>: currentRecord&#125;);</span><br><span class=\"line\">        <span class=\"title function_\">jQuery</span>(<span class=\"string\">&#x27;#recmachcustrecord_pri_return_mgr_replc_parent_custrecord_pri_return_mgr_replc_selvnd_fs&#x27;</span>).<span class=\"title function_\">html</span>(clsVendorDropDown.<span class=\"title function_\">initOptionHtml</span>(intVendorId_cur));</span><br><span class=\"line\">        clsVendorDropDown.<span class=\"title function_\">bindSelectEvent</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (ex) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(ex);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Special case: After you change the item from Item A to Item B, the original vendor value should/might be cleared(since that vendor is not in new Item B’s vendor list)</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (intVendorId_cur) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> bolVendorAvailable = <span class=\"literal\">false</span>;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> arrProjectResObj = clsVendorDropDown.<span class=\"property\">arrProjectResObj</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; arrProjectResObj &amp;&amp; i &lt; arrProjectResObj.<span class=\"property\">length</span>; i++) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (intVendorId_cur == arrProjectResObj[i].<span class=\"property\">ID</span>)&#123;</span><br><span class=\"line\">                bolVendorAvailable = <span class=\"literal\">true</span>;</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (bolVendorAvailable === <span class=\"literal\">false</span>)</span><br><span class=\"line\">            currentRecord.<span class=\"title function_\">setCurrentSublistValue</span>(&#123;</span><br><span class=\"line\">                <span class=\"attr\">sublistId</span>: strSublistId_replc,</span><br><span class=\"line\">                <span class=\"attr\">fieldId</span>: <span class=\"variable constant_\">RETMGRLIB</span>.<span class=\"property\">REC_RETURNMGR_REPLC_LINE</span>.<span class=\"property\">VENDOR</span>,</span><br><span class=\"line\">                <span class=\"attr\">value</span>: <span class=\"string\">&#x27;&#x27;</span></span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>从这个函数可以得知这个自定义的动态下拉字段，初始化的值也是会被加载的，非常顺滑。</p>\n<hr>\n<h2 id=\"Library-PRI-DropDown-lib-js\"><a href=\"#Library-PRI-DropDown-lib-js\" class=\"headerlink\" title=\"Library - PRI_DropDown_lib.js\"></a>Library - PRI_DropDown_lib.js</h2><p>used in both Client and UserEvent&#x2F;Server side. 核心公共函数库</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//------------------------------------------------------------------</span></span><br><span class=\"line\"><span class=\"comment\">//Developer: Carl</span></span><br><span class=\"line\"><span class=\"comment\">//Description: Need a dynamic Drop Down on the record/transaction of vendor list.</span></span><br><span class=\"line\"><span class=\"comment\">// Thus, the drop down on record/transaction should filter for item that are related.</span></span><br><span class=\"line\"><span class=\"comment\">//------------------------------------------------------------------</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@NApiVersion</span> 2.x</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@NModuleScope</span> <span class=\"variable\">Public</span></span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"title function_\">define</span>(</span><br><span class=\"line\">    [<span class=\"string\">&#x27;N/error&#x27;</span>, <span class=\"string\">&#x27;N/record&#x27;</span>, <span class=\"string\">&#x27;N/runtime&#x27;</span>, <span class=\"string\">&#x27;N/search&#x27;</span>, <span class=\"string\">&#x27;./PRI_RM_ReturnManager_lib&#x27;</span>],</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">error</span>&#125;</span></span><br><span class=\"line\"><span class=\"comment\">     *            error</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">record</span>&#125;</span></span><br><span class=\"line\"><span class=\"comment\">     *            record</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">runtime</span>&#125;</span></span><br><span class=\"line\"><span class=\"comment\">     *            runtime</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">search</span>&#125;</span></span><br><span class=\"line\"><span class=\"comment\">     *            search</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">dialog</span>&#125;</span></span><br><span class=\"line\"><span class=\"comment\">     *            dialog</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">function</span> (<span class=\"params\">error, record, runtime, search, RETMGRLIB</span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// ---------------------- Drop Down Class-----------------</span></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"title function_\">DROPDOWN</span>(<span class=\"params\">intItemId, objDropdownDom, options</span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">intItemId</span> = intItemId;</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">objDropdownDom</span> = objDropdownDom;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (intItemId) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">arrProjectResObj</span> = <span class=\"variable language_\">this</span>.<span class=\"title function_\">lookupVendorRecords</span>();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">strInitSelectFld</span> = <span class=\"string\">&quot;&lt;select id=\\&quot;custpage_projectdropdown\\&quot; name=\\&quot;custpage_projectdropdown\\&quot; autocomplete=\\&quot;off\\&quot; lineindex=\\&quot;1\\&quot; class=\\&quot;input uir-custom-field\\&quot;&gt;&quot;</span></span><br><span class=\"line\">                + <span class=\"string\">&quot;&lt;option value=\\&quot;\\&quot;&gt; &lt;/option&gt;&quot;</span></span><br><span class=\"line\">                + <span class=\"string\">&#x27;REPLACE_OPTIONAL_HTML&#x27;</span> + <span class=\"string\">&quot;&lt;/select&gt;&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (options &amp;&amp; <span class=\"keyword\">typeof</span> (options.<span class=\"property\">currentRecord</span>) != <span class=\"string\">&#x27;undefined&#x27;</span>) &#123;</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">currentRecord</span> = options.<span class=\"property\">currentRecord</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">         * lookup Vendor Records</span></span><br><span class=\"line\"><span class=\"comment\">         *</span></span><br><span class=\"line\"><span class=\"comment\">         * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">String</span>&#125;</span></span><br><span class=\"line\"><span class=\"comment\">         *            strLookupKeyWord Lookup Keyword</span></span><br><span class=\"line\"><span class=\"comment\">         * <span class=\"doctag\">@returns</span> &#123;<span class=\"type\">Object</span>&#125; <span class=\"variable\">objOrderStatusSublist</span></span></span><br><span class=\"line\"><span class=\"comment\">         */</span></span><br><span class=\"line\">        <span class=\"variable constant_\">DROPDOWN</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">lookupVendorRecords</span> = <span class=\"keyword\">function</span> (<span class=\"params\">strLookupKeyWord</span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">var</span> intItemId = <span class=\"variable language_\">this</span>.<span class=\"property\">intItemId</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!intItemId)</span><br><span class=\"line\">                <span class=\"keyword\">return</span> [];</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">var</span> arrProjectRes = [];</span><br><span class=\"line\">            <span class=\"keyword\">var</span> objFilters = [[<span class=\"string\">&#x27;isinactive&#x27;</span>, <span class=\"string\">&#x27;is&#x27;</span>, <span class=\"string\">&#x27;F&#x27;</span>]];</span><br><span class=\"line\">            <span class=\"comment\">// if (intItemId) &#123;</span></span><br><span class=\"line\">            <span class=\"comment\">// \tobjFilters.push(&#x27;and&#x27;);</span></span><br><span class=\"line\">            <span class=\"comment\">// \tobjFilters.push([ RETMGRLIB.REC_PRIPROJECT.CUSTOMER, &#x27;anyof&#x27;,</span></span><br><span class=\"line\">            <span class=\"comment\">// \t\t\t[ intItemId ] ]);</span></span><br><span class=\"line\">            <span class=\"comment\">// &#125;</span></span><br><span class=\"line\">            objFilters.<span class=\"title function_\">push</span>(<span class=\"string\">&#x27;and&#x27;</span>);</span><br><span class=\"line\">            objFilters.<span class=\"title function_\">push</span>([<span class=\"string\">&#x27;internalid&#x27;</span>, <span class=\"string\">&#x27;anyof&#x27;</span>, [intItemId]]);</span><br><span class=\"line\">            <span class=\"keyword\">var</span> objColumns = [<span class=\"string\">&#x27;itemid&#x27;</span>, <span class=\"string\">&#x27;displayname&#x27;</span>, <span class=\"string\">&#x27;othervendor&#x27;</span>, <span class=\"string\">&#x27;cost&#x27;</span>];</span><br><span class=\"line\">            objColumns.<span class=\"title function_\">push</span>(&#123;<span class=\"attr\">name</span>: <span class=\"string\">&quot;internalid&quot;</span>, <span class=\"attr\">join</span>: <span class=\"string\">&quot;vendor&quot;</span>&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">var</span> objRecordRes = search.<span class=\"title function_\">create</span>(</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"attr\">type</span>: <span class=\"string\">&#x27;item&#x27;</span>,</span><br><span class=\"line\">                    <span class=\"attr\">filters</span>: objFilters,</span><br><span class=\"line\">                    <span class=\"attr\">columns</span>: objColumns</span><br><span class=\"line\">                &#125;).<span class=\"title function_\">run</span>().<span class=\"title function_\">getRange</span>(&#123;</span><br><span class=\"line\">                <span class=\"attr\">start</span>: <span class=\"number\">0</span>,</span><br><span class=\"line\">                <span class=\"attr\">end</span>: <span class=\"number\">1000</span></span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; objRecordRes &amp;&amp; i &lt; objRecordRes.<span class=\"property\">length</span>; i++) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">                arrProjectRes.<span class=\"title function_\">push</span>(&#123;</span><br><span class=\"line\">                    <span class=\"attr\">ID</span>: objRecordRes[i].<span class=\"title function_\">getValue</span>(&#123;</span><br><span class=\"line\">                        <span class=\"attr\">name</span>: <span class=\"string\">&quot;internalid&quot;</span>,</span><br><span class=\"line\">                        <span class=\"attr\">join</span>: <span class=\"string\">&quot;vendor&quot;</span></span><br><span class=\"line\">                    &#125;),</span><br><span class=\"line\">                    <span class=\"comment\">// NAME: objRecordRes[i].getValue(&#x27;itemid&#x27;),</span></span><br><span class=\"line\">                    <span class=\"attr\">COST</span>: objRecordRes[i].<span class=\"title function_\">getValue</span>(<span class=\"string\">&#x27;cost&#x27;</span>),</span><br><span class=\"line\">                    <span class=\"attr\">VALUE</span>: objRecordRes[i].<span class=\"title function_\">getText</span>(<span class=\"string\">&#x27;othervendor&#x27;</span>)</span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">return</span> arrProjectRes;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">         * Dynamically clear select options</span></span><br><span class=\"line\"><span class=\"comment\">         *</span></span><br><span class=\"line\"><span class=\"comment\">         * <span class=\"doctag\">@returns</span> &#123;<span class=\"type\">Boolean</span>&#125;</span></span><br><span class=\"line\"><span class=\"comment\">         */</span></span><br><span class=\"line\">        <span class=\"variable constant_\">DROPDOWN</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">clearSelectOptions</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"title function_\">jQuery</span>(<span class=\"string\">&quot;#custpage_projectdropdown&quot;</span>).<span class=\"title function_\">replaceWith</span>(</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">strInitSelectFld</span>.<span class=\"title function_\">replace</span>(<span class=\"string\">&#x27;REPLACE_OPTIONAL_HTML&#x27;</span>,</span><br><span class=\"line\">                    <span class=\"string\">&#x27;&#x27;</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">         * Draw select option DOM element</span></span><br><span class=\"line\"><span class=\"comment\">         */</span></span><br><span class=\"line\">        <span class=\"variable constant_\">DROPDOWN</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">drawDOM</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">var</span> objDropdownDom = <span class=\"variable language_\">this</span>.<span class=\"property\">objDropdownDom</span>;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> arrProjectResObj = <span class=\"variable language_\">this</span>.<span class=\"property\">arrProjectResObj</span> ? <span class=\"variable language_\">this</span>.<span class=\"property\">arrProjectResObj</span> : <span class=\"variable language_\">this</span>.<span class=\"title function_\">lookupVendorRecords</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">var</span> strOptionHtml = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> idx = <span class=\"number\">0</span>; idx &lt; arrProjectResObj.<span class=\"property\">length</span>; idx++) &#123;</span><br><span class=\"line\">                strOptionHtml += <span class=\"string\">&#x27;&lt;option value=&quot;&#x27;</span></span><br><span class=\"line\">                    + arrProjectResObj[idx].<span class=\"property\">ID</span></span><br><span class=\"line\">                    + <span class=\"string\">&#x27;&quot; data-status=&#x27;</span></span><br><span class=\"line\">                    + arrProjectResObj[idx].<span class=\"property\">COST</span></span><br><span class=\"line\">                    + <span class=\"string\">&#x27; title=&quot;&#x27;</span></span><br><span class=\"line\">                    + <span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(arrProjectResObj[idx]).<span class=\"title function_\">replace</span>(</span><br><span class=\"line\">                        <span class=\"regexp\">/\\&quot;/g</span>, <span class=\"string\">&quot;&#x27;&quot;</span>) + <span class=\"string\">&#x27;&quot;&gt;&#x27;</span></span><br><span class=\"line\">                    + arrProjectResObj[idx].<span class=\"property\">VALUE</span> + <span class=\"string\">&#x27;&lt;/option&gt;&#x27;</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> strInitSelectFld = <span class=\"variable language_\">this</span>.<span class=\"property\">strInitSelectFld</span>.<span class=\"title function_\">replace</span>(</span><br><span class=\"line\">                <span class=\"string\">&#x27;REPLACE_OPTIONAL_HTML&#x27;</span>, strOptionHtml);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"title function_\">jQuery</span>(<span class=\"string\">&quot;#custpage_projectdropdown&quot;</span>).<span class=\"title function_\">replaceWith</span>(</span><br><span class=\"line\">                strInitSelectFld);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"title function_\">bindSelectEvent</span>();</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">         * Bind Selection Operation &lt;br&gt;</span></span><br><span class=\"line\"><span class=\"comment\">         * Note: Only used in Client Side</span></span><br><span class=\"line\"><span class=\"comment\">         */</span></span><br><span class=\"line\">        <span class=\"variable constant_\">DROPDOWN</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">bindSelectEvent</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"title function_\">jQuery</span>(<span class=\"variable language_\">document</span>).<span class=\"title function_\">ready</span>(</span><br><span class=\"line\">                <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">                    <span class=\"title function_\">jQuery</span>(<span class=\"string\">&quot;#custpage_projectdropdown&quot;</span>).<span class=\"title function_\">change</span>(</span><br><span class=\"line\">                        <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">                            <span class=\"comment\">// alert(jQuery(this).val());</span></span><br><span class=\"line\">                            <span class=\"title function_\">nlapiSetCurrentLineItemValue</span>(<span class=\"string\">&#x27;recmachcustrecord_pri_return_mgr_replc_parent&#x27;</span>, <span class=\"variable constant_\">RETMGRLIB</span>.<span class=\"property\">REC_RETURNMGR_REPLC_LINE</span>.<span class=\"property\">VENDOR</span>,</span><br><span class=\"line\">                                <span class=\"title function_\">jQuery</span>(<span class=\"variable language_\">this</span>).<span class=\"title function_\">val</span>());</span><br><span class=\"line\"></span><br><span class=\"line\">                            <span class=\"comment\">// var strStatus = jQuery(this).find(</span></span><br><span class=\"line\">                            <span class=\"comment\">// &quot;:selected&quot;).data(&quot;status&quot;);</span></span><br><span class=\"line\">                        &#125;);</span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">         * Initial Option HTML, can use in server side</span></span><br><span class=\"line\"><span class=\"comment\">         *</span></span><br><span class=\"line\"><span class=\"comment\">         * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">integer</span>&#125;</span></span><br><span class=\"line\"><span class=\"comment\">         *            intDefSelectVal Default Contact record type Id</span></span><br><span class=\"line\"><span class=\"comment\">         * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">string</span>&#125;</span></span><br><span class=\"line\"><span class=\"comment\">         *            strUserEventType User Event Type</span></span><br><span class=\"line\"><span class=\"comment\">         * <span class=\"doctag\">@returns</span> &#123;<span class=\"type\">string</span>&#125;</span></span><br><span class=\"line\"><span class=\"comment\">         */</span></span><br><span class=\"line\">        <span class=\"variable constant_\">DROPDOWN</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">initOptionHtml</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span></span><br><span class=\"line\"><span class=\"params\">            intDefSelectVal, strUserEventType</span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// if (!this.intItemId)</span></span><br><span class=\"line\">            <span class=\"comment\">// return &#x27;&#x27;;</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">var</span> arrProjectResObj = <span class=\"variable language_\">this</span>.<span class=\"property\">arrProjectResObj</span> ? <span class=\"variable language_\">this</span>.<span class=\"property\">arrProjectResObj</span> : <span class=\"variable language_\">this</span>.<span class=\"title function_\">lookupVendorRecords</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">var</span> strOptionHtml = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> idx = <span class=\"number\">0</span>; idx &lt; arrProjectResObj.<span class=\"property\">length</span>; idx++) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (intDefSelectVal</span><br><span class=\"line\">                    &amp;&amp; arrProjectResObj[idx].<span class=\"property\">ID</span> == intDefSelectVal)</span><br><span class=\"line\">                    strOptionHtml += <span class=\"string\">&#x27;&lt;option selected=&quot;selected&quot; value=&quot;&#x27;</span></span><br><span class=\"line\">                        + arrProjectResObj[idx].<span class=\"property\">ID</span></span><br><span class=\"line\">                        + <span class=\"string\">&#x27;&quot; data-status=&#x27;</span></span><br><span class=\"line\">                        + arrProjectResObj[idx].<span class=\"property\">COST</span></span><br><span class=\"line\">                        + <span class=\"string\">&#x27; title=&quot;&#x27;</span></span><br><span class=\"line\">                        + <span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(arrProjectResObj[idx])</span><br><span class=\"line\">                            .<span class=\"title function_\">replace</span>(<span class=\"regexp\">/\\&quot;/g</span>, <span class=\"string\">&quot;&#x27;&quot;</span>) + <span class=\"string\">&#x27;&quot;&gt;&#x27;</span></span><br><span class=\"line\">                        + arrProjectResObj[idx].<span class=\"property\">VALUE</span> + <span class=\"string\">&#x27;&lt;/option&gt;&#x27;</span>;</span><br><span class=\"line\">                <span class=\"keyword\">else</span></span><br><span class=\"line\">                    strOptionHtml += <span class=\"string\">&#x27;&lt;option value=&quot;&#x27;</span></span><br><span class=\"line\">                        + arrProjectResObj[idx].<span class=\"property\">ID</span></span><br><span class=\"line\">                        + <span class=\"string\">&#x27;&quot; data-status=&#x27;</span></span><br><span class=\"line\">                        + arrProjectResObj[idx].<span class=\"property\">COST</span></span><br><span class=\"line\">                        + <span class=\"string\">&#x27; title=&quot;&#x27;</span></span><br><span class=\"line\">                        + <span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(arrProjectResObj[idx])</span><br><span class=\"line\">                            .<span class=\"title function_\">replace</span>(<span class=\"regexp\">/\\&quot;/g</span>, <span class=\"string\">&quot;&#x27;&quot;</span>) + <span class=\"string\">&#x27;&quot;&gt;&#x27;</span></span><br><span class=\"line\">                        + arrProjectResObj[idx].<span class=\"property\">VALUE</span> + <span class=\"string\">&#x27;&lt;/option&gt;&#x27;</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">var</span> strInitSelectFld = <span class=\"variable language_\">this</span>.<span class=\"property\">strInitSelectFld</span>;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (strUserEventType == <span class=\"string\">&#x27;view&#x27;</span>)</span><br><span class=\"line\">                strInitSelectFld = strInitSelectFld.<span class=\"title function_\">replace</span>(</span><br><span class=\"line\">                    <span class=\"string\">&#x27;&lt;select id=\\&quot;custpage_projectdropdown\\&quot;&#x27;</span>,</span><br><span class=\"line\">                    <span class=\"string\">&quot;&lt;select id=\\&quot;custpage_projectdropdown\\&quot; disabled&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">            strInitSelectFld = strInitSelectFld.<span class=\"title function_\">replace</span>(</span><br><span class=\"line\">                <span class=\"string\">&#x27;REPLACE_OPTIONAL_HTML&#x27;</span>, strOptionHtml);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">return</span> strInitSelectFld;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">            <span class=\"attr\">DROPDOWN</span>: <span class=\"variable constant_\">DROPDOWN</span></span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;);</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>bindSelectEvent，当完成了HTML展示动态更新的下拉子列表后，绑定新的点击事件；当用户选取新的列表选项后，我们将值传递给另一个系统的字段（或者其他的商业逻辑定义）</li>\n</ul>\n<h1 id=\"衍生阅读\"><a href=\"#衍生阅读\" class=\"headerlink\" title=\"衍生阅读\"></a>衍生阅读</h1><p><a href=\"https://calendly.com/carlzeng/30min\">来吧，约个时间当面谈，我很乐意效劳，有什么NetSuite系统定制开发中的疑难杂症我可以帮忙的吗?</a></p>\n<p><img data-src=\"https://img.carlzeng.top:3/i/2024/06/19/6672e2c4ae1ab.png\" alt=\"image-20240619215304248\"></p>\n<h1 id=\"随手记录-如何下载网页中视频\"><a href=\"#随手记录-如何下载网页中视频\" class=\"headerlink\" title=\"随手记录 - 如何下载网页中视频\"></a>随手记录 - 如何下载网页中视频</h1><p><img data-src=\"https://img.carlzeng.top:3/i/2024/06/15/666d9804768ee.png\" alt=\"image-20240615213247707\"></p>\n<p>Firefox插件名称和版本信息</p>\n<p><img data-src=\"https://img.carlzeng.top:3/i/2024/06/15/666d98635ec4e.png\" alt=\"image-20240615213422690\"></p>\n","more":"<div> \n<button onclick=\"synthesizeSpeech()\">朗读全文</button>\n</div>\n<audio controls id=\"audioPlayer\">Your browser does not support the audio element.</audio>      \n<script>\n  function synthesizeSpeech() { \n    var inputText = document.getElementsByClassName('post-block')[0].innerText;\n    var voice = \"ZH\";\n    var url = 'https://tts.carlzeng.top:3/speech?text=' + encodeURIComponent(inputText.substring(0,3000)) + '&voice=' + voice;\n    var audioPlayer = document.getElementById('audioPlayer');          \n    audioPlayer.src = url;\n    audioPlayer.load();\n    audioPlayer.play();\n  }\n</script>\n\n\n<h1 id=\"有什么用\"><a href=\"#有什么用\" class=\"headerlink\" title=\"有什么用\"></a>有什么用</h1><p>学会如何在NetSuite UI界面中创建动态下拉列表</p>\n<ul>\n<li>在主界面(Custom Body Field)中创建动态下拉列表字段</li>\n<li>在列表行(Custom Line Item Field)中创建动态下拉列表字段</li>\n</ul>\n<p>在现实业务流程中，这样的动态下拉列表应用十分广泛；而NetSuite自带的自定义字段的动态下来过滤功能十分有限。很多的应用场景无法满足，这里就不一一展开说明，懂的都懂。</p>\n<h1 id=\"需求\"><a href=\"#需求\" class=\"headerlink\" title=\"需求\"></a>需求</h1><p><img data-src=\"https://img.carlzeng.top:3/i/2024/06/18/6671838d0e787.png\" alt=\"image-20240618205434547\"></p>\n<p>本案例：要在下拉列表中，将Replacement Vendor字段的内容，动态地根据Replacement Item字段的内容而决定。就是根据Item货品的供应商列表来过滤当前自定义记录界面中的Replacement Vendor字段的下拉内容，从而达到Replacement Vendor字段的下拉列表不展示系统中所有的Vendor，而是限定于特定Item货品（当前行中的货品字段）的供应商列表（这个使用其实也同时可以展示该供应商的此货品采购价）</p>\n<h1 id=\"怎么用\"><a href=\"#怎么用\" class=\"headerlink\" title=\"怎么用\"></a>怎么用</h1><ol>\n<li>创建一个系统中的自定义字段<ol>\n<li>如果是把动态列表放在主界面，那么该‘容器’字段也可以使用UserEvent的script生成出这个一个动态的自定义字段。</li>\n<li>如果是把动态列表放在主界面下的列表中（比如：销售订单的货品列表中），那么就必须要新建一个自定义列字段；</li>\n<li>而假如是要把动态列表放在主界面下的列表中（比如：主从关系的自定义记录类型Custom Record Type），那么就是新建一个自定字段在在子记录类型中（这个子自定义记录类型在UI中会变成一个列表sublist）</li>\n</ol>\n</li>\n<li>新建一个Library脚本文件Script（详见下方的PRI_DropDown_lib.js文件全部内容展示）</li>\n<li>创建一个User Event Script记录<ol>\n<li>用来新建初始化字段（可选，根据实际需要）</li>\n<li>用来初始化字段的HTML内容；这个初始化内容是根据列表中当前的货品来决定的，UI的编辑状态用户是可以随时在界面中切换货品字段内容，从而需要重新初始化该HTML内容（详见实现在下方的Client Script中）</li>\n</ol>\n</li>\n<li>创建一个Client Script记录<ol>\n<li>在列表的line init事件中，初始化当前行的Vendor列表（根据当前的货品字段内容）</li>\n<li>在用户切换了Item货品字段内容后，重新刷新初始化当前行的Vendor列表</li>\n</ol>\n</li>\n</ol>\n<h1 id=\"相关内容\"><a href=\"#相关内容\" class=\"headerlink\" title=\"相关内容\"></a>相关内容</h1><iframe style=\"box-shadow: 0px 0px 20px -10px;\" src=\"https://query.carlzeng.top:3/appsearch?q=netsuite\" frameborder=\"0\" scrolling=\"auto\" width=\"100%\" height=\"500\"></iframe>\n\n<h1 id=\"实现方法\"><a href=\"#实现方法\" class=\"headerlink\" title=\"实现方法\"></a>实现方法</h1><h2 id=\"Create-Custom-Field\"><a href=\"#Create-Custom-Field\" class=\"headerlink\" title=\"Create Custom Field\"></a>Create Custom Field</h2><p>新建自定义字段的定义案例：</p>\n<p><img data-src=\"https://img.carlzeng.top:3/i/2024/06/19/6672a5d64b868.png\" alt=\"image-20240619173308707\"></p>\n<p>说明：这个字段的TYPE，用Free Form Text也是一样的。</p>\n<h2 id=\"User-Event\"><a href=\"#User-Event\" class=\"headerlink\" title=\"User Event\"></a>User Event</h2><p>to initial the UI to put-in&#x2F;inject the dropdown HTML</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> intDefProject = currentRecord.<span class=\"title function_\">getValue</span>(<span class=\"string\">&#x27;custbody_pri_prj&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> clsProjectDropDown = <span class=\"keyword\">new</span> <span class=\"variable constant_\">CLLIB</span>.<span class=\"title function_\">PROJECTDROPDOWN</span>(intEntityId,</span><br><span class=\"line\">    <span class=\"string\">&#x27;&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Set entity projects dropdown options HTML</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> strInitSelectHtml = clsProjectDropDown.<span class=\"title function_\">initOptionHtml</span>(</span><br><span class=\"line\">    intDefProject, scriptContext.<span class=\"property\">type</span>);</span><br><span class=\"line\">objFldProject.<span class=\"property\">defaultValue</span> = <span class=\"string\">&quot;&lt;div class=\\&quot;uir-field-wrapper\\&quot; data-field-type=\\&quot;text\\&quot;&gt;&lt;span id=\\&quot;projectdropdown_fs_lbl_uir_label\\&quot; class=\\&quot;smallgraytextnolink uir-label \\&quot;&gt;&lt;span id=\\&quot;projectdropdown_fs_lbl\\&quot; class=\\&quot;labelSpanEdit smallgraytextnolink\\&quot; style=\\&quot;\\&quot;&gt;&quot;</span></span><br><span class=\"line\">    + <span class=\"string\">&quot;&lt;a tabindex=\\&quot;-1\\&quot; title=\\&quot;What&#x27;s this?\\&quot; href=&#x27;javascript:void(\\&quot;help\\&quot;)&#x27; style=\\&quot;cursor:help\\&quot;  class=\\&quot;smallgraytextnolink\\&quot; onmouseover=\\&quot;this.className=&#x27;smallgraytext&#x27;; return true;\\&quot; onmouseout=\\&quot;this.className=&#x27;smallgraytextnolink&#x27;; \\&quot;&gt;&quot;</span></span><br><span class=\"line\">    + strPrjLbl</span><br><span class=\"line\">    + <span class=\"string\">&quot;&lt;/a&gt;&quot;</span></span><br><span class=\"line\">    + <span class=\"string\">&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=\\&quot;uir-field\\&quot;&gt;&quot;</span></span><br><span class=\"line\">    + strInitSelectHtml + <span class=\"string\">&quot;&lt;/span&gt;&quot;</span> + <span class=\"string\">&quot;&lt;/div&gt;&quot;</span>;</span><br></pre></td></tr></table></figure>\n\n<p>上面这个方案是直接注入到系统的自定义字段中（在NetSuite系统的自定义字段中定义的）</p>\n<p>或者使用全新的Script新增的动态的html字段</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> objFldProject = objForm.<span class=\"title function_\">addField</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">id</span>: <span class=\"string\">&#x27;custpage_pri_prj&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">type</span>: ui.<span class=\"property\">FieldType</span>.<span class=\"property\">INLINEHTML</span>,</span><br><span class=\"line\">    <span class=\"attr\">label</span>: strPrjLbl</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">objForm.<span class=\"title function_\">insertField</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">field</span>: objFldProject,</span><br><span class=\"line\">    <span class=\"attr\">nextfield</span>: <span class=\"string\">&#x27;custbody_pri_co&#x27;</span>,<span class=\"comment\">// &#x27;job&#x27;</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">objFldProject.<span class=\"property\">defaultValue</span> = <span class=\"string\">&quot;&lt;div class=\\&quot;uir-field-wrapper\\&quot; data-field-type=\\&quot;text\\&quot;&gt;&lt;span id=\\&quot;projectdropdown_fs_lbl_uir_label\\&quot; class=\\&quot;smallgraytextnolink uir-label \\&quot;&gt;&lt;span id=\\&quot;projectdropdown_fs_lbl\\&quot; class=\\&quot;labelSpanEdit smallgraytextnolink\\&quot; style=\\&quot;\\&quot;&gt;&quot;</span></span><br><span class=\"line\">    + <span class=\"string\">&quot;&lt;a tabindex=\\&quot;-1\\&quot; title=\\&quot;What&#x27;s this?\\&quot; href=&#x27;javascript:void(\\&quot;help\\&quot;)&#x27; style=\\&quot;cursor:help\\&quot;  class=\\&quot;smallgraytextnolink\\&quot; onmouseover=\\&quot;this.className=&#x27;smallgraytext&#x27;; return true;\\&quot; onmouseout=\\&quot;this.className=&#x27;smallgraytextnolink&#x27;; \\&quot;&gt; &quot;</span></span><br><span class=\"line\">    + strPrjLbl</span><br><span class=\"line\">    + <span class=\"string\">&quot;&lt;/a&gt;&quot;</span></span><br><span class=\"line\">    + <span class=\"string\">&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=\\&quot;uir-field\\&quot;&gt;&quot;</span></span><br><span class=\"line\">    + <span class=\"string\">&quot;&lt;select id=\\&quot;custpage_projectdropdown\\&quot; name=\\&quot;custpage_projectdropdown\\&quot; autocomplete=\\&quot;off\\&quot; lineindex=\\&quot;1\\&quot; class=\\&quot;input uir-custom-field\\&quot;&gt;&quot;</span></span><br><span class=\"line\">    + <span class=\"string\">&quot;&lt;option value=\\&quot;\\&quot;&gt; &lt;/option&gt;&quot;</span></span><br><span class=\"line\">    + <span class=\"string\">&quot;&lt;/select&gt;&quot;</span></span><br><span class=\"line\">    + <span class=\"string\">&quot;&lt;/span&gt;&quot;</span> + <span class=\"string\">&quot;&lt;/div&gt;&quot;</span> + <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n\n\n<hr>\n<h2 id=\"Client-Script-dynamic-behaviors\"><a href=\"#Client-Script-dynamic-behaviors\" class=\"headerlink\" title=\"Client Script dynamic behaviors\"></a>Client Script dynamic behaviors</h2><h3 id=\"pageInit\"><a href=\"#pageInit\" class=\"headerlink\" title=\"pageInit\"></a>pageInit</h3><p>可选，仅用于使用主界面的系统自带自定义字段来‘加载’动态列表的情况下</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">\t\t\t * Function to be executed after page is initialized.</span></span><br><span class=\"line\"><span class=\"comment\">\t\t\t *</span></span><br><span class=\"line\"><span class=\"comment\">\t\t\t * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">Object</span>&#125;</span></span><br><span class=\"line\"><span class=\"comment\">\t\t\t *            scriptContext</span></span><br><span class=\"line\"><span class=\"comment\">\t\t\t * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">Record</span>&#125;</span></span><br><span class=\"line\"><span class=\"comment\">\t\t\t *            scriptContext.currentRecord - Current form record</span></span><br><span class=\"line\"><span class=\"comment\">\t\t\t * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">string</span>&#125;</span></span><br><span class=\"line\"><span class=\"comment\">\t\t\t *            scriptContext.mode - The mode in which the record is</span></span><br><span class=\"line\"><span class=\"comment\">\t\t\t *            being accessed (create, copy, or edit)</span></span><br><span class=\"line\"><span class=\"comment\">\t\t\t *</span></span><br><span class=\"line\"><span class=\"comment\">\t\t\t * <span class=\"doctag\">@since</span> 2015.2</span></span><br><span class=\"line\"><span class=\"comment\">\t\t\t */</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">pageInit</span>(<span class=\"params\">scriptContext</span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  ...</span><br><span class=\"line\">  </span><br><span class=\"line\">    <span class=\"comment\">// Bind select option change event</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> clsProjectDropDown = <span class=\"keyword\">new</span> <span class=\"variable constant_\">CLLIB</span>.<span class=\"title function_\">PROJECTDROPDOWN</span>(intEntityId,</span><br><span class=\"line\">          objDropdownDom, &#123;<span class=\"string\">&#x27;currentRecord&#x27;</span>: currentRecord&#125;);</span><br><span class=\"line\">    clsProjectDropDown.<span class=\"title function_\">bindSelectEvent</span>();</span><br><span class=\"line\">  </span><br><span class=\"line\">  ...</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">  </span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"fieldChanged\"><a href=\"#fieldChanged\" class=\"headerlink\" title=\"fieldChanged\"></a>fieldChanged</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fieldChanged</span>(<span class=\"params\">scriptContext</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">switch</span> (scriptContext.<span class=\"property\">fieldId</span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">case</span> ....</span><br><span class=\"line\">      </span><br><span class=\"line\">      <span class=\"comment\">// Bind select option change event</span></span><br><span class=\"line\">      <span class=\"keyword\">var</span> clsProjectDropDown = <span class=\"keyword\">new</span> <span class=\"variable constant_\">CLLIB</span>.<span class=\"title function_\">PROJECTDROPDOWN</span>(</span><br><span class=\"line\">            intEntityId, objDropdownDom, &#123;<span class=\"string\">&#x27;currentRecord&#x27;</span>: currentRecord&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (!intEntityId) &#123;</span><br><span class=\"line\">         clsProjectDropDown.<span class=\"title function_\">clearSelectOptions</span>();</span><br><span class=\"line\">         <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// Draw entity project dropdown options</span></span><br><span class=\"line\">      clsProjectDropDown.<span class=\"title function_\">drawDOM</span>();</span><br><span class=\"line\">  \t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">      </span><br></pre></td></tr></table></figure>\n\n<p>pri_RetMgr_vendor_refreshSelectOption</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">pri_RetMgr_vendor_refreshSelectOption</span>(<span class=\"params\">currentRecord</span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">var</span> lnIdx = currentRecord.<span class=\"title function_\">getCurrentSublistIndex</span>(&#123;</span><br><span class=\"line\">        <span class=\"attr\">sublistId</span>: strSublistId_replc</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> intItemId = currentRecord.<span class=\"title function_\">getCurrentSublistValue</span>(strSublistId_replc, <span class=\"variable constant_\">RETMGRLIB</span>.<span class=\"property\">REC_RETURNMGR_REPLC_LINE</span>.<span class=\"property\">ITEM</span>);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> intVendorId_cur = currentRecord.<span class=\"title function_\">getCurrentSublistValue</span>(strSublistId_replc, <span class=\"variable constant_\">RETMGRLIB</span>.<span class=\"property\">REC_RETURNMGR_REPLC_LINE</span>.<span class=\"property\">VENDOR</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">var</span> objDropdownDom = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;recmachcustrecord_pri_return_mgr_replc_parent_custrecord_pri_return_mgr_replc_selvnd_fs&#x27;</span>);</span><br><span class=\"line\">        <span class=\"comment\">// Bind select option change event</span></span><br><span class=\"line\">        <span class=\"keyword\">var</span> clsVendorDropDown = <span class=\"keyword\">new</span> <span class=\"variable constant_\">DDLIB</span>.<span class=\"title function_\">DROPDOWN</span>(intItemId, objDropdownDom, &#123;<span class=\"string\">&#x27;currentRecord&#x27;</span>: currentRecord&#125;);</span><br><span class=\"line\">        <span class=\"title function_\">jQuery</span>(<span class=\"string\">&#x27;#recmachcustrecord_pri_return_mgr_replc_parent_custrecord_pri_return_mgr_replc_selvnd_fs&#x27;</span>).<span class=\"title function_\">html</span>(clsVendorDropDown.<span class=\"title function_\">initOptionHtml</span>(intVendorId_cur));</span><br><span class=\"line\">        clsVendorDropDown.<span class=\"title function_\">bindSelectEvent</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (ex) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(ex);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Special case: After you change the item from Item A to Item B, the original vendor value should/might be cleared(since that vendor is not in new Item B’s vendor list)</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (intVendorId_cur) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> bolVendorAvailable = <span class=\"literal\">false</span>;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> arrProjectResObj = clsVendorDropDown.<span class=\"property\">arrProjectResObj</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; arrProjectResObj &amp;&amp; i &lt; arrProjectResObj.<span class=\"property\">length</span>; i++) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (intVendorId_cur == arrProjectResObj[i].<span class=\"property\">ID</span>)&#123;</span><br><span class=\"line\">                bolVendorAvailable = <span class=\"literal\">true</span>;</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (bolVendorAvailable === <span class=\"literal\">false</span>)</span><br><span class=\"line\">            currentRecord.<span class=\"title function_\">setCurrentSublistValue</span>(&#123;</span><br><span class=\"line\">                <span class=\"attr\">sublistId</span>: strSublistId_replc,</span><br><span class=\"line\">                <span class=\"attr\">fieldId</span>: <span class=\"variable constant_\">RETMGRLIB</span>.<span class=\"property\">REC_RETURNMGR_REPLC_LINE</span>.<span class=\"property\">VENDOR</span>,</span><br><span class=\"line\">                <span class=\"attr\">value</span>: <span class=\"string\">&#x27;&#x27;</span></span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>从这个函数可以得知这个自定义的动态下拉字段，初始化的值也是会被加载的，非常顺滑。</p>\n<hr>\n<h2 id=\"Library-PRI-DropDown-lib-js\"><a href=\"#Library-PRI-DropDown-lib-js\" class=\"headerlink\" title=\"Library - PRI_DropDown_lib.js\"></a>Library - PRI_DropDown_lib.js</h2><p>used in both Client and UserEvent&#x2F;Server side. 核心公共函数库</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//------------------------------------------------------------------</span></span><br><span class=\"line\"><span class=\"comment\">//Developer: Carl</span></span><br><span class=\"line\"><span class=\"comment\">//Description: Need a dynamic Drop Down on the record/transaction of vendor list.</span></span><br><span class=\"line\"><span class=\"comment\">// Thus, the drop down on record/transaction should filter for item that are related.</span></span><br><span class=\"line\"><span class=\"comment\">//------------------------------------------------------------------</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@NApiVersion</span> 2.x</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@NModuleScope</span> <span class=\"variable\">Public</span></span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"title function_\">define</span>(</span><br><span class=\"line\">    [<span class=\"string\">&#x27;N/error&#x27;</span>, <span class=\"string\">&#x27;N/record&#x27;</span>, <span class=\"string\">&#x27;N/runtime&#x27;</span>, <span class=\"string\">&#x27;N/search&#x27;</span>, <span class=\"string\">&#x27;./PRI_RM_ReturnManager_lib&#x27;</span>],</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">error</span>&#125;</span></span><br><span class=\"line\"><span class=\"comment\">     *            error</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">record</span>&#125;</span></span><br><span class=\"line\"><span class=\"comment\">     *            record</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">runtime</span>&#125;</span></span><br><span class=\"line\"><span class=\"comment\">     *            runtime</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">search</span>&#125;</span></span><br><span class=\"line\"><span class=\"comment\">     *            search</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">dialog</span>&#125;</span></span><br><span class=\"line\"><span class=\"comment\">     *            dialog</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">function</span> (<span class=\"params\">error, record, runtime, search, RETMGRLIB</span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// ---------------------- Drop Down Class-----------------</span></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"title function_\">DROPDOWN</span>(<span class=\"params\">intItemId, objDropdownDom, options</span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">intItemId</span> = intItemId;</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">objDropdownDom</span> = objDropdownDom;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (intItemId) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">arrProjectResObj</span> = <span class=\"variable language_\">this</span>.<span class=\"title function_\">lookupVendorRecords</span>();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">strInitSelectFld</span> = <span class=\"string\">&quot;&lt;select id=\\&quot;custpage_projectdropdown\\&quot; name=\\&quot;custpage_projectdropdown\\&quot; autocomplete=\\&quot;off\\&quot; lineindex=\\&quot;1\\&quot; class=\\&quot;input uir-custom-field\\&quot;&gt;&quot;</span></span><br><span class=\"line\">                + <span class=\"string\">&quot;&lt;option value=\\&quot;\\&quot;&gt; &lt;/option&gt;&quot;</span></span><br><span class=\"line\">                + <span class=\"string\">&#x27;REPLACE_OPTIONAL_HTML&#x27;</span> + <span class=\"string\">&quot;&lt;/select&gt;&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (options &amp;&amp; <span class=\"keyword\">typeof</span> (options.<span class=\"property\">currentRecord</span>) != <span class=\"string\">&#x27;undefined&#x27;</span>) &#123;</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">currentRecord</span> = options.<span class=\"property\">currentRecord</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">         * lookup Vendor Records</span></span><br><span class=\"line\"><span class=\"comment\">         *</span></span><br><span class=\"line\"><span class=\"comment\">         * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">String</span>&#125;</span></span><br><span class=\"line\"><span class=\"comment\">         *            strLookupKeyWord Lookup Keyword</span></span><br><span class=\"line\"><span class=\"comment\">         * <span class=\"doctag\">@returns</span> &#123;<span class=\"type\">Object</span>&#125; <span class=\"variable\">objOrderStatusSublist</span></span></span><br><span class=\"line\"><span class=\"comment\">         */</span></span><br><span class=\"line\">        <span class=\"variable constant_\">DROPDOWN</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">lookupVendorRecords</span> = <span class=\"keyword\">function</span> (<span class=\"params\">strLookupKeyWord</span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">var</span> intItemId = <span class=\"variable language_\">this</span>.<span class=\"property\">intItemId</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!intItemId)</span><br><span class=\"line\">                <span class=\"keyword\">return</span> [];</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">var</span> arrProjectRes = [];</span><br><span class=\"line\">            <span class=\"keyword\">var</span> objFilters = [[<span class=\"string\">&#x27;isinactive&#x27;</span>, <span class=\"string\">&#x27;is&#x27;</span>, <span class=\"string\">&#x27;F&#x27;</span>]];</span><br><span class=\"line\">            <span class=\"comment\">// if (intItemId) &#123;</span></span><br><span class=\"line\">            <span class=\"comment\">// \tobjFilters.push(&#x27;and&#x27;);</span></span><br><span class=\"line\">            <span class=\"comment\">// \tobjFilters.push([ RETMGRLIB.REC_PRIPROJECT.CUSTOMER, &#x27;anyof&#x27;,</span></span><br><span class=\"line\">            <span class=\"comment\">// \t\t\t[ intItemId ] ]);</span></span><br><span class=\"line\">            <span class=\"comment\">// &#125;</span></span><br><span class=\"line\">            objFilters.<span class=\"title function_\">push</span>(<span class=\"string\">&#x27;and&#x27;</span>);</span><br><span class=\"line\">            objFilters.<span class=\"title function_\">push</span>([<span class=\"string\">&#x27;internalid&#x27;</span>, <span class=\"string\">&#x27;anyof&#x27;</span>, [intItemId]]);</span><br><span class=\"line\">            <span class=\"keyword\">var</span> objColumns = [<span class=\"string\">&#x27;itemid&#x27;</span>, <span class=\"string\">&#x27;displayname&#x27;</span>, <span class=\"string\">&#x27;othervendor&#x27;</span>, <span class=\"string\">&#x27;cost&#x27;</span>];</span><br><span class=\"line\">            objColumns.<span class=\"title function_\">push</span>(&#123;<span class=\"attr\">name</span>: <span class=\"string\">&quot;internalid&quot;</span>, <span class=\"attr\">join</span>: <span class=\"string\">&quot;vendor&quot;</span>&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">var</span> objRecordRes = search.<span class=\"title function_\">create</span>(</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"attr\">type</span>: <span class=\"string\">&#x27;item&#x27;</span>,</span><br><span class=\"line\">                    <span class=\"attr\">filters</span>: objFilters,</span><br><span class=\"line\">                    <span class=\"attr\">columns</span>: objColumns</span><br><span class=\"line\">                &#125;).<span class=\"title function_\">run</span>().<span class=\"title function_\">getRange</span>(&#123;</span><br><span class=\"line\">                <span class=\"attr\">start</span>: <span class=\"number\">0</span>,</span><br><span class=\"line\">                <span class=\"attr\">end</span>: <span class=\"number\">1000</span></span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; objRecordRes &amp;&amp; i &lt; objRecordRes.<span class=\"property\">length</span>; i++) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">                arrProjectRes.<span class=\"title function_\">push</span>(&#123;</span><br><span class=\"line\">                    <span class=\"attr\">ID</span>: objRecordRes[i].<span class=\"title function_\">getValue</span>(&#123;</span><br><span class=\"line\">                        <span class=\"attr\">name</span>: <span class=\"string\">&quot;internalid&quot;</span>,</span><br><span class=\"line\">                        <span class=\"attr\">join</span>: <span class=\"string\">&quot;vendor&quot;</span></span><br><span class=\"line\">                    &#125;),</span><br><span class=\"line\">                    <span class=\"comment\">// NAME: objRecordRes[i].getValue(&#x27;itemid&#x27;),</span></span><br><span class=\"line\">                    <span class=\"attr\">COST</span>: objRecordRes[i].<span class=\"title function_\">getValue</span>(<span class=\"string\">&#x27;cost&#x27;</span>),</span><br><span class=\"line\">                    <span class=\"attr\">VALUE</span>: objRecordRes[i].<span class=\"title function_\">getText</span>(<span class=\"string\">&#x27;othervendor&#x27;</span>)</span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">return</span> arrProjectRes;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">         * Dynamically clear select options</span></span><br><span class=\"line\"><span class=\"comment\">         *</span></span><br><span class=\"line\"><span class=\"comment\">         * <span class=\"doctag\">@returns</span> &#123;<span class=\"type\">Boolean</span>&#125;</span></span><br><span class=\"line\"><span class=\"comment\">         */</span></span><br><span class=\"line\">        <span class=\"variable constant_\">DROPDOWN</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">clearSelectOptions</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"title function_\">jQuery</span>(<span class=\"string\">&quot;#custpage_projectdropdown&quot;</span>).<span class=\"title function_\">replaceWith</span>(</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">strInitSelectFld</span>.<span class=\"title function_\">replace</span>(<span class=\"string\">&#x27;REPLACE_OPTIONAL_HTML&#x27;</span>,</span><br><span class=\"line\">                    <span class=\"string\">&#x27;&#x27;</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">         * Draw select option DOM element</span></span><br><span class=\"line\"><span class=\"comment\">         */</span></span><br><span class=\"line\">        <span class=\"variable constant_\">DROPDOWN</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">drawDOM</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">var</span> objDropdownDom = <span class=\"variable language_\">this</span>.<span class=\"property\">objDropdownDom</span>;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> arrProjectResObj = <span class=\"variable language_\">this</span>.<span class=\"property\">arrProjectResObj</span> ? <span class=\"variable language_\">this</span>.<span class=\"property\">arrProjectResObj</span> : <span class=\"variable language_\">this</span>.<span class=\"title function_\">lookupVendorRecords</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">var</span> strOptionHtml = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> idx = <span class=\"number\">0</span>; idx &lt; arrProjectResObj.<span class=\"property\">length</span>; idx++) &#123;</span><br><span class=\"line\">                strOptionHtml += <span class=\"string\">&#x27;&lt;option value=&quot;&#x27;</span></span><br><span class=\"line\">                    + arrProjectResObj[idx].<span class=\"property\">ID</span></span><br><span class=\"line\">                    + <span class=\"string\">&#x27;&quot; data-status=&#x27;</span></span><br><span class=\"line\">                    + arrProjectResObj[idx].<span class=\"property\">COST</span></span><br><span class=\"line\">                    + <span class=\"string\">&#x27; title=&quot;&#x27;</span></span><br><span class=\"line\">                    + <span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(arrProjectResObj[idx]).<span class=\"title function_\">replace</span>(</span><br><span class=\"line\">                        <span class=\"regexp\">/\\&quot;/g</span>, <span class=\"string\">&quot;&#x27;&quot;</span>) + <span class=\"string\">&#x27;&quot;&gt;&#x27;</span></span><br><span class=\"line\">                    + arrProjectResObj[idx].<span class=\"property\">VALUE</span> + <span class=\"string\">&#x27;&lt;/option&gt;&#x27;</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> strInitSelectFld = <span class=\"variable language_\">this</span>.<span class=\"property\">strInitSelectFld</span>.<span class=\"title function_\">replace</span>(</span><br><span class=\"line\">                <span class=\"string\">&#x27;REPLACE_OPTIONAL_HTML&#x27;</span>, strOptionHtml);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"title function_\">jQuery</span>(<span class=\"string\">&quot;#custpage_projectdropdown&quot;</span>).<span class=\"title function_\">replaceWith</span>(</span><br><span class=\"line\">                strInitSelectFld);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"title function_\">bindSelectEvent</span>();</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">         * Bind Selection Operation &lt;br&gt;</span></span><br><span class=\"line\"><span class=\"comment\">         * Note: Only used in Client Side</span></span><br><span class=\"line\"><span class=\"comment\">         */</span></span><br><span class=\"line\">        <span class=\"variable constant_\">DROPDOWN</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">bindSelectEvent</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"title function_\">jQuery</span>(<span class=\"variable language_\">document</span>).<span class=\"title function_\">ready</span>(</span><br><span class=\"line\">                <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">                    <span class=\"title function_\">jQuery</span>(<span class=\"string\">&quot;#custpage_projectdropdown&quot;</span>).<span class=\"title function_\">change</span>(</span><br><span class=\"line\">                        <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">                            <span class=\"comment\">// alert(jQuery(this).val());</span></span><br><span class=\"line\">                            <span class=\"title function_\">nlapiSetCurrentLineItemValue</span>(<span class=\"string\">&#x27;recmachcustrecord_pri_return_mgr_replc_parent&#x27;</span>, <span class=\"variable constant_\">RETMGRLIB</span>.<span class=\"property\">REC_RETURNMGR_REPLC_LINE</span>.<span class=\"property\">VENDOR</span>,</span><br><span class=\"line\">                                <span class=\"title function_\">jQuery</span>(<span class=\"variable language_\">this</span>).<span class=\"title function_\">val</span>());</span><br><span class=\"line\"></span><br><span class=\"line\">                            <span class=\"comment\">// var strStatus = jQuery(this).find(</span></span><br><span class=\"line\">                            <span class=\"comment\">// &quot;:selected&quot;).data(&quot;status&quot;);</span></span><br><span class=\"line\">                        &#125;);</span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">         * Initial Option HTML, can use in server side</span></span><br><span class=\"line\"><span class=\"comment\">         *</span></span><br><span class=\"line\"><span class=\"comment\">         * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">integer</span>&#125;</span></span><br><span class=\"line\"><span class=\"comment\">         *            intDefSelectVal Default Contact record type Id</span></span><br><span class=\"line\"><span class=\"comment\">         * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">string</span>&#125;</span></span><br><span class=\"line\"><span class=\"comment\">         *            strUserEventType User Event Type</span></span><br><span class=\"line\"><span class=\"comment\">         * <span class=\"doctag\">@returns</span> &#123;<span class=\"type\">string</span>&#125;</span></span><br><span class=\"line\"><span class=\"comment\">         */</span></span><br><span class=\"line\">        <span class=\"variable constant_\">DROPDOWN</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">initOptionHtml</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span></span><br><span class=\"line\"><span class=\"params\">            intDefSelectVal, strUserEventType</span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// if (!this.intItemId)</span></span><br><span class=\"line\">            <span class=\"comment\">// return &#x27;&#x27;;</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">var</span> arrProjectResObj = <span class=\"variable language_\">this</span>.<span class=\"property\">arrProjectResObj</span> ? <span class=\"variable language_\">this</span>.<span class=\"property\">arrProjectResObj</span> : <span class=\"variable language_\">this</span>.<span class=\"title function_\">lookupVendorRecords</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">var</span> strOptionHtml = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> idx = <span class=\"number\">0</span>; idx &lt; arrProjectResObj.<span class=\"property\">length</span>; idx++) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (intDefSelectVal</span><br><span class=\"line\">                    &amp;&amp; arrProjectResObj[idx].<span class=\"property\">ID</span> == intDefSelectVal)</span><br><span class=\"line\">                    strOptionHtml += <span class=\"string\">&#x27;&lt;option selected=&quot;selected&quot; value=&quot;&#x27;</span></span><br><span class=\"line\">                        + arrProjectResObj[idx].<span class=\"property\">ID</span></span><br><span class=\"line\">                        + <span class=\"string\">&#x27;&quot; data-status=&#x27;</span></span><br><span class=\"line\">                        + arrProjectResObj[idx].<span class=\"property\">COST</span></span><br><span class=\"line\">                        + <span class=\"string\">&#x27; title=&quot;&#x27;</span></span><br><span class=\"line\">                        + <span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(arrProjectResObj[idx])</span><br><span class=\"line\">                            .<span class=\"title function_\">replace</span>(<span class=\"regexp\">/\\&quot;/g</span>, <span class=\"string\">&quot;&#x27;&quot;</span>) + <span class=\"string\">&#x27;&quot;&gt;&#x27;</span></span><br><span class=\"line\">                        + arrProjectResObj[idx].<span class=\"property\">VALUE</span> + <span class=\"string\">&#x27;&lt;/option&gt;&#x27;</span>;</span><br><span class=\"line\">                <span class=\"keyword\">else</span></span><br><span class=\"line\">                    strOptionHtml += <span class=\"string\">&#x27;&lt;option value=&quot;&#x27;</span></span><br><span class=\"line\">                        + arrProjectResObj[idx].<span class=\"property\">ID</span></span><br><span class=\"line\">                        + <span class=\"string\">&#x27;&quot; data-status=&#x27;</span></span><br><span class=\"line\">                        + arrProjectResObj[idx].<span class=\"property\">COST</span></span><br><span class=\"line\">                        + <span class=\"string\">&#x27; title=&quot;&#x27;</span></span><br><span class=\"line\">                        + <span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(arrProjectResObj[idx])</span><br><span class=\"line\">                            .<span class=\"title function_\">replace</span>(<span class=\"regexp\">/\\&quot;/g</span>, <span class=\"string\">&quot;&#x27;&quot;</span>) + <span class=\"string\">&#x27;&quot;&gt;&#x27;</span></span><br><span class=\"line\">                        + arrProjectResObj[idx].<span class=\"property\">VALUE</span> + <span class=\"string\">&#x27;&lt;/option&gt;&#x27;</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">var</span> strInitSelectFld = <span class=\"variable language_\">this</span>.<span class=\"property\">strInitSelectFld</span>;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (strUserEventType == <span class=\"string\">&#x27;view&#x27;</span>)</span><br><span class=\"line\">                strInitSelectFld = strInitSelectFld.<span class=\"title function_\">replace</span>(</span><br><span class=\"line\">                    <span class=\"string\">&#x27;&lt;select id=\\&quot;custpage_projectdropdown\\&quot;&#x27;</span>,</span><br><span class=\"line\">                    <span class=\"string\">&quot;&lt;select id=\\&quot;custpage_projectdropdown\\&quot; disabled&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">            strInitSelectFld = strInitSelectFld.<span class=\"title function_\">replace</span>(</span><br><span class=\"line\">                <span class=\"string\">&#x27;REPLACE_OPTIONAL_HTML&#x27;</span>, strOptionHtml);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">return</span> strInitSelectFld;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">            <span class=\"attr\">DROPDOWN</span>: <span class=\"variable constant_\">DROPDOWN</span></span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;);</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>bindSelectEvent，当完成了HTML展示动态更新的下拉子列表后，绑定新的点击事件；当用户选取新的列表选项后，我们将值传递给另一个系统的字段（或者其他的商业逻辑定义）</li>\n</ul>\n<h1 id=\"衍生阅读\"><a href=\"#衍生阅读\" class=\"headerlink\" title=\"衍生阅读\"></a>衍生阅读</h1><p><a href=\"https://calendly.com/carlzeng/30min\">来吧，约个时间当面谈，我很乐意效劳，有什么NetSuite系统定制开发中的疑难杂症我可以帮忙的吗?</a></p>\n<p><img data-src=\"https://img.carlzeng.top:3/i/2024/06/19/6672e2c4ae1ab.png\" alt=\"image-20240619215304248\"></p>\n<h1 id=\"随手记录-如何下载网页中视频\"><a href=\"#随手记录-如何下载网页中视频\" class=\"headerlink\" title=\"随手记录 - 如何下载网页中视频\"></a>随手记录 - 如何下载网页中视频</h1><p><img data-src=\"https://img.carlzeng.top:3/i/2024/06/15/666d9804768ee.png\" alt=\"image-20240615213247707\"></p>\n<p>Firefox插件名称和版本信息</p>\n<p><img data-src=\"https://img.carlzeng.top:3/i/2024/06/15/666d98635ec4e.png\" alt=\"image-20240615213422690\"></p>","categories":[{"name":"NetSuite","path":"api/categories/NetSuite.json"}],"tags":[{"name":"NetSuite","path":"api/tags/NetSuite.json"},{"name":"UI","path":"api/tags/UI.json"},{"name":"SuiteLet","path":"api/tags/SuiteLet.json"}]}