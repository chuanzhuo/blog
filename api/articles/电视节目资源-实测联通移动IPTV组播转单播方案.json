{"title":"电视节目资源 - 实测联通移动IPTV组播转单播方案","slug":"电视节目资源-实测联通移动IPTV组播转单播方案","date":"2023-12-11T05:10:21.000Z","updated":"2023-12-24T08:04:56.574Z","comments":true,"path":"api/articles/电视节目资源-实测联通移动IPTV组播转单播方案.json","excerpt":" [Figure] 宽带运营商IPTV组播转单播，运营商机顶盒共享，最稳定快速的当地IPTV方案","covers":["https://www.evernote.com/shard/s122/sh/e1cc6842-a4c0-4b0e-b767-ab0cea2d8ef3/JQYYolsVP550BLy8SSoZTzT4iL1eQb0WGhqw3OTVLoiSqcCSyYHWl1IezA/deep/0/image.png","https://www.evernote.com/shard/s122/sh/11465e85-0322-42f7-8e75-a63d987cc78b/f2UNSyxBZA4Ba4eBcVW1Oqs8p3AY4IoWubsnuHcfWblRrEyXb6rMTaOzQg/deep/0/image.png","https://www.evernote.com/shard/s122/sh/9b35253b-5d18-4c5c-8bf0-98cd526f09ca/NclqTKfZzzH18GL4UAUbQBjrowyrcaDXNbf5LtE7lw4_95KT7zxbXjThoA/deep/0/image.png"],"content":"<img class=\"lozad\" data-src=\"https://www.evernote.com/shard/s122/sh/e1cc6842-a4c0-4b0e-b767-ab0cea2d8ef3/JQYYolsVP550BLy8SSoZTzT4iL1eQb0WGhqw3OTVLoiSqcCSyYHWl1IezA/deep/0/image.png\">\n\n<p>宽带运营商IPTV组播转单播，运营商机顶盒共享，最稳定快速的当地IPTV方案</p>\n<span id=\"more\"></span>\n\n<h1 id=\"有什么用\"><a href=\"#有什么用\" class=\"headerlink\" title=\"有什么用\"></a>有什么用</h1><p>许多老人喜欢看电视（至少比手机屏幕大，视力下降慢一点，这一点每个人都一样）；宽带运营商IPTV组播转单播，可实现本地机顶盒内IPTV节目共享，最稳定快速的IPTV看本地电视节目方案；</p>\n<p>如果你想丢弃宽带运营商那充满广告的机顶盒；</p>\n<p>如果你想让运营商给的机顶盒的IPTV数据传输到本地局域网中的电脑，手机或者自己的机顶盒；或者宽带运营商没有给IPTV机顶盒但是宽带猫的第四个口有IPTV组播数据（如果没有可以，申请试用？或尝试先办理一个月IPTV在取消掉？）</p>\n<p>如果你觉得网络上的IPTV源速度慢，而观看的电视台包含在本地IPTV电视台内，对于这种电视台最好用这种组播（或组播转单播）后观看（理论上速度会快点）</p>\n<h1 id=\"怎么用\"><a href=\"#怎么用\" class=\"headerlink\" title=\"怎么用\"></a>怎么用</h1><p>首先要确认你的宽带及各项准备前提条件能满足的情况下再操作，详见原文章节“<a href=\"/202312111310.html#%E4%B8%80%E3%80%81%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C\">准备工作</a>”，以下假设这些前提准备工作都满足或可以很快满足的情况下进行探讨。</p>\n<ol>\n<li><p>在客户端安装对应的播放程序：</p>\n<ol>\n<li>安卓盒子或者电视推荐iptv pro</li>\n<li>PC推荐vlc和mpc be</li>\n<li>Mac和ios推荐vlc</li>\n</ol>\n</li>\n<li><p>打开播放程序加载github项目的m3u列表（请注意：这些地址只能是本地局域网内使用，最简单也要有单独的网线插到宽带猫的Lan4口情况下）</p>\n<ol>\n<li><p>联通组播列表地址（举例：北京联通）</p>\n<ol>\n<li><a href=\"https://bjiptv.gq/IPTV-Unicom-Multicast.m3u\">https://bjiptv.gq/IPTV-Unicom-Multicast.m3u</a><ol>\n<li>这种是假设猫的LAN4口有单独的组播数据情况下使用</li>\n</ol>\n</li>\n<li><a href=\"https://bjiptv.gq/IPTV-Unicom.m3u\">https://bjiptv.gq/IPTV-Unicom.m3u</a> （本地自用）<ol>\n<li>这种是在路由器（IP设置成：192.168.123.1）上配置好了udpxy代理组播（端口设置成：23234）；如果不是请按自己情况批量修改一下路由器IP和端口信息即可。</li>\n</ol>\n</li>\n</ol>\n</li>\n<li><p>移动组播列表地址（举例：北京移动）</p>\n<ol>\n<li><a href=\"https://bjiptv.gq/IPTV-Mobile-Multicast.m3u\">https://bjiptv.gq/IPTV-Mobile-Multicast.m3u</a><ol>\n<li>这种是假设猫的LAN4口有单独的组播数据情况下使用</li>\n</ol>\n</li>\n<li><a href=\"https://bjiptv.gq/IPTV-Mobile.m3u\">https://bjiptv.gq/IPTV-Mobile.m3u</a> （本地自用）<ol>\n<li>这种是在路由器（IP设置成：192.168.123.1）上配置好了udpxy代理组播（端口设置成：23234）；如果不是请按自己情况批量修改一下路由器IP和端口信息即可。</li>\n</ol>\n</li>\n</ol>\n</li>\n<li><p>其他地区的组播地址</p>\n<ol>\n<li><p>方法一：组播地址<a href=\"https://mirror.ghproxy.com/https://raw.githubusercontent.com/qwerttvv/Beijing-IPTV/master/iptvscanner.7z\">扫描</a>。扫描好后得到的地址就是组播的地址列表信息，可编辑成m3u格式提供给客户端播放。</p>\n</li>\n<li><p>方法二：抓包</p>\n<ol>\n<li><p>比如openwrt的tcpdump抓取</p>\n</li>\n<li><p>连接在一起用电脑端的抓包工具</p>\n</li>\n</ol>\n</li>\n</ol>\n</li>\n</ol>\n</li>\n</ol>\n<p>[转载]组播看电视简要操作说明：</p>\n<p><img data-src=\"https://www.evernote.com/shard/s122/sh/11465e85-0322-42f7-8e75-a63d987cc78b/f2UNSyxBZA4Ba4eBcVW1Oqs8p3AY4IoWubsnuHcfWblRrEyXb6rMTaOzQg/deep/0/image.png\" alt=\"组播看电视简要操作说明\"></p>\n<p>[转载]udpxy组播转单播看电视简要操作说明</p>\n<p><img data-src=\"https://www.evernote.com/shard/s122/sh/9b35253b-5d18-4c5c-8bf0-98cd526f09ca/NclqTKfZzzH18GL4UAUbQBjrowyrcaDXNbf5LtE7lw4_95KT7zxbXjThoA/deep/0/image.png\" alt=\"udpxy组播转单播看电视简要操作说明\"></p>\n<h1 id=\"相关内容\"><a href=\"#相关内容\" class=\"headerlink\" title=\"相关内容\"></a>相关内容</h1><p>如果您对相关的 <a href=\"https://www.carlzeng.top/search?q=影视资源\">电视节目&#x2F;影视资源</a> 感兴趣，以下内容可能帮到您：</p>\n<iframe style=\"box-shadow: 0px 0px 20px -10px;\" src=\"https://www.carlzeng.top/search?q=影视资源\" frameborder=\"0\" scrolling=\"auto\" width=\"100%\" height=\"500\"></iframe>\n\n<h1 id=\"实现方法\"><a href=\"#实现方法\" class=\"headerlink\" title=\"实现方法\"></a>实现方法</h1><p>我遇到绝大多数情况都要从Lan4口单独接一条网线到路由器上（如果你的网络布线条件不允许，可以在增加一台‘小’路由器放在宽带猫一起，用网线把它们连接起来；然后机顶盒或者电视连接这个‘小’路由器来播放运营商提供的IPTV节目资源）</p>\n<p>最完美的情况是电视或者电视盒子连接到udpxy组播转发的路由器同时改路由器也可以上网，这样就实现了更庞大的m3u节目列表，不仅仅局限于观看运营商提供的本地电视节目IPTV，而且合并观看国际互联网上提供的IPTV节目源（比如各个国家地区的IPTV台）</p>\n<p>所以如上图所示，从宽带猫拉两条网线至路由器（可以安装定制系统的路由器）是最佳方案。</p>\n<ol>\n<li>各种前提条件满足且拉好并连接两根网线（常见情况）以后<ol>\n<li>确定宽带猫的IPTV端口。根据猫的IPTV端口不同情况分为：双网线和单网线两种情况</li>\n</ol>\n</li>\n<li>设置路由器（openwrt，老毛子、梅林）<ol>\n<li>设置虚拟iptv接口和防火墙：<ol>\n<li>负责传输iptv组播数据的网线，先新建接口，名称tv，协议dhcp客户端，再到lan的设置，在物理设置中去掉刚刚的接口，也就是eth3，并且开启igmp snooping。根据个人情况：关闭openwrt的防火墙（删除默认配置）</li>\n<li>地址样式：rtp:&#x2F;&#x2F;239.3.1.159:8000</li>\n</ol>\n</li>\n<li>组播转单播udpxy设置：<ol>\n<li>指定端口启用一下，配置关联上一步的虚拟iptv接口</li>\n<li>地址样式：<a href=\"http://192.168.123.1:23234/rtp/239.3.1.159:8000\">http://192.168.123.1:23234/rtp/239.3.1.159:8000</a></li>\n</ol>\n</li>\n</ol>\n</li>\n<li>编辑m3u媒体地址源文件<ol>\n<li>如果刻意设置成一样本地地址，可以直接下载使用上面的m3u文件</li>\n<li>有的客户端使用txt的文件格式（比如DIYP），原理&#x2F;格式大同小异</li>\n</ol>\n</li>\n<li>客户端播放<ol>\n<li>根据不同的设备平台或系统，选一个客户端播放上面步骤保存的文件</li>\n</ol>\n</li>\n</ol>\n<h2 id=\"感谢列表\"><a href=\"#感谢列表\" class=\"headerlink\" title=\"感谢列表\"></a>感谢列表</h2><p><a href=\"https://github.com/qwerttvv/Beijing-IPTV\">最好用的北京联通、北京移动IPTV频道列表。https://bjiptv.gq/</a></p>\n<p><a href=\"http://epg.51zmt.top:8000/\">提供EPG的频道列表，每日与EPG同步更新</a></p>\n<h1 id=\"实践过程曲折\"><a href=\"#实践过程曲折\" class=\"headerlink\" title=\"实践过程曲折\"></a>实践过程曲折</h1><p>因为各个地区以及不同的ISP运营商的组播方案会有不同，加上个人的家庭组网方案不一样，所以需要读懂理解上面的原理，然后着手才不会迷失方向。完全照搬教程的话，很容易进入死胡同卡死。</p>\n<h2 id=\"个人组网方式\"><a href=\"#个人组网方式\" class=\"headerlink\" title=\"个人组网方式\"></a>个人组网方式</h2><ol>\n<li>经过测试光猫的Lan3，Lan4口这些都有组播数据</li>\n</ol>\n<p>​\t\t测试方法：由于我没有使用带网口的PC或者电脑，我就用另外一个路由器（刷了hanwckf移植版padavan，也可以是openwrt，我们称之为测试路由器），</p>\n<p>​\t\t\t把测试路由器的Lan IP地址设置成192.168.1.2，这样避免和光猫的192.168.1.1冲突，又同属于192.168.1网段；</p>\n<p>​\t\t\t然后打开机顶盒让机顶盒正常播放电视直播（这个过程有时是必须的，因为运营商在机顶盒中内置了与盒端管理平台授权的数据交换；以及心跳包等等，有可能会因为多久没有激活授权而收不到组播数据？继续测试中…）</p>\n<p>​\t\t\t然后用扫描工具扫描（或者抓包）当地运营商的组播网段，现成的工具有iptvsearch.py，测试中发现虽然该工具不完美，但还是能扫出几台组播地址（和端口）的。效率比较低；不过也强于multicast-scanner.py（同等环境，我是什么都扫不出来）具体的gihub项目地址，<a href=\"https://c.carlzeng.top:3/web\">用Google搜索一下</a></p>\n<ol start=\"2\">\n<li><p>从光猫拉两根线到路由器（猫和路由器位置远，为了提高路由器发射各个房间的覆盖率），一根进软路由负责拨号上网，一根（Lan3或者Lan4组播数据）进旁路由（做成AP功能）负责udpxy组播转成单播。</p>\n</li>\n<li><p>转化为UDPrxy地址，测试单播</p>\n<pre><code> 路由器作为中间连接起的关键是：\n     要把路由器Lan口设置成IP 192.168.1.2\n     1. 不能和猫的192.168.1.1冲突\n     2. 不能使用路由器的wan口\n</code></pre>\n<p> 发现<br> 1. 要先注册了平台，才能使用组播地址（也就是需要开启机顶盒一下，有心跳包）<br> 2. ‘答案’的组播播放列表，即便是最新今年2月份，还是旧了，高清频道都无法播放（估计地址或端口都变了）；还是得要自己去抓取！<br><br> 3.先把udprxy设置正确后，在说抓包的事（有gcc，linux方案了）<br> 测试仍然可用：普清，速度很快<br>     rtp:&#x2F;&#x2F;239.3.1.1:8000</p>\n</li>\n</ol>\n<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\t先用命令，更直观；文档更全，清晰，避免不必要的麻烦。文档：https://github.com/wuwentao/bj-unicom-iptv/blob/master/iptv.md</span><br><span class=\"line\"></span><br><span class=\"line\">\t实在搞不定，就把K2P刷梅林固件吧，很直观的IPTV解决方案</span><br><span class=\"line\">\t目标：http://192.168.1.2:8012/rtp/239.3.1.1:8000</span><br><span class=\"line\"></span><br><span class=\"line\">\t无法成功，转思路： K2P梅林固件</span><br><span class=\"line\">  找不到meilin固件下载； 刷padavan也有iptv选项，觉得换到padavan是目前最佳方案</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t刷入最容易获取的hiboy的192.168.123.1（admin：admin） padavan；测试IPTV</span><br><span class=\"line\">\t成功了，不是用udpxy，而是使用了 可扩展的 UPnP 代理 (xUPNPd)，Web 端口: 8888</span><br><span class=\"line\">\tUI上可以点击成功，调用VLC播放；</span><br><span class=\"line\"></span><br><span class=\"line\">\t手动测试</span><br><span class=\"line\">\thttp://192.168.1.2:8888/rtp/239.3.1.1:8000</span><br><span class=\"line\">\t无法成功，说明这个xUPNPd是虚的，只能连接到rtp</span><br><span class=\"line\"></span><br><span class=\"line\">\tudpxy -p 8012</span><br><span class=\"line\">\t成功http://192.168.1.2:8012/status</span><br><span class=\"line\">\t确定目标： http://192.168.1.2:8012/rtp/239.3.1.1:8000</span><br><span class=\"line\">\t不认真了 应该是udp： http://192.168.1.2:8012/udp/239.3.1.1:8000</span><br><span class=\"line\">\t版本不一样！ 我这个padavan的udpxy版本：udpxy v. 1.0 (Build 25) standard - <span class=\"section\">[Thu Jan 1 00:27:29 2015]</span></span><br><span class=\"line\"></span><br><span class=\"line\">输出后台错误：</span><br><span class=\"line\">\tset_multicast: setsockopt MCAST option: ADD: No such device</span><br><span class=\"line\">\t00:32:36.828673 CST  c(32731)        Sent HTTP response <span class=\"attr\">code</span>=[<span class=\"number\">500</span>], reason=[Service error] to socket=[<span class=\"number\">8</span>]</span><br><span class=\"line\">\tHTTP/1.1 500 Service error</span><br><span class=\"line\"></span><br><span class=\"line\">http://192.168.1.2:4022/udp/239.3.1.1:8000</span><br><span class=\"line\">只能试一试升级udpxy到最新版，看看运气了</span><br><span class=\"line\">这个hiboy的padavan固件，这么那么懒（和我们一样），</span><br><span class=\"line\">\t1. 这么旧了updxy还不更新一下，</span><br><span class=\"line\">\t2. 和UI是脱节的，UI上应用本页设置，不会启动udpxy  :(</span><br><span class=\"line\"></span><br><span class=\"line\">建议换padavan固件，</span><br><span class=\"line\">\tOption <span class=\"comment\">#2 或者手动去升级udpxy，然后用命令去控制（也一样）</span></span><br><span class=\"line\">\tOption <span class=\"comment\">#1 使用固件：K2P nano hanwckf-5.0_Latest2020</span></span><br></pre></td></tr></table></figure>\n\n<p><a href=\"https://www.bilibili.com/video/BV1nE411R7ie\">Openwrt Lede组播网络设置 安卓电视软件播放IPTV</a><br>        这个是特定情况，只能当作大致流程和关键知识点参考，越看越糊涂</p>\n<p>NPM反代uppxy的状态页面出来，方便远程查看服务状态。</p>\n<h1 id=\"下一步\"><a href=\"#下一步\" class=\"headerlink\" title=\"下一步\"></a>下一步</h1><p>把组播转单播后的IPTV（已加入Emby）转发到特定的M3U8？然后供给DIY作为一个数据源，如何实现？</p>\n<h1 id=\"原文转载如下：\"><a href=\"#原文转载如下：\" class=\"headerlink\" title=\"原文转载如下：\"></a>原文转载如下：</h1><hr>\n<hr>\n<h1 id=\"〇、前情提要\"><a href=\"#〇、前情提要\" class=\"headerlink\" title=\"〇、前情提要\"></a>〇、前情提要</h1><p>虽然没有开issues，但还是经常有人千辛万苦拐弯抹角的联系到我，主要就是询问如何甩开机顶盒观看iptv、解决抢电视一类问题什么的，甚至不交钱白嫖的，对此我也花了不少的时间逐一讲解、帮助，后来我想了想，本来也不是什么难事儿，干脆系统一点儿完整写下来贴出来吧，对此，就有了如下内容。</p>\n<p>首先本文是对应北京联通和北京移动所针对性撰写，其他地区和其他运营商有可能存在差异，本文可以提供参考。（主要是区别于组播数据都需要鉴权的那些，一个是服务商局端校验设备mac地址，那么对应办法就是在路由器接口中，更改为你电视盒子背面的mac地址，还有验证账户的，那就改对应协议填写对应的账号和密码。这里我自己没有用过，仅抛砖引玉提供思路，其实说来说去套路就这么些，总能绕过去的。还有一个就是光猫本身并没有自带或者说局端没有默认下发IPTV的配置，这种情况也很简单，照着本区域内其他有相关配置的人光猫里头，在自己光猫新建个接口，把相关信息抄过来就可以了，邻里关系不好，同城又谁都不认识，网上也没人分享也求不到，那你就办一个月iptv，交一个月钱，到时候你光猫里就有相关信息了，自己记下来备用即可）</p>\n<p>其次，本文针对新手人群为主，条条大路通罗马，其中可变通的部分我可能会介绍到，也或者略过不提，其最终目的就是以最小成本调通设备，如果在这种前提下你有更优雅的方式方法，欢迎（不辞辛劳）联系探讨</p>\n<p>我本人不爱抓图，本文会是纯文字教学，会写的比较详细，尽量做到包教包会，请具备耐心，一步一步跟着来，不会存在什么障碍，照着来，一定行</p>\n<p>最后，本文包括本github项目仅为技术交流学习所用，本人不对由此产生的一切后果负责</p>\n<p>如果你充分理解了以上三点，尤其是最后一点，那么请继续往下看</p>\n<h1 id=\"一、准备工作\"><a href=\"#一、准备工作\" class=\"headerlink\" title=\"一、准备工作\"></a>一、准备工作</h1><h2 id=\"1、宽带\"><a href=\"#1、宽带\" class=\"headerlink\" title=\"1、宽带\"></a>1、宽带</h2><p>已经安装好宽带产品，并且光猫可以正常使用，家里已经可以通过宽带正常上网，正常通过盒子看iptv（或者极端一些的情况比如宽带撤了不能上网，但光纤线路和光猫设备保留，或者还没来得及开通iptv，想先体验一下试试看什么的……）</p>\n<h2 id=\"2、路由器\"><a href=\"#2、路由器\" class=\"headerlink\" title=\"2、路由器\"></a>2、路由器</h2><p>自购第三方路由器一台以及对应数量的网线，路由器可以刷第三方固件openwrt最佳（本文着重介绍openwrt环境下的使用），梅林（merlin）、老毛子（padavan）等系统亦可。如果不能刷第三方固件，那么路由器官方系统需要具备IPTV相关能力（如果不行，就更新固件到最新版本看看，路由器品种型号众多，配置千奇百怪，这里就只能纯属于撞大运，蒙着来）</p>\n<h2 id=\"3、电脑\"><a href=\"#3、电脑\" class=\"headerlink\" title=\"3、电脑\"></a>3、电脑</h2><p>带有网线接口（RJ45）的电脑一台（不带网线接口但有无线网卡的话也凑合，手机、平板都行，忽略下文第2步，路由器设置时采用无线连接进行、第4步根据第1步的判断盲操多试试即可）</p>\n<h1 id=\"二、具体实施\"><a href=\"#二、具体实施\" class=\"headerlink\" title=\"二、具体实施\"></a>二、具体实施</h1><h2 id=\"1、光猫检查\"><a href=\"#1、光猫检查\" class=\"headerlink\" title=\"1、光猫检查\"></a>1、光猫检查</h2><p>宽带装好后，先什么都不要动、不要调，就用默认光猫拨号的路由模式，不要改桥接，观察一下附带光猫的接口哪个是上网，哪个是iptv，或者是可以四个口盲插类型。你可以看光猫说明书，可以看光猫接口处外观印刷或者按照后文方法试验确认。目前北京大部分新的光猫都是可以盲插的，几个接口都是高速的，也就是一个接口同时可以上网和看iptv，一些光猫是最后的一个口专门看iptv，前几个口上网，甚至有些旧型号只有第一个接口是千兆，其余都是百兆。如果你的光猫是支持盲插的，那么你可以单线复用，即一根网线插到路由器负责上网和iptv。也可以两根线都插到路由器，一根负责上网一根负责iptv。如果你的光猫不能盲插，那么你只能用两根网线从光猫接到路由器上，分别上网和iptv用.。或者你根据你的需求，打电话给运营商试试要求他们给你换个更好的光猫。还有一个需要看清楚后边用得到的，就是你光猫的网段，一般情况下默认都是192.168.1.1，如果不是，务必看清、记住你光猫的网段</p>\n<h2 id=\"2、环境验证\"><a href=\"#2、环境验证\" class=\"headerlink\" title=\"2、环境验证\"></a>2、环境验证</h2><p>上一步已经判断了哪个口可以看iptv，这一步就来验证一下，直接用网线连接电脑和光猫，光猫先试第一个口，电脑的网卡采用自动获取（DHCP客户端模式）地址，插上网线以后稍等一会儿，或者在cmd中输入ipconfig &#x2F;renew后等待结果返回，然后打开支持组播观看的播放器，比如VLC、MPC BE，播放比如北京联通的 rtp:&#x2F;&#x2F;239.3.1.241:8000 或者北京移动的rtp:&#x2F;&#x2F;228.1.1.115:8000 ，如果可以播放出画面，那接下来再看看能不能上网，如果还可以上网，那光猫这个接口就属于可以单线复用，大概率也支持几个口盲插（你可以插剩下几个光猫接口也试试）。如果你只有特定接口可以上网，特定接口可以看组播的iptv，那么你就记清哪个口可以做什么。</p>\n<h2 id=\"3、网段设置\"><a href=\"#3、网段设置\" class=\"headerlink\" title=\"3、网段设置\"></a>3、网段设置</h2><p>电脑单独用网线接入只插了电脑网线的路由器lan口（除了电脑，路由器别的都别插）。首先检查路由器lan的网段是否与光猫重合，如果重合了，就换一个，建议用192.168.123.1，这样的话就可以直接用本github项目的列表直接看单播的电视了。这里以openwrt举例（其他系统类似），电脑自动获取本地ip地址后，在cmd窗口中键入ipconfig &#x2F;renew等待返回后查看网关是多少，直接浏览器访问该地址，进入后台在“网络-接口-lan”里边把地址改好。</p>\n<h2 id=\"4、路由器关键设置\"><a href=\"#4、路由器关键设置\" class=\"headerlink\" title=\"4、路由器关键设置\"></a>4、路由器关键设置</h2><p><strong>关键一步，分两种情况</strong>，就是前文提到的依据光猫类型的不同，分为单线复用（一根线同时上网&amp;看iptv），以及双线连接。</p>\n<h3 id=\"4-1、路由器关键设置-双线\"><a href=\"#4-1、路由器关键设置-双线\" class=\"headerlink\" title=\"4.1、路由器关键设置-双线\"></a>4.1、路由器关键设置-双线</h3><p>这里先说<strong>双线的情况</strong>。你需要用两根网线分别连接光猫的两个口（根据前文判断一个口负责上网，一个负责看iptv），网线另一端连接你的路由器，负责上网的连接wan口，负责传输组播iptv数据的随便接到剩余哪个lan口都行。</p>\n<h4 id=\"4-1-1、路由器关键设置-双线-openwrt\"><a href=\"#4-1-1、路由器关键设置-双线-openwrt\" class=\"headerlink\" title=\"4.1.1、路由器关键设置-双线-openwrt\"></a>4.1.1、路由器关键设置-双线-openwrt</h4><p>先以openwrt举例，在接口设置中，wan就按照你的设定直接dhcp客户端自动获取即可。重点是另一根负责传输iptv组播数据的网线，先新建接口，名称tv，协议dhcp客户端，接口的话看看你iptv的线接到哪个物理接口，就选哪个，这里以eth3举例（一般默认物理wan口是eth0，那么如果你一共4个物理接口，eth3就是第四个物理接口，eth1就是挨着物理wan口的第二个物理口，自己数数是哪个物理接口）。这时候再到lan的设置，在物理设置中去掉刚刚的接口，也就是eth3，并且开启igmp snooping。</p>\n<h4 id=\"4-1-2路由器关键设置-双线-老毛子、梅林\"><a href=\"#4-1-2路由器关键设置-双线-老毛子、梅林\" class=\"headerlink\" title=\"4.1.2路由器关键设置-双线-老毛子、梅林\"></a>4.1.2路由器关键设置-双线-老毛子、梅林</h4><p>如果你是老毛子，或者梅林，你就试试插好线以后直接按第五步往下走，如果不行，就继续看4.2部分（我已经记不清梅林和老毛子相关默认设置是什么、双线行不行了，你们自己试一下，印象里单线应该是没问题的，双线自己试试）。</p>\n<h4 id=\"4-1-3、路由器关键设置-双线-其他\"><a href=\"#4-1-3、路由器关键设置-双线-其他\" class=\"headerlink\" title=\"4.1.3、路由器关键设置-双线-其他\"></a>4.1.3、路由器关键设置-双线-其他</h4><p>如果你是其他不具备相关能力的普通路由器，这种情况你只能在目前的状态下去第六步试试看直接播放组播（一众tplink其实已经可以看组播的iptv了），如果不能播放，那就继续看4.2部分对应内容</p>\n<h3 id=\"4-2、路由器关键设置-单线\"><a href=\"#4-2、路由器关键设置-单线\" class=\"headerlink\" title=\"4.2、路由器关键设置-单线\"></a>4.2、路由器关键设置-单线</h3><p>这里再说<strong>单线的情况</strong>，网上很多人说划vlan，其实不用，因为光猫破解越来越难，你拿不到权限，根本不能设置vlan，与其花钱新买一个破解好的光猫（或者好破解的），或者添加一个带有管理功能的高级交换机，不如花钱买一个好一些的路由器刷个openwrt来得实在，然后甚至打电话叫运营商直接后台给你改光猫为桥接用路由器来拨号————扯远了，单线的话就是一根线连接光猫和路由器，路由器要插到wan口，光猫用哪个口按照前文判断来（大概率可以盲插）</p>\n<h4 id=\"4-2-1、路由器关键设置-单线-openwrt\"><a href=\"#4-2-1、路由器关键设置-单线-openwrt\" class=\"headerlink\" title=\"4.2.1、路由器关键设置-单线-openwrt\"></a>4.2.1、路由器关键设置-单线-openwrt</h4><p>这里仍旧先以openwrt举例，光猫网线连接你路由器的wan口，然后需要在你的wan口（一般默认物理接口为eth0）建立两个连接，默认应该已经有一个了，默认的那个连接就叫wan，负责上网，采用dhcp客户端自动获取即可。重点来了，这时候新建一个新的接口，物理接口也选eth0，取名叫tv，协议是dhcp客户端，在tv接口的高级设置里，网关跃点填大一些，比如22（别问为什么不是20，因为没小键盘，因为懒，懂？）。</p>\n<h4 id=\"4-2-2、路由器关键设置-单线-老毛子、梅林\"><a href=\"#4-2-2、路由器关键设置-单线-老毛子、梅林\" class=\"headerlink\" title=\"4.2.2、路由器关键设置-单线-老毛子、梅林\"></a>4.2.2、路由器关键设置-单线-老毛子、梅林</h4><p>梅林和老毛子与刚刚4.1.2一样，插好线就直接试第五步（我印象里单线是可以的，或者两者都可以？我记不清了，你们自己试试，总归绝对是可以的）</p>\n<h4 id=\"4-2-3、路由器关键设置-单线-其他\"><a href=\"#4-2-3、路由器关键设置-单线-其他\" class=\"headerlink\" title=\"4.2.3、路由器关键设置-单线-其他\"></a>4.2.3、路由器关键设置-单线-其他</h4><p>其他没有iptv包括找不到igmp选项的路由器，去第六步播放组播试试吧，如果不行，那这破玩意儿就扔了吧…破烂儿留着干嘛使啊……实在心疼，不想扔，留着做ap我估计也好不到哪儿去，年代久远的老古董，功能不行，性能肯定也太差了跟不上时代了……</p>\n<h2 id=\"5、组播转单播\"><a href=\"#5、组播转单播\" class=\"headerlink\" title=\"5、组播转单播\"></a>5、组播转单播</h2><p>这一步要把组播数据转为单播数据（不具备组播转单播能力的路由器不用看这里了，客户端直接看组播数据的iptv吧，如果可以的话…）。</p>\n<h3 id=\"5-1、组播转单播-openwrt\"><a href=\"#5-1、组播转单播-openwrt\" class=\"headerlink\" title=\"5.1、组播转单播-openwrt\"></a>5.1、组播转单播-openwrt</h3><p>依旧先以openwrt详细说明，那就是udpxy这个程序，如果没有，自己opkg安装一个或者编译固件时候带上。在udpxy的luci里勾选启用，在Bind IP&#x2F;Interface里填写你lan的接口，一般默认为br-lan，在Source IP&#x2F;Interface里填写第4步你组播接口的地址，双线的那个是eth3，单线的是eth0，端口随便来一个只要不冲突即可，推荐23234，这样你可以直接用本github项目的列表看单播iptv了</p>\n<h4 id=\"5-1-1、组播转单播-openwrt-防火墙\"><a href=\"#5-1-1、组播转单播-openwrt-防火墙\" class=\"headerlink\" title=\"5.1.1、组播转单播-openwrt-防火墙\"></a>5.1.1、组播转单播-openwrt-防火墙</h4><p>这里额外说一下openwrt的防火墙，我之前刚刚接触openwrt时候，防火墙这里踩了不少坑，iptv死活看不了，最后发现是防火墙的逻辑没搞对…我现在的做法比较粗犷，我默认允许全部接口的全部流量自由进出，默认自带的防火墙规则也全删了，然后额外添加了一条wan口忽略icmp（ping），之后再扫描了我的外网ip，0-65535端口全扫了，不知道为何80，443，53是开放的（但是外网也不能提供对应服务），我本机web管理权只允许lan接口，而且没有443对应服务，dns也设置为仅服务于内部…不管了，我直接添加对应规则把这几个端口wan进来的流量丢弃就完了，属于另辟蹊径吧。如果你扫到其他开放的端口，你可以采取类似措施直接添加防火墙规则即可，其余的流量全部放行。具体操作流程就是先把lan到wan和wan到lan全部的进出和转发都勾选上，再到流量规则里把系统自带的规则都删掉，再添加wan口那几个端口丢弃和一个icmp丢弃就行了，很简单很高效。或者说如果你觉得不放心，那么你可以按照传统的思路指定tv接口一个新的防火墙区域，手工添加对应的igmp和udp规则。</p>\n<h3 id=\"5-2、组播转单播-老毛子、梅林\"><a href=\"#5-2、组播转单播-老毛子、梅林\" class=\"headerlink\" title=\"5.2、组播转单播-老毛子、梅林\"></a>5.2、组播转单播-老毛子、梅林</h3><p>梅林和老毛子同样有组播转单播的组件，填写端口23234并且启用即可（印象里梅林和老毛子不用设置接口什么的，默认监听0.0.0.0？），但是要记得找找igmp snooping勾上，还有找找网络风暴，根据设备硬件能力吧，写个5m意思意思？差不多吧反正平时都看单播而且已经开了igmp snooping。这个时候你可以ssh上路由器，ps命令看一下udpxy进程是不是已经跑起来了（梅林和老毛子都用udpxy的）。老毛子和梅林的防火墙不用调，我记得默认就没问题</p>\n<h2 id=\"6、客户端播放\"><a href=\"#6、客户端播放\" class=\"headerlink\" title=\"6、客户端播放\"></a>6、客户端播放</h2><p>在客户端安装对应的播放程序，安卓盒子或者电视推荐iptv pro，pc推荐vlc和mpc be，mac和ios推荐vlc。打开播放程序，如果你的路由器有组播转单播服务，那么你可以看单播了，北京联通的话类似 <a href=\"http://192.168.123.1:23234/rtp/239.3.1.241:8000\">http://192.168.123.1:23234/rtp/239.3.1.241:8000</a> 192.168.123.1是你路由器的地址，23234是你组播转单播程序的端口。当然你的路由器ip和对应服务端口如果和我一样，你就可以直接用播放程序打开本github项目的m3u列表比如联通的IPTV-Unicom.m3u或移动的IPTV-Mobile.m3u，把列表的在线地址直接添加到程序里，这样我这边更新了，你那里什么都不用调整，直接可以看新的频道。如果你是tplink什么的路由器，那么你只能以组播形式看iptv了，比如北京联通的 rtp:&#x2F;&#x2F;239.3.1.241:8000 或者北京移动的 rtp:&#x2F;&#x2F;228.1.1.115:8000 ，列表文件联通的是IPTV-Unicom-Multicast.m3u，移动的是IPTV-Mobile-Multicast.m3u</p>\n<h3 id=\"7、其他提示\"><a href=\"#7、其他提示\" class=\"headerlink\" title=\"7、其他提示\"></a>7、其他提示</h3><p>我个人是倾向于igmp流量在路由里不进行转发的，内网我本人从来不看组播，直接看单播就可以了，如果有需要，可以在老毛子和梅林自己打开转发设置，openwrt可以安装igmpproxy或omcproxy。另外可能有聪明的伙计没有按照教程来，比如光猫改了桥接用路由器拨号，比如光猫里关掉了dhcp服务，比如光猫已破解并且还原配置界面可以划分vlan一类的，嗯，如果能用那就都挺好的。尤其是搭配那些自定义程度很低的路由器用的，那你可能iptv就调不通了，我这里的建议是如果你调不通，相关原理也不能完全理解透彻，那就先不要自作聪明，按照教程一步一步来吧。如果你用自定义程度很高的路由器系统比如openwrt，或者用老毛子、梅林且手撸脚本能力很强，那你肯定是前文所说的条条大路通罗马了，不过那都是后话了，本文你也用不上不是吗：）当然，在openwrt里进行pppoe拨号上网，并且光猫关掉dhcp服务是比较科学的，只需要打电话给运营商告诉他们自己要改桥接，对方tr069远程给你下发配置，3分钟的事儿（算上语音等待的话前后5分钟？），你光猫就桥接了，关闭dhcp服务的话我用过的几个光猫，其背面印刷的user权限就都可以调整了，之后openwrt里wan的接口改pppoe协议，添加你的宽带拨号账户，然后接口tv把dhcp客户端改成静态地址，自己添加好ip就可以了。还有一个事儿，好像还有个都市传说，就是很早以前说北京联通的IPTV盒子必须每个月至少使用一次，不然不激活一下的话，会被取消掉服务？我好几年没开过那个了，呃，也不是，一年多以前听说iptv盒子换支持4k60fps（要不就是4k120fps？只开过一次，忘了）高级货的时候儿，我打电话让他们给我换了一个，当时小哥上门过来时候开了那么一下，当然，我那个时候提前把光猫的dhcp服务打开了，不然iptv盒子注册不上，毕竟白嫖的新款高级的iptv盒子，里边没有相关配置：）好吧，我就想说我iptv盒子属于基本没开过，iptv服务也一直在，没被取消掉。</p>\n<h1 id=\"最后\"><a href=\"#最后\" class=\"headerlink\" title=\"最后\"></a>最后</h1><p>本github项目注明了CC0协议，本文属于该项目的一部分，但是我仍旧希望转载本文的各位可以保留全文并且注明出处——<a href=\"https://github.com/qwerttvv/Beijing-IPTV\" title=\"https://github.com/qwerttvv/Beijing-IPTV\">https://github.com/qwerttvv/Beijing-IPTV</a></p>\n<p>大概没什么可啰嗦的了，就这样</p>\n<p>祝各位好运</p>\n<hr>\n<hr>\n<h1 id=\"原文转载结束\"><a href=\"#原文转载结束\" class=\"headerlink\" title=\"原文转载结束\"></a>原文转载结束</h1><h1 id=\"预览Emby中的电视直播\"><a href=\"#预览Emby中的电视直播\" class=\"headerlink\" title=\"预览Emby中的电视直播\"></a>预览Emby中的电视直播</h1><p>开放测试<br>用户：user 密码：user</p>\n<iframe style=\"box-shadow: 0px 0px 20px -10px;\" src=\"https://c.carlzeng.top:3/iptv\" frameborder=\"0\" scrolling=\"auto\" width=\"100%\" height=\"800\"></iframe>\n\n\n\n<p><em>本文内容均来自网络，如有侵害到您权益，请告知<a href=\"mailto:zeng.chuanzhuo@icloud.com\">我们</a>，我们会立即处理相关内容。</em></p>\n<h2 id=\"其他客户端播放器\"><a href=\"#其他客户端播放器\" class=\"headerlink\" title=\"其他客户端播放器\"></a>其他客户端播放器</h2><p>Android电视和手机用DIYP影音或友窝</p>\n<p>PC电脑用黑鸟播放器</p>\n<p>iPad用 Cloud Stream IPTV Player</p>\n<p>Mac用 VLC</p>\n","more":"<h1 id=\"有什么用\"><a href=\"#有什么用\" class=\"headerlink\" title=\"有什么用\"></a>有什么用</h1><p>许多老人喜欢看电视（至少比手机屏幕大，视力下降慢一点，这一点每个人都一样）；宽带运营商IPTV组播转单播，可实现本地机顶盒内IPTV节目共享，最稳定快速的IPTV看本地电视节目方案；</p>\n<p>如果你想丢弃宽带运营商那充满广告的机顶盒；</p>\n<p>如果你想让运营商给的机顶盒的IPTV数据传输到本地局域网中的电脑，手机或者自己的机顶盒；或者宽带运营商没有给IPTV机顶盒但是宽带猫的第四个口有IPTV组播数据（如果没有可以，申请试用？或尝试先办理一个月IPTV在取消掉？）</p>\n<p>如果你觉得网络上的IPTV源速度慢，而观看的电视台包含在本地IPTV电视台内，对于这种电视台最好用这种组播（或组播转单播）后观看（理论上速度会快点）</p>\n<h1 id=\"怎么用\"><a href=\"#怎么用\" class=\"headerlink\" title=\"怎么用\"></a>怎么用</h1><p>首先要确认你的宽带及各项准备前提条件能满足的情况下再操作，详见原文章节“<a href=\"/202312111310.html#%E4%B8%80%E3%80%81%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C\">准备工作</a>”，以下假设这些前提准备工作都满足或可以很快满足的情况下进行探讨。</p>\n<ol>\n<li><p>在客户端安装对应的播放程序：</p>\n<ol>\n<li>安卓盒子或者电视推荐iptv pro</li>\n<li>PC推荐vlc和mpc be</li>\n<li>Mac和ios推荐vlc</li>\n</ol>\n</li>\n<li><p>打开播放程序加载github项目的m3u列表（请注意：这些地址只能是本地局域网内使用，最简单也要有单独的网线插到宽带猫的Lan4口情况下）</p>\n<ol>\n<li><p>联通组播列表地址（举例：北京联通）</p>\n<ol>\n<li><a href=\"https://bjiptv.gq/IPTV-Unicom-Multicast.m3u\">https://bjiptv.gq/IPTV-Unicom-Multicast.m3u</a><ol>\n<li>这种是假设猫的LAN4口有单独的组播数据情况下使用</li>\n</ol>\n</li>\n<li><a href=\"https://bjiptv.gq/IPTV-Unicom.m3u\">https://bjiptv.gq/IPTV-Unicom.m3u</a> （本地自用）<ol>\n<li>这种是在路由器（IP设置成：192.168.123.1）上配置好了udpxy代理组播（端口设置成：23234）；如果不是请按自己情况批量修改一下路由器IP和端口信息即可。</li>\n</ol>\n</li>\n</ol>\n</li>\n<li><p>移动组播列表地址（举例：北京移动）</p>\n<ol>\n<li><a href=\"https://bjiptv.gq/IPTV-Mobile-Multicast.m3u\">https://bjiptv.gq/IPTV-Mobile-Multicast.m3u</a><ol>\n<li>这种是假设猫的LAN4口有单独的组播数据情况下使用</li>\n</ol>\n</li>\n<li><a href=\"https://bjiptv.gq/IPTV-Mobile.m3u\">https://bjiptv.gq/IPTV-Mobile.m3u</a> （本地自用）<ol>\n<li>这种是在路由器（IP设置成：192.168.123.1）上配置好了udpxy代理组播（端口设置成：23234）；如果不是请按自己情况批量修改一下路由器IP和端口信息即可。</li>\n</ol>\n</li>\n</ol>\n</li>\n<li><p>其他地区的组播地址</p>\n<ol>\n<li><p>方法一：组播地址<a href=\"https://mirror.ghproxy.com/https://raw.githubusercontent.com/qwerttvv/Beijing-IPTV/master/iptvscanner.7z\">扫描</a>。扫描好后得到的地址就是组播的地址列表信息，可编辑成m3u格式提供给客户端播放。</p>\n</li>\n<li><p>方法二：抓包</p>\n<ol>\n<li><p>比如openwrt的tcpdump抓取</p>\n</li>\n<li><p>连接在一起用电脑端的抓包工具</p>\n</li>\n</ol>\n</li>\n</ol>\n</li>\n</ol>\n</li>\n</ol>\n<p>[转载]组播看电视简要操作说明：</p>\n<p><img data-src=\"https://www.evernote.com/shard/s122/sh/11465e85-0322-42f7-8e75-a63d987cc78b/f2UNSyxBZA4Ba4eBcVW1Oqs8p3AY4IoWubsnuHcfWblRrEyXb6rMTaOzQg/deep/0/image.png\" alt=\"组播看电视简要操作说明\"></p>\n<p>[转载]udpxy组播转单播看电视简要操作说明</p>\n<p><img data-src=\"https://www.evernote.com/shard/s122/sh/9b35253b-5d18-4c5c-8bf0-98cd526f09ca/NclqTKfZzzH18GL4UAUbQBjrowyrcaDXNbf5LtE7lw4_95KT7zxbXjThoA/deep/0/image.png\" alt=\"udpxy组播转单播看电视简要操作说明\"></p>\n<h1 id=\"相关内容\"><a href=\"#相关内容\" class=\"headerlink\" title=\"相关内容\"></a>相关内容</h1><p>如果您对相关的 <a href=\"https://www.carlzeng.top/search?q=影视资源\">电视节目&#x2F;影视资源</a> 感兴趣，以下内容可能帮到您：</p>\n<iframe style=\"box-shadow: 0px 0px 20px -10px;\" src=\"https://www.carlzeng.top/search?q=影视资源\" frameborder=\"0\" scrolling=\"auto\" width=\"100%\" height=\"500\"></iframe>\n\n<h1 id=\"实现方法\"><a href=\"#实现方法\" class=\"headerlink\" title=\"实现方法\"></a>实现方法</h1><p>我遇到绝大多数情况都要从Lan4口单独接一条网线到路由器上（如果你的网络布线条件不允许，可以在增加一台‘小’路由器放在宽带猫一起，用网线把它们连接起来；然后机顶盒或者电视连接这个‘小’路由器来播放运营商提供的IPTV节目资源）</p>\n<p>最完美的情况是电视或者电视盒子连接到udpxy组播转发的路由器同时改路由器也可以上网，这样就实现了更庞大的m3u节目列表，不仅仅局限于观看运营商提供的本地电视节目IPTV，而且合并观看国际互联网上提供的IPTV节目源（比如各个国家地区的IPTV台）</p>\n<p>所以如上图所示，从宽带猫拉两条网线至路由器（可以安装定制系统的路由器）是最佳方案。</p>\n<ol>\n<li>各种前提条件满足且拉好并连接两根网线（常见情况）以后<ol>\n<li>确定宽带猫的IPTV端口。根据猫的IPTV端口不同情况分为：双网线和单网线两种情况</li>\n</ol>\n</li>\n<li>设置路由器（openwrt，老毛子、梅林）<ol>\n<li>设置虚拟iptv接口和防火墙：<ol>\n<li>负责传输iptv组播数据的网线，先新建接口，名称tv，协议dhcp客户端，再到lan的设置，在物理设置中去掉刚刚的接口，也就是eth3，并且开启igmp snooping。根据个人情况：关闭openwrt的防火墙（删除默认配置）</li>\n<li>地址样式：rtp:&#x2F;&#x2F;239.3.1.159:8000</li>\n</ol>\n</li>\n<li>组播转单播udpxy设置：<ol>\n<li>指定端口启用一下，配置关联上一步的虚拟iptv接口</li>\n<li>地址样式：<a href=\"http://192.168.123.1:23234/rtp/239.3.1.159:8000\">http://192.168.123.1:23234/rtp/239.3.1.159:8000</a></li>\n</ol>\n</li>\n</ol>\n</li>\n<li>编辑m3u媒体地址源文件<ol>\n<li>如果刻意设置成一样本地地址，可以直接下载使用上面的m3u文件</li>\n<li>有的客户端使用txt的文件格式（比如DIYP），原理&#x2F;格式大同小异</li>\n</ol>\n</li>\n<li>客户端播放<ol>\n<li>根据不同的设备平台或系统，选一个客户端播放上面步骤保存的文件</li>\n</ol>\n</li>\n</ol>\n<h2 id=\"感谢列表\"><a href=\"#感谢列表\" class=\"headerlink\" title=\"感谢列表\"></a>感谢列表</h2><p><a href=\"https://github.com/qwerttvv/Beijing-IPTV\">最好用的北京联通、北京移动IPTV频道列表。https://bjiptv.gq/</a></p>\n<p><a href=\"http://epg.51zmt.top:8000/\">提供EPG的频道列表，每日与EPG同步更新</a></p>\n<h1 id=\"实践过程曲折\"><a href=\"#实践过程曲折\" class=\"headerlink\" title=\"实践过程曲折\"></a>实践过程曲折</h1><p>因为各个地区以及不同的ISP运营商的组播方案会有不同，加上个人的家庭组网方案不一样，所以需要读懂理解上面的原理，然后着手才不会迷失方向。完全照搬教程的话，很容易进入死胡同卡死。</p>\n<h2 id=\"个人组网方式\"><a href=\"#个人组网方式\" class=\"headerlink\" title=\"个人组网方式\"></a>个人组网方式</h2><ol>\n<li>经过测试光猫的Lan3，Lan4口这些都有组播数据</li>\n</ol>\n<p>​\t\t测试方法：由于我没有使用带网口的PC或者电脑，我就用另外一个路由器（刷了hanwckf移植版padavan，也可以是openwrt，我们称之为测试路由器），</p>\n<p>​\t\t\t把测试路由器的Lan IP地址设置成192.168.1.2，这样避免和光猫的192.168.1.1冲突，又同属于192.168.1网段；</p>\n<p>​\t\t\t然后打开机顶盒让机顶盒正常播放电视直播（这个过程有时是必须的，因为运营商在机顶盒中内置了与盒端管理平台授权的数据交换；以及心跳包等等，有可能会因为多久没有激活授权而收不到组播数据？继续测试中…）</p>\n<p>​\t\t\t然后用扫描工具扫描（或者抓包）当地运营商的组播网段，现成的工具有iptvsearch.py，测试中发现虽然该工具不完美，但还是能扫出几台组播地址（和端口）的。效率比较低；不过也强于multicast-scanner.py（同等环境，我是什么都扫不出来）具体的gihub项目地址，<a href=\"https://c.carlzeng.top:3/web\">用Google搜索一下</a></p>\n<ol start=\"2\">\n<li><p>从光猫拉两根线到路由器（猫和路由器位置远，为了提高路由器发射各个房间的覆盖率），一根进软路由负责拨号上网，一根（Lan3或者Lan4组播数据）进旁路由（做成AP功能）负责udpxy组播转成单播。</p>\n</li>\n<li><p>转化为UDPrxy地址，测试单播</p>\n<pre><code> 路由器作为中间连接起的关键是：\n     要把路由器Lan口设置成IP 192.168.1.2\n     1. 不能和猫的192.168.1.1冲突\n     2. 不能使用路由器的wan口\n</code></pre>\n<p> 发现<br> 1. 要先注册了平台，才能使用组播地址（也就是需要开启机顶盒一下，有心跳包）<br> 2. ‘答案’的组播播放列表，即便是最新今年2月份，还是旧了，高清频道都无法播放（估计地址或端口都变了）；还是得要自己去抓取！<br><br> 3.先把udprxy设置正确后，在说抓包的事（有gcc，linux方案了）<br> 测试仍然可用：普清，速度很快<br>     rtp:&#x2F;&#x2F;239.3.1.1:8000</p>\n</li>\n</ol>\n<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\t先用命令，更直观；文档更全，清晰，避免不必要的麻烦。文档：https://github.com/wuwentao/bj-unicom-iptv/blob/master/iptv.md</span><br><span class=\"line\"></span><br><span class=\"line\">\t实在搞不定，就把K2P刷梅林固件吧，很直观的IPTV解决方案</span><br><span class=\"line\">\t目标：http://192.168.1.2:8012/rtp/239.3.1.1:8000</span><br><span class=\"line\"></span><br><span class=\"line\">\t无法成功，转思路： K2P梅林固件</span><br><span class=\"line\">  找不到meilin固件下载； 刷padavan也有iptv选项，觉得换到padavan是目前最佳方案</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t刷入最容易获取的hiboy的192.168.123.1（admin：admin） padavan；测试IPTV</span><br><span class=\"line\">\t成功了，不是用udpxy，而是使用了 可扩展的 UPnP 代理 (xUPNPd)，Web 端口: 8888</span><br><span class=\"line\">\tUI上可以点击成功，调用VLC播放；</span><br><span class=\"line\"></span><br><span class=\"line\">\t手动测试</span><br><span class=\"line\">\thttp://192.168.1.2:8888/rtp/239.3.1.1:8000</span><br><span class=\"line\">\t无法成功，说明这个xUPNPd是虚的，只能连接到rtp</span><br><span class=\"line\"></span><br><span class=\"line\">\tudpxy -p 8012</span><br><span class=\"line\">\t成功http://192.168.1.2:8012/status</span><br><span class=\"line\">\t确定目标： http://192.168.1.2:8012/rtp/239.3.1.1:8000</span><br><span class=\"line\">\t不认真了 应该是udp： http://192.168.1.2:8012/udp/239.3.1.1:8000</span><br><span class=\"line\">\t版本不一样！ 我这个padavan的udpxy版本：udpxy v. 1.0 (Build 25) standard - <span class=\"section\">[Thu Jan 1 00:27:29 2015]</span></span><br><span class=\"line\"></span><br><span class=\"line\">输出后台错误：</span><br><span class=\"line\">\tset_multicast: setsockopt MCAST option: ADD: No such device</span><br><span class=\"line\">\t00:32:36.828673 CST  c(32731)        Sent HTTP response <span class=\"attr\">code</span>=[<span class=\"number\">500</span>], reason=[Service error] to socket=[<span class=\"number\">8</span>]</span><br><span class=\"line\">\tHTTP/1.1 500 Service error</span><br><span class=\"line\"></span><br><span class=\"line\">http://192.168.1.2:4022/udp/239.3.1.1:8000</span><br><span class=\"line\">只能试一试升级udpxy到最新版，看看运气了</span><br><span class=\"line\">这个hiboy的padavan固件，这么那么懒（和我们一样），</span><br><span class=\"line\">\t1. 这么旧了updxy还不更新一下，</span><br><span class=\"line\">\t2. 和UI是脱节的，UI上应用本页设置，不会启动udpxy  :(</span><br><span class=\"line\"></span><br><span class=\"line\">建议换padavan固件，</span><br><span class=\"line\">\tOption <span class=\"comment\">#2 或者手动去升级udpxy，然后用命令去控制（也一样）</span></span><br><span class=\"line\">\tOption <span class=\"comment\">#1 使用固件：K2P nano hanwckf-5.0_Latest2020</span></span><br></pre></td></tr></table></figure>\n\n<p><a href=\"https://www.bilibili.com/video/BV1nE411R7ie\">Openwrt Lede组播网络设置 安卓电视软件播放IPTV</a><br>        这个是特定情况，只能当作大致流程和关键知识点参考，越看越糊涂</p>\n<p>NPM反代uppxy的状态页面出来，方便远程查看服务状态。</p>\n<h1 id=\"下一步\"><a href=\"#下一步\" class=\"headerlink\" title=\"下一步\"></a>下一步</h1><p>把组播转单播后的IPTV（已加入Emby）转发到特定的M3U8？然后供给DIY作为一个数据源，如何实现？</p>\n<h1 id=\"原文转载如下：\"><a href=\"#原文转载如下：\" class=\"headerlink\" title=\"原文转载如下：\"></a>原文转载如下：</h1><hr>\n<hr>\n<h1 id=\"〇、前情提要\"><a href=\"#〇、前情提要\" class=\"headerlink\" title=\"〇、前情提要\"></a>〇、前情提要</h1><p>虽然没有开issues，但还是经常有人千辛万苦拐弯抹角的联系到我，主要就是询问如何甩开机顶盒观看iptv、解决抢电视一类问题什么的，甚至不交钱白嫖的，对此我也花了不少的时间逐一讲解、帮助，后来我想了想，本来也不是什么难事儿，干脆系统一点儿完整写下来贴出来吧，对此，就有了如下内容。</p>\n<p>首先本文是对应北京联通和北京移动所针对性撰写，其他地区和其他运营商有可能存在差异，本文可以提供参考。（主要是区别于组播数据都需要鉴权的那些，一个是服务商局端校验设备mac地址，那么对应办法就是在路由器接口中，更改为你电视盒子背面的mac地址，还有验证账户的，那就改对应协议填写对应的账号和密码。这里我自己没有用过，仅抛砖引玉提供思路，其实说来说去套路就这么些，总能绕过去的。还有一个就是光猫本身并没有自带或者说局端没有默认下发IPTV的配置，这种情况也很简单，照着本区域内其他有相关配置的人光猫里头，在自己光猫新建个接口，把相关信息抄过来就可以了，邻里关系不好，同城又谁都不认识，网上也没人分享也求不到，那你就办一个月iptv，交一个月钱，到时候你光猫里就有相关信息了，自己记下来备用即可）</p>\n<p>其次，本文针对新手人群为主，条条大路通罗马，其中可变通的部分我可能会介绍到，也或者略过不提，其最终目的就是以最小成本调通设备，如果在这种前提下你有更优雅的方式方法，欢迎（不辞辛劳）联系探讨</p>\n<p>我本人不爱抓图，本文会是纯文字教学，会写的比较详细，尽量做到包教包会，请具备耐心，一步一步跟着来，不会存在什么障碍，照着来，一定行</p>\n<p>最后，本文包括本github项目仅为技术交流学习所用，本人不对由此产生的一切后果负责</p>\n<p>如果你充分理解了以上三点，尤其是最后一点，那么请继续往下看</p>\n<h1 id=\"一、准备工作\"><a href=\"#一、准备工作\" class=\"headerlink\" title=\"一、准备工作\"></a>一、准备工作</h1><h2 id=\"1、宽带\"><a href=\"#1、宽带\" class=\"headerlink\" title=\"1、宽带\"></a>1、宽带</h2><p>已经安装好宽带产品，并且光猫可以正常使用，家里已经可以通过宽带正常上网，正常通过盒子看iptv（或者极端一些的情况比如宽带撤了不能上网，但光纤线路和光猫设备保留，或者还没来得及开通iptv，想先体验一下试试看什么的……）</p>\n<h2 id=\"2、路由器\"><a href=\"#2、路由器\" class=\"headerlink\" title=\"2、路由器\"></a>2、路由器</h2><p>自购第三方路由器一台以及对应数量的网线，路由器可以刷第三方固件openwrt最佳（本文着重介绍openwrt环境下的使用），梅林（merlin）、老毛子（padavan）等系统亦可。如果不能刷第三方固件，那么路由器官方系统需要具备IPTV相关能力（如果不行，就更新固件到最新版本看看，路由器品种型号众多，配置千奇百怪，这里就只能纯属于撞大运，蒙着来）</p>\n<h2 id=\"3、电脑\"><a href=\"#3、电脑\" class=\"headerlink\" title=\"3、电脑\"></a>3、电脑</h2><p>带有网线接口（RJ45）的电脑一台（不带网线接口但有无线网卡的话也凑合，手机、平板都行，忽略下文第2步，路由器设置时采用无线连接进行、第4步根据第1步的判断盲操多试试即可）</p>\n<h1 id=\"二、具体实施\"><a href=\"#二、具体实施\" class=\"headerlink\" title=\"二、具体实施\"></a>二、具体实施</h1><h2 id=\"1、光猫检查\"><a href=\"#1、光猫检查\" class=\"headerlink\" title=\"1、光猫检查\"></a>1、光猫检查</h2><p>宽带装好后，先什么都不要动、不要调，就用默认光猫拨号的路由模式，不要改桥接，观察一下附带光猫的接口哪个是上网，哪个是iptv，或者是可以四个口盲插类型。你可以看光猫说明书，可以看光猫接口处外观印刷或者按照后文方法试验确认。目前北京大部分新的光猫都是可以盲插的，几个接口都是高速的，也就是一个接口同时可以上网和看iptv，一些光猫是最后的一个口专门看iptv，前几个口上网，甚至有些旧型号只有第一个接口是千兆，其余都是百兆。如果你的光猫是支持盲插的，那么你可以单线复用，即一根网线插到路由器负责上网和iptv。也可以两根线都插到路由器，一根负责上网一根负责iptv。如果你的光猫不能盲插，那么你只能用两根网线从光猫接到路由器上，分别上网和iptv用.。或者你根据你的需求，打电话给运营商试试要求他们给你换个更好的光猫。还有一个需要看清楚后边用得到的，就是你光猫的网段，一般情况下默认都是192.168.1.1，如果不是，务必看清、记住你光猫的网段</p>\n<h2 id=\"2、环境验证\"><a href=\"#2、环境验证\" class=\"headerlink\" title=\"2、环境验证\"></a>2、环境验证</h2><p>上一步已经判断了哪个口可以看iptv，这一步就来验证一下，直接用网线连接电脑和光猫，光猫先试第一个口，电脑的网卡采用自动获取（DHCP客户端模式）地址，插上网线以后稍等一会儿，或者在cmd中输入ipconfig &#x2F;renew后等待结果返回，然后打开支持组播观看的播放器，比如VLC、MPC BE，播放比如北京联通的 rtp:&#x2F;&#x2F;239.3.1.241:8000 或者北京移动的rtp:&#x2F;&#x2F;228.1.1.115:8000 ，如果可以播放出画面，那接下来再看看能不能上网，如果还可以上网，那光猫这个接口就属于可以单线复用，大概率也支持几个口盲插（你可以插剩下几个光猫接口也试试）。如果你只有特定接口可以上网，特定接口可以看组播的iptv，那么你就记清哪个口可以做什么。</p>\n<h2 id=\"3、网段设置\"><a href=\"#3、网段设置\" class=\"headerlink\" title=\"3、网段设置\"></a>3、网段设置</h2><p>电脑单独用网线接入只插了电脑网线的路由器lan口（除了电脑，路由器别的都别插）。首先检查路由器lan的网段是否与光猫重合，如果重合了，就换一个，建议用192.168.123.1，这样的话就可以直接用本github项目的列表直接看单播的电视了。这里以openwrt举例（其他系统类似），电脑自动获取本地ip地址后，在cmd窗口中键入ipconfig &#x2F;renew等待返回后查看网关是多少，直接浏览器访问该地址，进入后台在“网络-接口-lan”里边把地址改好。</p>\n<h2 id=\"4、路由器关键设置\"><a href=\"#4、路由器关键设置\" class=\"headerlink\" title=\"4、路由器关键设置\"></a>4、路由器关键设置</h2><p><strong>关键一步，分两种情况</strong>，就是前文提到的依据光猫类型的不同，分为单线复用（一根线同时上网&amp;看iptv），以及双线连接。</p>\n<h3 id=\"4-1、路由器关键设置-双线\"><a href=\"#4-1、路由器关键设置-双线\" class=\"headerlink\" title=\"4.1、路由器关键设置-双线\"></a>4.1、路由器关键设置-双线</h3><p>这里先说<strong>双线的情况</strong>。你需要用两根网线分别连接光猫的两个口（根据前文判断一个口负责上网，一个负责看iptv），网线另一端连接你的路由器，负责上网的连接wan口，负责传输组播iptv数据的随便接到剩余哪个lan口都行。</p>\n<h4 id=\"4-1-1、路由器关键设置-双线-openwrt\"><a href=\"#4-1-1、路由器关键设置-双线-openwrt\" class=\"headerlink\" title=\"4.1.1、路由器关键设置-双线-openwrt\"></a>4.1.1、路由器关键设置-双线-openwrt</h4><p>先以openwrt举例，在接口设置中，wan就按照你的设定直接dhcp客户端自动获取即可。重点是另一根负责传输iptv组播数据的网线，先新建接口，名称tv，协议dhcp客户端，接口的话看看你iptv的线接到哪个物理接口，就选哪个，这里以eth3举例（一般默认物理wan口是eth0，那么如果你一共4个物理接口，eth3就是第四个物理接口，eth1就是挨着物理wan口的第二个物理口，自己数数是哪个物理接口）。这时候再到lan的设置，在物理设置中去掉刚刚的接口，也就是eth3，并且开启igmp snooping。</p>\n<h4 id=\"4-1-2路由器关键设置-双线-老毛子、梅林\"><a href=\"#4-1-2路由器关键设置-双线-老毛子、梅林\" class=\"headerlink\" title=\"4.1.2路由器关键设置-双线-老毛子、梅林\"></a>4.1.2路由器关键设置-双线-老毛子、梅林</h4><p>如果你是老毛子，或者梅林，你就试试插好线以后直接按第五步往下走，如果不行，就继续看4.2部分（我已经记不清梅林和老毛子相关默认设置是什么、双线行不行了，你们自己试一下，印象里单线应该是没问题的，双线自己试试）。</p>\n<h4 id=\"4-1-3、路由器关键设置-双线-其他\"><a href=\"#4-1-3、路由器关键设置-双线-其他\" class=\"headerlink\" title=\"4.1.3、路由器关键设置-双线-其他\"></a>4.1.3、路由器关键设置-双线-其他</h4><p>如果你是其他不具备相关能力的普通路由器，这种情况你只能在目前的状态下去第六步试试看直接播放组播（一众tplink其实已经可以看组播的iptv了），如果不能播放，那就继续看4.2部分对应内容</p>\n<h3 id=\"4-2、路由器关键设置-单线\"><a href=\"#4-2、路由器关键设置-单线\" class=\"headerlink\" title=\"4.2、路由器关键设置-单线\"></a>4.2、路由器关键设置-单线</h3><p>这里再说<strong>单线的情况</strong>，网上很多人说划vlan，其实不用，因为光猫破解越来越难，你拿不到权限，根本不能设置vlan，与其花钱新买一个破解好的光猫（或者好破解的），或者添加一个带有管理功能的高级交换机，不如花钱买一个好一些的路由器刷个openwrt来得实在，然后甚至打电话叫运营商直接后台给你改光猫为桥接用路由器来拨号————扯远了，单线的话就是一根线连接光猫和路由器，路由器要插到wan口，光猫用哪个口按照前文判断来（大概率可以盲插）</p>\n<h4 id=\"4-2-1、路由器关键设置-单线-openwrt\"><a href=\"#4-2-1、路由器关键设置-单线-openwrt\" class=\"headerlink\" title=\"4.2.1、路由器关键设置-单线-openwrt\"></a>4.2.1、路由器关键设置-单线-openwrt</h4><p>这里仍旧先以openwrt举例，光猫网线连接你路由器的wan口，然后需要在你的wan口（一般默认物理接口为eth0）建立两个连接，默认应该已经有一个了，默认的那个连接就叫wan，负责上网，采用dhcp客户端自动获取即可。重点来了，这时候新建一个新的接口，物理接口也选eth0，取名叫tv，协议是dhcp客户端，在tv接口的高级设置里，网关跃点填大一些，比如22（别问为什么不是20，因为没小键盘，因为懒，懂？）。</p>\n<h4 id=\"4-2-2、路由器关键设置-单线-老毛子、梅林\"><a href=\"#4-2-2、路由器关键设置-单线-老毛子、梅林\" class=\"headerlink\" title=\"4.2.2、路由器关键设置-单线-老毛子、梅林\"></a>4.2.2、路由器关键设置-单线-老毛子、梅林</h4><p>梅林和老毛子与刚刚4.1.2一样，插好线就直接试第五步（我印象里单线是可以的，或者两者都可以？我记不清了，你们自己试试，总归绝对是可以的）</p>\n<h4 id=\"4-2-3、路由器关键设置-单线-其他\"><a href=\"#4-2-3、路由器关键设置-单线-其他\" class=\"headerlink\" title=\"4.2.3、路由器关键设置-单线-其他\"></a>4.2.3、路由器关键设置-单线-其他</h4><p>其他没有iptv包括找不到igmp选项的路由器，去第六步播放组播试试吧，如果不行，那这破玩意儿就扔了吧…破烂儿留着干嘛使啊……实在心疼，不想扔，留着做ap我估计也好不到哪儿去，年代久远的老古董，功能不行，性能肯定也太差了跟不上时代了……</p>\n<h2 id=\"5、组播转单播\"><a href=\"#5、组播转单播\" class=\"headerlink\" title=\"5、组播转单播\"></a>5、组播转单播</h2><p>这一步要把组播数据转为单播数据（不具备组播转单播能力的路由器不用看这里了，客户端直接看组播数据的iptv吧，如果可以的话…）。</p>\n<h3 id=\"5-1、组播转单播-openwrt\"><a href=\"#5-1、组播转单播-openwrt\" class=\"headerlink\" title=\"5.1、组播转单播-openwrt\"></a>5.1、组播转单播-openwrt</h3><p>依旧先以openwrt详细说明，那就是udpxy这个程序，如果没有，自己opkg安装一个或者编译固件时候带上。在udpxy的luci里勾选启用，在Bind IP&#x2F;Interface里填写你lan的接口，一般默认为br-lan，在Source IP&#x2F;Interface里填写第4步你组播接口的地址，双线的那个是eth3，单线的是eth0，端口随便来一个只要不冲突即可，推荐23234，这样你可以直接用本github项目的列表看单播iptv了</p>\n<h4 id=\"5-1-1、组播转单播-openwrt-防火墙\"><a href=\"#5-1-1、组播转单播-openwrt-防火墙\" class=\"headerlink\" title=\"5.1.1、组播转单播-openwrt-防火墙\"></a>5.1.1、组播转单播-openwrt-防火墙</h4><p>这里额外说一下openwrt的防火墙，我之前刚刚接触openwrt时候，防火墙这里踩了不少坑，iptv死活看不了，最后发现是防火墙的逻辑没搞对…我现在的做法比较粗犷，我默认允许全部接口的全部流量自由进出，默认自带的防火墙规则也全删了，然后额外添加了一条wan口忽略icmp（ping），之后再扫描了我的外网ip，0-65535端口全扫了，不知道为何80，443，53是开放的（但是外网也不能提供对应服务），我本机web管理权只允许lan接口，而且没有443对应服务，dns也设置为仅服务于内部…不管了，我直接添加对应规则把这几个端口wan进来的流量丢弃就完了，属于另辟蹊径吧。如果你扫到其他开放的端口，你可以采取类似措施直接添加防火墙规则即可，其余的流量全部放行。具体操作流程就是先把lan到wan和wan到lan全部的进出和转发都勾选上，再到流量规则里把系统自带的规则都删掉，再添加wan口那几个端口丢弃和一个icmp丢弃就行了，很简单很高效。或者说如果你觉得不放心，那么你可以按照传统的思路指定tv接口一个新的防火墙区域，手工添加对应的igmp和udp规则。</p>\n<h3 id=\"5-2、组播转单播-老毛子、梅林\"><a href=\"#5-2、组播转单播-老毛子、梅林\" class=\"headerlink\" title=\"5.2、组播转单播-老毛子、梅林\"></a>5.2、组播转单播-老毛子、梅林</h3><p>梅林和老毛子同样有组播转单播的组件，填写端口23234并且启用即可（印象里梅林和老毛子不用设置接口什么的，默认监听0.0.0.0？），但是要记得找找igmp snooping勾上，还有找找网络风暴，根据设备硬件能力吧，写个5m意思意思？差不多吧反正平时都看单播而且已经开了igmp snooping。这个时候你可以ssh上路由器，ps命令看一下udpxy进程是不是已经跑起来了（梅林和老毛子都用udpxy的）。老毛子和梅林的防火墙不用调，我记得默认就没问题</p>\n<h2 id=\"6、客户端播放\"><a href=\"#6、客户端播放\" class=\"headerlink\" title=\"6、客户端播放\"></a>6、客户端播放</h2><p>在客户端安装对应的播放程序，安卓盒子或者电视推荐iptv pro，pc推荐vlc和mpc be，mac和ios推荐vlc。打开播放程序，如果你的路由器有组播转单播服务，那么你可以看单播了，北京联通的话类似 <a href=\"http://192.168.123.1:23234/rtp/239.3.1.241:8000\">http://192.168.123.1:23234/rtp/239.3.1.241:8000</a> 192.168.123.1是你路由器的地址，23234是你组播转单播程序的端口。当然你的路由器ip和对应服务端口如果和我一样，你就可以直接用播放程序打开本github项目的m3u列表比如联通的IPTV-Unicom.m3u或移动的IPTV-Mobile.m3u，把列表的在线地址直接添加到程序里，这样我这边更新了，你那里什么都不用调整，直接可以看新的频道。如果你是tplink什么的路由器，那么你只能以组播形式看iptv了，比如北京联通的 rtp:&#x2F;&#x2F;239.3.1.241:8000 或者北京移动的 rtp:&#x2F;&#x2F;228.1.1.115:8000 ，列表文件联通的是IPTV-Unicom-Multicast.m3u，移动的是IPTV-Mobile-Multicast.m3u</p>\n<h3 id=\"7、其他提示\"><a href=\"#7、其他提示\" class=\"headerlink\" title=\"7、其他提示\"></a>7、其他提示</h3><p>我个人是倾向于igmp流量在路由里不进行转发的，内网我本人从来不看组播，直接看单播就可以了，如果有需要，可以在老毛子和梅林自己打开转发设置，openwrt可以安装igmpproxy或omcproxy。另外可能有聪明的伙计没有按照教程来，比如光猫改了桥接用路由器拨号，比如光猫里关掉了dhcp服务，比如光猫已破解并且还原配置界面可以划分vlan一类的，嗯，如果能用那就都挺好的。尤其是搭配那些自定义程度很低的路由器用的，那你可能iptv就调不通了，我这里的建议是如果你调不通，相关原理也不能完全理解透彻，那就先不要自作聪明，按照教程一步一步来吧。如果你用自定义程度很高的路由器系统比如openwrt，或者用老毛子、梅林且手撸脚本能力很强，那你肯定是前文所说的条条大路通罗马了，不过那都是后话了，本文你也用不上不是吗：）当然，在openwrt里进行pppoe拨号上网，并且光猫关掉dhcp服务是比较科学的，只需要打电话给运营商告诉他们自己要改桥接，对方tr069远程给你下发配置，3分钟的事儿（算上语音等待的话前后5分钟？），你光猫就桥接了，关闭dhcp服务的话我用过的几个光猫，其背面印刷的user权限就都可以调整了，之后openwrt里wan的接口改pppoe协议，添加你的宽带拨号账户，然后接口tv把dhcp客户端改成静态地址，自己添加好ip就可以了。还有一个事儿，好像还有个都市传说，就是很早以前说北京联通的IPTV盒子必须每个月至少使用一次，不然不激活一下的话，会被取消掉服务？我好几年没开过那个了，呃，也不是，一年多以前听说iptv盒子换支持4k60fps（要不就是4k120fps？只开过一次，忘了）高级货的时候儿，我打电话让他们给我换了一个，当时小哥上门过来时候开了那么一下，当然，我那个时候提前把光猫的dhcp服务打开了，不然iptv盒子注册不上，毕竟白嫖的新款高级的iptv盒子，里边没有相关配置：）好吧，我就想说我iptv盒子属于基本没开过，iptv服务也一直在，没被取消掉。</p>\n<h1 id=\"最后\"><a href=\"#最后\" class=\"headerlink\" title=\"最后\"></a>最后</h1><p>本github项目注明了CC0协议，本文属于该项目的一部分，但是我仍旧希望转载本文的各位可以保留全文并且注明出处——<a href=\"https://github.com/qwerttvv/Beijing-IPTV\" title=\"https://github.com/qwerttvv/Beijing-IPTV\">https://github.com/qwerttvv/Beijing-IPTV</a></p>\n<p>大概没什么可啰嗦的了，就这样</p>\n<p>祝各位好运</p>\n<hr>\n<hr>\n<h1 id=\"原文转载结束\"><a href=\"#原文转载结束\" class=\"headerlink\" title=\"原文转载结束\"></a>原文转载结束</h1><h1 id=\"预览Emby中的电视直播\"><a href=\"#预览Emby中的电视直播\" class=\"headerlink\" title=\"预览Emby中的电视直播\"></a>预览Emby中的电视直播</h1><p>开放测试<br>用户：user 密码：user</p>\n<iframe style=\"box-shadow: 0px 0px 20px -10px;\" src=\"https://c.carlzeng.top:3/iptv\" frameborder=\"0\" scrolling=\"auto\" width=\"100%\" height=\"800\"></iframe>\n\n\n\n<p><em>本文内容均来自网络，如有侵害到您权益，请告知<a href=\"mailto:zeng.chuanzhuo@icloud.com\">我们</a>，我们会立即处理相关内容。</em></p>\n<h2 id=\"其他客户端播放器\"><a href=\"#其他客户端播放器\" class=\"headerlink\" title=\"其他客户端播放器\"></a>其他客户端播放器</h2><p>Android电视和手机用DIYP影音或友窝</p>\n<p>PC电脑用黑鸟播放器</p>\n<p>iPad用 Cloud Stream IPTV Player</p>\n<p>Mac用 VLC</p>","categories":[{"name":"IPTV","path":"api/categories/IPTV.json"}],"tags":[{"name":"andriod","path":"api/tags/andriod.json"},{"name":"机顶盒","path":"api/tags/机顶盒.json"},{"name":"IPTV","path":"api/tags/IPTV.json"},{"name":"直播","path":"api/tags/直播.json"},{"name":"电视","path":"api/tags/电视.json"},{"name":"livetv","path":"api/tags/livetv.json"},{"name":"tv","path":"api/tags/tv.json"},{"name":"网络影视资源","path":"api/tags/网络影视资源.json"},{"name":"组播转单播","path":"api/tags/组播转单播.json"}]}