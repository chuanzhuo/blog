{"title":"docker搭建odoo企业管理开源解决方案","slug":"docker搭建odoo企业管理开源解决方案","date":"2025-04-01T08:39:26.000Z","updated":"2026-01-09T13:30:44.474Z","comments":true,"path":"api/articles/docker搭建odoo企业管理开源解决方案.json","excerpt":" [Figure] 搭建erp用于远程协作, 团队协作, 远程办公","covers":["https://img.carlzeng.com:3/i/2025/04/01/67ebebd2bf8ac.png","https://img.carlzeng.com:3/i/2025/07/14/68751f519aa7d.png","https://img.carlzeng.com:3/i/2025/07/14/68751fb502ba4.png","https://img.carlzeng.com:3/i/2025/07/15/68766e97ca8c5.png","https://img.carlzeng.com:3/i/2025/07/16/6877aec84a621.png","https://img.carlzeng.com:3/i/2025/04/03/67ee5a0d8bb86.png"],"content":"<img class=\"lozad\" data-src=\"\">\n\n<p>搭建erp用于远程协作, 团队协作, 远程办公</p>\n<span id=\"more\"></span>\n\n<div> \n<button onclick=\"synthesizeSpeech()\">朗读全文</button>\n</div>\n<audio controls id=\"audioPlayer\">Your browser does not support the audio element.</audio>      \n<script>\n  function synthesizeSpeech() { \n    var inputText = document.getElementsByClassName('post-block')[0].innerText;\n    var voice = \"ZH\";\n    var url = 'https://tts.carlzeng.com:3/speech?text=' + encodeURIComponent(inputText.substring(0,3000)) + '&voice=' + voice;\n    var audioPlayer = document.getElementById('audioPlayer');          \n    audioPlayer.src = url;\n    audioPlayer.load();\n    audioPlayer.play();\n  }\n</script>\n\n\n<h1 id=\"有什么用-怎么用\"><a href=\"#有什么用-怎么用\" class=\"headerlink\" title=\"有什么用&#x2F;怎么用\"></a>有什么用&#x2F;怎么用</h1><p>如何安装Odoo社区版</p>\n<p>如何安装Odoo企业版</p>\n<p><a href=\"https://system0.carlzeng.com:3/web/login\">https://system0.carlzeng.com:3/web/login</a></p>\n<h1 id=\"相关内容\"><a href=\"#相关内容\" class=\"headerlink\" title=\"相关内容\"></a>相关内容</h1><iframe style=\"box-shadow: 0px 0px 20px -10px;\" src=\"https://query.carlzeng.com:3/appsearch?q=erp\" frameborder=\"0\" scrolling=\"auto\" width=\"100%\" height=\"500\"></iframe>\n\n<h1 id=\"社区版Docker安装实现方法\"><a href=\"#社区版Docker安装实现方法\" class=\"headerlink\" title=\"社区版Docker安装实现方法\"></a>社区版Docker安装实现方法</h1><p>需要准备的目录有:</p>\n<p>Odoo ERP的部分</p>\n<p>​\todoo-web-data</p>\n<p>​\tconfig</p>\n<p>​\taddons</p>\n<p>Odoo 数据库的部分: </p>\n<p>​\todoo-db-data</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">version:</span> <span class=\"string\">&#x27;3.1&#x27;</span></span><br><span class=\"line\"><span class=\"attr\">services:</span></span><br><span class=\"line\">  <span class=\"attr\">web:</span></span><br><span class=\"line\">    <span class=\"attr\">image:</span> <span class=\"string\">odoo:17.0</span></span><br><span class=\"line\">    <span class=\"attr\">depends_on:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">odoodb</span></span><br><span class=\"line\">    <span class=\"attr\">ports:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">&quot;8069:8069&quot;</span></span><br><span class=\"line\">    <span class=\"attr\">volumes:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">./odoo-web-data:/var/lib/odoo</span></span><br><span class=\"line\">      <span class=\"comment\">#- ./config:/etc/odoo</span></span><br><span class=\"line\">      <span class=\"comment\">#- ./addons:/mnt/extra-addons</span></span><br><span class=\"line\">    <span class=\"attr\">environment:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">HOST=odoodb</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">USER=odoo</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">PASSWORD=myodoo20250401</span></span><br><span class=\"line\">  <span class=\"attr\">odoodb:</span></span><br><span class=\"line\">    <span class=\"attr\">image:</span> <span class=\"string\">postgres:15</span></span><br><span class=\"line\">    <span class=\"attr\">environment:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">POSTGRES_DB=postgres</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">POSTGRES_USER=odoo</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">POSTGRES_PASSWORD=myodoo20250401</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">PGDATA=/var/lib/postgresql/data/pgdata</span></span><br><span class=\"line\">    <span class=\"attr\">volumes:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">./odoo-db-data:/var/lib/postgresql/data/pgdata</span></span><br></pre></td></tr></table></figure>\n\n\n\n\n\n<h2 id=\"运行命令\"><a href=\"#运行命令\" class=\"headerlink\" title=\"运行命令:\"></a>运行命令:</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd ~</span><br><span class=\"line\">mkdir odoo</span><br><span class=\"line\">cd odoo</span><br><span class=\"line\">mkdir odoo-web-data &amp;&amp; mkdir config &amp;&amp; mkdir addons &amp;&amp; mkdir odoo-db-data</span><br><span class=\"line\">vi docker-compose.yaml</span><br><span class=\"line\"></span><br><span class=\"line\">docker-compose up</span><br></pre></td></tr></table></figure>\n\n<p>访问 <a href=\"http://192.168.6.117:8069/\">http://192.168.6.117:8069</a></p>\n<p>Internal Server Error<br>The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.</p>\n<h2 id=\"后台显示的错误以及解决办法\"><a href=\"#后台显示的错误以及解决办法\" class=\"headerlink\" title=\"后台显示的错误以及解决办法\"></a>后台显示的错误以及解决办法</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">web-1     | 2025-04-01 13:30:10,775 1 ERROR ? odoo.http: Exception during request handling.              </span><br><span class=\"line\">web-1     | Traceback (most recent call last):                                                           </span><br><span class=\"line\">web-1     |   File &quot;/usr/lib/python3/dist-packages/odoo/http.py&quot;, line 2206, in __call__                 </span><br><span class=\"line\">web-1     |     request._post_init()                                                                     </span><br><span class=\"line\">web-1     |   File &quot;/usr/lib/python3/dist-packages/odoo/http.py&quot;, line 1391, in _post_init               </span><br><span class=\"line\">web-1     |     self.session, self.db = self._get_session_and_dbname()                                   </span><br><span class=\"line\">web-1     |   File &quot;/usr/lib/python3/dist-packages/odoo/http.py&quot;, line 1397, in _get_session_and_dbname  </span><br><span class=\"line\">web-1     |     session = root.session_store.new()                                                       </span><br><span class=\"line\">web-1     |   File &quot;/usr/lib/python3/dist-packages/odoo/tools/func.py&quot;, line 28, in __get__              </span><br><span class=\"line\">web-1     |     value = self.fget(obj)                                                                   </span><br><span class=\"line\">web-1     |   File &quot;/usr/lib/python3/dist-packages/odoo/http.py&quot;, line 2132, in session_store            </span><br><span class=\"line\">web-1     |     path = odoo.tools.config.session_dir                                                     </span><br><span class=\"line\">web-1     |   File &quot;/usr/lib/python3/dist-packages/odoo/tools/config.py&quot;, line 766, in session_dir       </span><br><span class=\"line\">web-1     |     os.makedirs(d, 0o700)                                                                    </span><br><span class=\"line\">web-1     |   File &quot;/usr/lib/python3.10/os.py&quot;, line 225, in makedirs                                    </span><br><span class=\"line\">web-1     |     mkdir(name, mode)                                                                        </span><br><span class=\"line\">web-1     | PermissionError: [Errno 13] Permission denied: &#x27;/var/lib/odoo/sessions&#x27;                      </span><br><span class=\"line\">web-1     | 2025-04-01 13:30:10,776 1 INFO ? werkzeug: 192.168.6.221 - - [01/Apr/2025 13:30:10] &quot;GET /fav</span><br><span class=\"line\">icon.ico HTTP/1.1&quot; 500 - 0 0.000 0.001  </span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">解决办法:</span></span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">sudo <span class=\"built_in\">chmod</span> -R 777 addons</span></span><br><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">sudo <span class=\"built_in\">chmod</span> -R 777 config</span></span><br><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">sudo <span class=\"built_in\">chmod</span> -R 777 odoo-db-data</span></span><br><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">sudo <span class=\"built_in\">chmod</span> -R 777 odoo-web-data</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>设置好权限以后, 可以运行访问网页</p>\n<p><img data-src=\"https://img.carlzeng.com:3/i/2025/04/01/67ebebd2bf8ac.png\" alt=\"image-20250401213614590\"></p>\n<h1 id=\"企业版Odoo安装步骤\"><a href=\"#企业版Odoo安装步骤\" class=\"headerlink\" title=\"企业版Odoo安装步骤\"></a>企业版Odoo安装步骤</h1><p>下载网盘地址 <a href=\"https://drive.google.com/drive/folders/1VUujb8d9Y1sQ98xA0jk4WZteryn0oOoe\">https://drive.google.com/drive/folders/1VUujb8d9Y1sQ98xA0jk4WZteryn0oOoe</a></p>\n<p>How to install Odoo Enterprise.</p>\n<p>1: download and install community edition.<br>2: download the zip file called <strong>addons-18e.zip</strong> and put it into &#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages<br>3: extract the file and allow overwrite all<br>4: restart odoo server &amp; update apps<br>5: download <strong>odoo18_unlimited.zip</strong> from the same drive link<br>6: unzip odoo18_unlimited.zip into your addons directory (try to keep separate from main odoo addons.<br>7: restart odoo server again and then update apps in odoo<br>8: activate odoo_unlimited<br>9: install accounting module<br>10: activate odoo<br>11: All done</p>\n<p>本小节来源: <a href=\"https://babia.to/threads/odoo-enterprise.37673/page-100\">https://babia.to/threads/odoo-enterprise.37673/page-100</a></p>\n<h2 id=\"1-download-and-install-community-edition\"><a href=\"#1-download-and-install-community-edition\" class=\"headerlink\" title=\"1. download and install community edition\"></a>1. download and install community edition</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir odoo18e</span><br><span class=\"line\">cd odoo18e</span><br><span class=\"line\">docker pull odoo:18.0-20241125</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">选了半天, 只知道是16版本, 先试试16.9; 在https://hub.docker.com/_/postgres找到的tag</span></span><br><span class=\"line\">docker pull postgres:16.9</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">mkdir odoo-web-data &amp;&amp; mkdir config &amp;&amp; mkdir addons &amp;&amp; mkdir odoo-db-data</span><br><span class=\"line\">mkdir dist-packages</span><br><span class=\"line\">vi docker-compose.yaml</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">sudo <span class=\"built_in\">chmod</span> -R 777 addons</span></span><br><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">sudo <span class=\"built_in\">chmod</span> -R 777 config &amp;&amp; sudo <span class=\"built_in\">chmod</span> -R 777 odoo-db-data &amp;&amp; sudo <span class=\"built_in\">chmod</span> -R 777 odoo-web-data &amp;&amp; sudo <span class=\"built_in\">chmod</span> -R 777 dist-packages</span></span><br><span class=\"line\"></span><br><span class=\"line\">docker-compose up</span><br></pre></td></tr></table></figure>\n\n<p>docker pull odoo:18.0-20241125</p>\n<p>[MARK] 第一步就有问题, 需要安装特定的deb文件</p>\n<p><a href=\"https://drive.google.com/drive/folders/1phzmPK7nQ65WKCqAa_N25OupxKMAfxFF\">https://drive.google.com/drive/folders/1phzmPK7nQ65WKCqAa_N25OupxKMAfxFF</a></p>\n<p>然后在: 2: download the zip file called addons-18e.zip and put it into &#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages</p>\n<p>关键就是这个deb文件和docker pull 到的 ce版本不一样!</p>\n<p>问题变成: 如何让deb在docker中运行, 在自动解压和覆盖一个addons-18e.zip文件到目录&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages; </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker exec -it --user root odoo18e-web-1 /bin/bash</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">find / -name odoo    </span><br><span class=\"line\">/usr/bin/odoo</span><br><span class=\"line\">/usr/share/doc/odoo</span><br><span class=\"line\">/usr/share/lintian/overrides/odoo</span><br><span class=\"line\">/usr/lib/python3/dist-packages/point_of_sale/tools/posbox/overwrite_before_init/etc/logrotate.d/odoo</span><br><span class=\"line\">/usr/lib/python3/dist-packages/point_of_sale/tools/posbox/overwrite_after_init/home/pi/odoo</span><br><span class=\"line\">/usr/lib/python3/dist-packages/odoo</span><br><span class=\"line\">/usr/lib/python3/dist-packages/dist-packages2/odoo</span><br><span class=\"line\">/etc/init.d/odoo</span><br><span class=\"line\">/etc/logrotate.d/odoo</span><br><span class=\"line\">/etc/odoo</span><br><span class=\"line\">/mnt/extra-addons/point_of_sale/tools/posbox/overwrite_before_init/etc/logrotate.d/odoo</span><br><span class=\"line\">/mnt/extra-addons/point_of_sale/tools/posbox/overwrite_after_init/home/pi/odoo</span><br><span class=\"line\">/var/log/odoo</span><br><span class=\"line\">/var/lib/odoo</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">find / -name odoo.conf</span><br><span class=\"line\">/usr/lib/python3/dist-packages/point_of_sale/tools/posbox/configuration/odoo.conf</span><br><span class=\"line\">/etc/odoo/odoo.conf</span><br><span class=\"line\">/mnt/extra-addons/point_of_sale/tools/posbox/configuration/odoo.conf</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">service odoo restart</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>然后在解压 6: unzip odoo18_unlimited.zip into your addons directory (try to keep separate from main odoo addons.</p>\n<p>7: restart odoo server again and then update apps in odoo</p>\n<p>8: activate odoo_unlimited<br>9: install accounting module<br>10: activate odoo</p>\n<p>这些能用dockerfile来完成吗?</p>\n<p>使用docker-compose.yml</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">version:</span> <span class=\"string\">&#x27;3.1&#x27;</span></span><br><span class=\"line\"><span class=\"attr\">services:</span></span><br><span class=\"line\">  <span class=\"attr\">web1:</span></span><br><span class=\"line\">    <span class=\"attr\">image:</span> <span class=\"string\">odoo:17.0</span></span><br><span class=\"line\">    <span class=\"attr\">depends_on:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">odoodb2</span></span><br><span class=\"line\">    <span class=\"attr\">ports:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">&quot;8070:8069&quot;</span></span><br><span class=\"line\">    <span class=\"attr\">volumes:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">./odoo-web-data:/var/lib/odoo</span></span><br><span class=\"line\"> <span class=\"comment\">#     - ./config:/etc/odoo</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">./addons:/mnt/extra-addons</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">./dist-packages:/usr/lib/python3/dist-packages</span></span><br><span class=\"line\">    <span class=\"attr\">environment:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">HOST=odoodb2</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">USER=odoo</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">PASSWORD=myodoo20250713</span></span><br><span class=\"line\">  <span class=\"attr\">odoodb2:</span></span><br><span class=\"line\">    <span class=\"attr\">image:</span> <span class=\"string\">postgres:15</span></span><br><span class=\"line\">    <span class=\"attr\">environment:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">POSTGRES_DB=postgres</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">POSTGRES_USER=odoo</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">POSTGRES_PASSWORD=myodoo20250713</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">PGDATA=/var/lib/postgresql/data/pgdata2</span></span><br><span class=\"line\">    <span class=\"attr\">volumes:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">./odoo-db-data:/var/lib/postgresql/data/pgdata2</span></span><br><span class=\"line\">      </span><br></pre></td></tr></table></figure>\n\n\n\n\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">odoodb-1  | PostgreSQL Database directory appears to contain a database; Skipping initialization</span><br><span class=\"line\">odoodb-1  | </span><br><span class=\"line\">odoodb-1  | 2025-07-13 14:53:40.108 UTC [1] LOG:  starting PostgreSQL 15.12 (Debian 15.12-1.pgdg120+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 12.2.0-14) 12.2.0, 64-bit</span><br><span class=\"line\">odoodb-1  | 2025-07-13 14:53:40.108 UTC [1] LOG:  listening on IPv4 address &quot;0.0.0.0&quot;, port 5432</span><br><span class=\"line\">odoodb-1  | 2025-07-13 14:53:40.108 UTC [1] LOG:  listening on IPv6 address &quot;::&quot;, port 5432</span><br><span class=\"line\">odoodb-1  | 2025-07-13 14:53:40.119 UTC [1] LOG:  listening on Unix socket &quot;/var/run/postgresql/.s.PGSQL.5432&quot;</span><br><span class=\"line\">odoodb-1  | 2025-07-13 14:53:40.129 UTC [29] LOG:  database system was shut down at 2025-07-13 14:53:13 UTC</span><br><span class=\"line\">odoodb-1  | 2025-07-13 14:53:40.138 UTC [1] LOG:  database system is ready to accept connections</span><br><span class=\"line\">web-1     | Traceback (most recent call last):</span><br><span class=\"line\">web-1     |   File &quot;/usr/local/bin/wait-for-psql.py&quot;, line 3, in &lt;module&gt;</span><br><span class=\"line\">web-1     |     import psycopg2</span><br><span class=\"line\">web-1     | ModuleNotFoundError: No module named &#x27;psycopg2&#x27;</span><br><span class=\"line\">web-1 exited with code 1</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>把odoo:18.0-20241125 换成了odoo18</p>\n<p>故障依旧</p>\n<p>把odoo:18 换成能正常使用的 odoo:17</p>\n<p>故障依旧, 说明不是odoo包本身的问题.  </p>\n<p>成功使用18.0-20241125版本</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">version:</span> <span class=\"string\">&#x27;3.1&#x27;</span></span><br><span class=\"line\"><span class=\"attr\">services:</span></span><br><span class=\"line\">  <span class=\"attr\">web:</span></span><br><span class=\"line\">    <span class=\"attr\">image:</span> <span class=\"string\">odoo:18.0-20241125</span></span><br><span class=\"line\">    <span class=\"attr\">depends_on:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">odoodb</span></span><br><span class=\"line\">    <span class=\"attr\">ports:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">&quot;8070:8069&quot;</span></span><br><span class=\"line\">    <span class=\"attr\">volumes:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">./odoo-web-data:/var/lib/odoo</span></span><br><span class=\"line\">      <span class=\"comment\">#- ./config:/etc/odoo</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">./addons:/mnt/extra-addons</span></span><br><span class=\"line\">      <span class=\"comment\">#- ./dist-packages:/usr/lib/python3/dist-packages</span></span><br><span class=\"line\">    <span class=\"attr\">environment:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">HOST=odoodb</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">USER=odoo</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">PASSWORD=myodoo20250713</span></span><br><span class=\"line\">  <span class=\"attr\">odoodb:</span></span><br><span class=\"line\">    <span class=\"attr\">image:</span> <span class=\"string\">postgres:15</span></span><br><span class=\"line\">    <span class=\"attr\">environment:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">POSTGRES_DB=postgres</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">POSTGRES_USER=odoo</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">POSTGRES_PASSWORD=myodoo20250713</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">PGDATA=/var/lib/postgresql/data/pgdata</span></span><br><span class=\"line\">    <span class=\"attr\">volumes:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">./odoo-db-data:/var/lib/postgresql/data/pgdata</span></span><br></pre></td></tr></table></figure>\n\n<p>下一步 进一步把配置的目录都逐一映射出来</p>\n<p>原因是这个: - .&#x2F;dist-packages:&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages 一旦添加这个, 就会报错误, 原因是系统里面有内容, 而映射出来的目录是空的.  需要先运行起来以后, 然后把 docker里面的dist-packages内容都复制出来,然后在添加映射.</p>\n<p><img data-src=\"https://img.carlzeng.com:3/i/2025/07/14/68751f519aa7d.png\" alt=\"image-20250714231620552\"></p>\n<p><img data-src=\"https://img.carlzeng.com:3/i/2025/07/14/68751fb502ba4.png\" alt=\"image-20250714231811031\"></p>\n<h2 id=\"2-download-the-zip-file-called-addons-18e-zip-and-put-it-into-usr-lib-python3-dist-packages\"><a href=\"#2-download-the-zip-file-called-addons-18e-zip-and-put-it-into-usr-lib-python3-dist-packages\" class=\"headerlink\" title=\"2: download the zip file called addons-18e.zip and put it into &#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages\"></a>2: download the zip file called <strong>addons-18e.zip</strong> and put it into &#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages</h2><p>通过复制出来的方式, 添加addons-18e.zip, 可是…</p>\n<p>docker cp 容器Id或name:容器内路径 本地文件夹路径<br>docker cp containername:&#x2F;usr&#x2F;share&#x2F;nginx&#x2F;html &#x2F;volume2&#x2F;KingchuxingSSD512G&#x2F;docker&#x2F;compose&#x2F;it-tools&#x2F;html</p>\n<p>docker cp b55461b312c7:&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages &#x2F;root&#x2F;odoo18e&#x2F;</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">root@debian12:~/odoo18e/dist-packages# ls</span><br><span class=\"line\">Babel-2.10.3.egg-info\t\t\t       _distutils_hack</span><br><span class=\"line\">Jinja2-3.1.2.egg-info\t\t\t       _ldap.cpython-312-x86_64-linux-gnu.so</span><br><span class=\"line\">MarkupSafe-2.1.5.egg-info\t\t       _rjsmin.cpython-312-x86_64-linux-gnu.so</span><br><span class=\"line\">OpenSSL\t\t\t\t\t       _sass.abi3.so</span><br><span class=\"line\">PIL\t\t\t\t\t       _yaml</span><br><span class=\"line\">PyPDF2\t\t\t\t\t       asn1crypto</span><br><span class=\"line\">PyYAML-6.0.1.dist-info\t\t\t       asn1crypto-1.5.1.egg-info</span><br><span class=\"line\">Unidecode-1.3.8.egg-info\t\t       attr</span><br><span class=\"line\">XlsxWriter-3.1.9.egg-info\t\t       attrs</span><br><span class=\"line\">__pycache__\t\t\t\t       attrs-23.2.0.dist-info</span><br><span class=\"line\">_cbor2.cpython-312-x86_64-linux-gnu.so\t       babel</span><br><span class=\"line\">_cffi_backend.cpython-312-x86_64-linux-gnu.so</span><br><span class=\"line\"></span><br><span class=\"line\">root@debian12:~/odoo18e/dist-packages# cd ..</span><br><span class=\"line\">root@debian12:~/odoo18e# ls</span><br><span class=\"line\">addons\tconfig\tdist-packages  docker-compose.yaml  odoo-db-data  odoo-web-data</span><br><span class=\"line\">root@debian12:~/odoo18e# docker cp b55461b312c7:/usr/lib/python3/dist-packages /root/odoo18e/</span><br><span class=\"line\">invalid symlink &quot;/root/odoo18e/dist-packages/babel/global.dat&quot; -&gt; &quot;../../../../share/python-babel-localedata/global.dat&quot;</span><br><span class=\"line\">root@debian12:~/odoo18e# docker cp b55461b312c7:/usr/lib/python3/dist-packages /root/odoo18e/</span><br><span class=\"line\">invalid symlink &quot;/root/odoo18e/dist-packages/babel/global.dat&quot; -&gt; &quot;../../../../share/python-babel-localedata/global.dat&quot;</span><br></pre></td></tr></table></figure>\n\n<p>有没有其他办法永久性改变docker中的某个特定目录内容?</p>\n<p>临时的workaround: 直接复制到docker中去, 每次 重启docker 都要重新去复制进去, 然后解压缩, 覆盖</p>\n<p>Steps:</p>\n<ol>\n<li><p>复制本机addons-18e.zip到debian12的目录中去&#x2F;root&#x2F;odoo18e&#x2F;</p>\n<ol>\n<li><p>scp -P 22226 &#x2F;Users&#x2F;carlzeng&#x2F;Downloads&#x2F;addons-18e.zip <a href=\"mailto:&#x63;&#97;&#x72;&#x6c;&#x7a;&#101;&#x6e;&#103;&#64;&#49;&#50;&#55;&#x2e;&#x30;&#x2e;&#x30;&#x2e;&#49;\">&#x63;&#97;&#x72;&#x6c;&#x7a;&#101;&#x6e;&#103;&#64;&#49;&#50;&#55;&#x2e;&#x30;&#x2e;&#x30;&#x2e;&#49;</a>:&#x2F;home&#x2F;carlzeng&#x2F;addons-18e.zip</p>\n</li>\n<li><p>由于权限的缘故, 只能先传输到目录: &#x2F;home&#x2F;carlzeng</p>\n</li>\n<li><p>scp -P 22226 &#x2F;Users&#x2F;carlzeng&#x2F;Downloads&#x2F;addons-18e.zip <a href=\"mailto:&#99;&#97;&#x72;&#x6c;&#122;&#101;&#x6e;&#x67;&#x40;&#49;&#50;&#55;&#x2e;&#x30;&#x2e;&#48;&#x2e;&#x31;\">&#99;&#97;&#x72;&#x6c;&#122;&#101;&#x6e;&#x67;&#x40;&#49;&#50;&#55;&#x2e;&#x30;&#x2e;&#48;&#x2e;&#x31;</a>:&#x2F;home&#x2F;carlzeng&#x2F;addons-18e.zip</p>\n<p><a href=\"mailto:&#99;&#97;&#x72;&#x6c;&#122;&#101;&#110;&#x67;&#x40;&#49;&#x32;&#x37;&#x2e;&#x30;&#x2e;&#48;&#x2e;&#x31;\">&#99;&#97;&#x72;&#x6c;&#122;&#101;&#110;&#x67;&#x40;&#49;&#x32;&#x37;&#x2e;&#x30;&#x2e;&#48;&#x2e;&#x31;</a>‘s password: </p>\n<p>stalledaddaddaddaddons-18e.zip                          14%  55MB  4.6MB&#x2F;s  01:11 ETA</p>\n</li>\n<li><p>ssh进入debian12的root, 然后复制到root用户目录&#x2F;root&#x2F;odoo18e&#x2F;</p>\n</li>\n<li><p>cp &#x2F;home&#x2F;carlzeng&#x2F;addons-18e.zip &#x2F;root&#x2F;odoo18e&#x2F;addons-18e.zip </p>\n</li>\n<li><p>解压缩在&#x2F;root&#x2F;odoo18e&#x2F;</p>\n<ol>\n<li>unzip addons-18e.zip </li>\n<li>生成出来addons文件夹</li>\n</ol>\n</li>\n<li></li>\n</ol>\n</li>\n<li><p>复制debian12中的addons-18e.zip到docker的&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages中去</p>\n<ol>\n<li>docker cp &#x2F;root&#x2F;odoo18e&#x2F;addons-18e.zip  b55461b312c7:&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages&#x2F;addons-18e.zip </li>\n<li>成功了, 但是docker中无法运行unzip(没有安装, 且无法安装)</li>\n<li>复制debian12中的addons文件夹(以及下面的所有文件和文件夹)到docker的&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages中去</li>\n<li>docker cp &#x2F;root&#x2F;odoo18e&#x2F;addons&#x2F; b55461b312c7:&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages&#x2F;</li>\n</ol>\n</li>\n<li><p>[忽略]docker exec -it 进入docker的目录进行addons-18e.zip解压缩并覆盖</p>\n<ol>\n<li><p>unzip archive_name.zip&#96;：这将解压缩ZIP文件到当前目录。</p>\n</li>\n<li><p>tar 无法解压缩.zip文件.</p>\n</li>\n<li><p>odoo@b55461b312c7:&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages$ apt-get install zip</p>\n<p>E: Could not open lock file &#x2F;var&#x2F;lib&#x2F;dpkg&#x2F;lock-frontend - open (13: Permission denied)</p>\n<p>E: Unable to acquire the dpkg frontend lock (&#x2F;var&#x2F;lib&#x2F;dpkg&#x2F;lock-frontend), are you root?</p>\n</li>\n<li><p>如何在docker中解压缩?</p>\n</li>\n</ol>\n</li>\n<li></li>\n<li></li>\n</ol>\n<p>   docker cp 忽略某个文件</p>\n<p>先使用</p>\n<p>tar -zcvf archive.tar.gz –exclude&#x3D;&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages&#x2F;babel&#x2F;global.dat  &#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tar -zcvf archive.tar.gz dist-packages</span><br><span class=\"line\">tar (child): archive.tar.gz: Cannot open: Permission denied</span><br><span class=\"line\">tar (child): Error is not recoverable: exiting now</span><br><span class=\"line\">dist-packages/</span><br><span class=\"line\">dist-packages/num2words-0.5.13.egg-info/</span><br><span class=\"line\">dist-packages/num2words-0.5.13.egg-info/requires.txt</span><br><span class=\"line\">dist-packages/num2words-0.5.13.egg-info/PKG-INFO</span><br><span class=\"line\">tar: archive.tar.gz: Cannot write: Broken pipe</span><br><span class=\"line\">tar: Child returned status 2</span><br><span class=\"line\">tar: Error is not recoverable: exiting now</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>20250715思路: </p>\n<p>可以使用UI工具, 浏览 和 打包整个&#x2F;dist-packages&#x2F;文件夹, 然后拿到容器外面来修改</p>\n<p>使用类似这样的批量命令复制全部</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/_cbor2.cpython-312-x86_64-linux-gnu.so  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/_cffi_backend.cpython-312-x86_64-linux-gnu.so  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/_ldap.cpython-312-x86_64-linux-gnu.so  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/_rjsmin.cpython-312-x86_64-linux-gnu.so  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/_sass.abi3.so  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/cached_property.py  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/decorator.py  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/distutils-precedence.pth  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/docopt.py  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/ldapurl.py  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/ldif.py  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/png.py  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/polib.py  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/pyasn1_modules-0.2.8.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/pycairo-1.25.1.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/pysassc.py  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/requests_file.py  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/rjsmin.py  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/roman.py  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/sass.py  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/six.py  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/typing_extensions.py  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/zope.event-5.0-nspkg.pth  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/zope.interface-6.1-nspkg.pth</span><br></pre></td></tr></table></figure>\n\n\n\n<p>web-1   | ImportError: cannot import name ‘localedata’ from partially initialized module ‘babel’ (most likely due to a circular import) (&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages&#x2F;babel&#x2F;<strong>init</strong>.py)</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">名称  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/Babel-2.10.3.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/Jinja2-3.1.2.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/MarkupSafe-2.1.5.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/OpenSSL  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/PIL  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/PyPDF2  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/PyYAML-6.0.1.dist-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/Unidecode-1.3.8.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/XlsxWriter-3.1.9.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/__pycache__  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/_distutils_hack  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/_yaml  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/asn1crypto  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/asn1crypto-1.5.1.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/attr  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/attrs  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/attrs-23.2.0.dist-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/babel  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/beautifulsoup4-4.12.3.dist-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/bs4  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/cached_property-1.5.2.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/cairo  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/cbor2  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/cbor2-5.6.2.dist-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/certifi  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/certifi-2023.11.17.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/chardet  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/chardet-5.2.0.dist-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/charset_normalizer  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/charset_normalizer-3.3.2.dist-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/cryptography  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/cryptography-41.0.7.dist-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/cryptography.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/dateutil  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/decorator-5.1.1.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/defusedxml  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/defusedxml-0.7.1.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/docopt-0.6.2.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/docutils  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/docutils-0.20.1.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/et_xmlfile  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/et_xmlfile-1.0.1.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/freetype  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/freetype_py-2.4.0.dist-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/freezegun  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/freezegun-1.2.1.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/geoip2  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/geoip2-2.9.0.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/gevent  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/gevent-24.2.1.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/greenlet  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/greenlet-3.0.3.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/gyp  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/gyp-0.1.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/idna  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/idna-3.6.dist-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/isodate  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/isodate-0.6.1.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/jinja2  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/ldap  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/libsass-0.22.0.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/lxml  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/lxml-5.2.1.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/lxml_html_clean  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/lxml_html_clean-0.1.1.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/magic  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/markupsafe  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/maxminddb  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/maxminddb-2.5.2.dist-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/num2words  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/num2words-0.5.13.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/odf  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/odfpy-1.4.2.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/odoo  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/odoo-18.0.post20241125.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/ofxparse  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/ofxparse-0.21.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/openpyxl  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/openpyxl-3.1.2.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/passlib  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/passlib-1.7.4.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/pdfminer  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/pdfminer.six-20221105.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/phonenumbers  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/phonenumbers-8.12.57.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/pillow-10.2.0.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/pip  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/pip-24.0.dist-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/pkg_resources  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/platformdirs  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/platformdirs-4.2.0.dist-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/polib-1.1.1.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/psutil  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/psutil-5.9.8.dist-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/psycopg2  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/psycopg2-2.9.9.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/pyOpenSSL-23.2.0.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/pyasn1  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/pyasn1-0.4.8.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/pyasn1_modules  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/pypdf2-2.12.1.dist-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/pypng-0.20231004.0.dist-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/pyserial-3.5.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/python_dateutil-2.8.2.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/python_ldap-3.4.4.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/python_magic-0.4.27.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/python_slugify-8.0.4.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/python_stdnum-1.19.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/pytz  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/pytz-2024.1.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/pyusb-1.2.1.post2.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/qrcode  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/qrcode-7.4.2.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/reportlab  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/reportlab-4.1.0.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/requests  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/requests-2.31.0.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/requests_file-1.5.1.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/requests_toolbelt  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/requests_toolbelt-1.0.0.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/rjsmin-1.2.0.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/rlPyCairo  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/rlPyCairo-0.3.0.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/roman-3.3.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/sassutils  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/serial  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/setuptools  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/setuptools-68.1.2.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/six-1.16.0.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/slapdtest  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/slugify  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/soupsieve  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/soupsieve-2.5.dist-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/stdnum  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/typing_extensions-4.10.0.dist-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/unidecode  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/urllib3  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/urllib3-2.0.7.dist-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/usb  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/vobject  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/vobject-0.9.6.1.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/watchdog  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/watchdog-3.0.0.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/werkzeug  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/werkzeug-3.0.1.dist-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/wheel  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/wheel-0.42.0.dist-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/xlrd  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/xlrd-2.0.1.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/xlsxwriter  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/xlwt  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/xlwt-1.3.0.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/yaml  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/zeep  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/zeep-4.2.1.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/zope  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/zope.event-5.0.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/zope.interface-6.1.egg-info</span><br></pre></td></tr></table></figure>\n\n<p><img data-src=\"https://img.carlzeng.com:3/i/2025/07/15/68766e97ca8c5.png\" alt=\"image-20250715230700882\"></p>\n<p>复制完成了babel文件夹下面的所有文件, 不包含那些连接文件的2个文件</p>\n<p>运行报错:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">odoodb-1  | 2025-07-15 15:13:35.829 UTC [1] LOG:  database system is ready to accept connections</span><br><span class=\"line\">web-1     | Traceback (most recent call last):</span><br><span class=\"line\">web-1     |   File &quot;/usr/bin/odoo&quot;, line 5, in &lt;module&gt;</span><br><span class=\"line\">web-1     |     import odoo</span><br><span class=\"line\">web-1     |   File &quot;/usr/lib/python3/dist-packages/odoo/__init__.py&quot;, line 49, in &lt;module&gt;</span><br><span class=\"line\">web-1     |     _monkeypatches.patch_all()</span><br><span class=\"line\">web-1     |   File &quot;/usr/lib/python3/dist-packages/odoo/_monkeypatches/__init__.py&quot;, line 31, in patch_all</span><br><span class=\"line\">web-1     |     patch_werkzeug()</span><br><span class=\"line\">web-1     |   File &quot;/usr/lib/python3/dist-packages/odoo/_monkeypatches/werkzeug_urls.py&quot;, line 1044, in patch_werkzeug</span><br><span class=\"line\">web-1     |     from ..tools.json import scriptsafe  # noqa: PLC0415</span><br><span class=\"line\">web-1     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span><br><span class=\"line\">web-1     | ModuleNotFoundError: No module named &#x27;odoo.tools&#x27;</span><br><span class=\"line\">web-1 exited with code 1</span><br></pre></td></tr></table></figure>\n\n<p>先把addons-18e.zip unzip到dist-packages目录下, 在看看错误会不会自己消失?</p>\n<p>cp -r addons&#x2F;* dist-packages&#x2F;</p>\n<p>还是依旧报同样上方的错误</p>\n<p>0716 检查出来: 原来</p>\n<p>docker cp 17c661c4ff14:&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages&#x2F;odoo &#x2F;root&#x2F;odoo18e&#x2F;dist-packages&#x2F;</p>\n<p>invalid symlink “&#x2F;root&#x2F;odoo18e&#x2F;dist-packages&#x2F;odoo&#x2F;addons&#x2F;point_of_sale&#x2F;static&#x2F;src&#x2F;fonts&#x2F;Inconsolata.otf” -&gt; “..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;share&#x2F;fonts&#x2F;truetype&#x2F;inconsolata&#x2F;Inconsolata.otf”</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker cp 17c661c4ff14:/usr/lib/python3/dist-packages/odoo/cli  /root/odoo18e/dist-packages/odoo/ </span><br><span class=\"line\">docker cp 17c661c4ff14:/usr/lib/python3/dist-packages/odoo/conf  /root/odoo18e/dist-packages/odoo/ </span><br><span class=\"line\">docker cp 17c661c4ff14:/usr/lib/python3/dist-packages/odoo/exceptions.py  /root/odoo18e/dist-packages/odoo/ </span><br><span class=\"line\">docker cp 17c661c4ff14:/usr/lib/python3/dist-packages/odoo/fields.py  /root/odoo18e/dist-packages/odoo/ </span><br><span class=\"line\">docker cp 17c661c4ff14:/usr/lib/python3/dist-packages/odoo/http.py  /root/odoo18e/dist-packages/odoo/ </span><br><span class=\"line\">docker cp 17c661c4ff14:/usr/lib/python3/dist-packages/odoo/import_xml.rng  /root/odoo18e/dist-packages/odoo/ </span><br><span class=\"line\">docker cp 17c661c4ff14:/usr/lib/python3/dist-packages/odoo/loglevels.py  /root/odoo18e/dist-packages/odoo/ </span><br><span class=\"line\">docker cp 17c661c4ff14:/usr/lib/python3/dist-packages/odoo/models.py  /root/odoo18e/dist-packages/odoo/ </span><br><span class=\"line\">docker cp 17c661c4ff14:/usr/lib/python3/dist-packages/odoo/modules  /root/odoo18e/dist-packages/odoo/ </span><br><span class=\"line\">docker cp 17c661c4ff14:/usr/lib/python3/dist-packages/odoo/netsvc.py  /root/odoo18e/dist-packages/odoo/ </span><br><span class=\"line\">docker cp 17c661c4ff14:/usr/lib/python3/dist-packages/odoo/osv  /root/odoo18e/dist-packages/odoo/ </span><br><span class=\"line\">docker cp 17c661c4ff14:/usr/lib/python3/dist-packages/odoo/release.py  /root/odoo18e/dist-packages/odoo/ </span><br><span class=\"line\">docker cp 17c661c4ff14:/usr/lib/python3/dist-packages/odoo/service  /root/odoo18e/dist-packages/odoo/ </span><br><span class=\"line\">docker cp 17c661c4ff14:/usr/lib/python3/dist-packages/odoo/sql_db.py  /root/odoo18e/dist-packages/odoo/ </span><br><span class=\"line\">docker cp 17c661c4ff14:/usr/lib/python3/dist-packages/odoo/tests  /root/odoo18e/dist-packages/odoo/ </span><br><span class=\"line\">docker cp 17c661c4ff14:/usr/lib/python3/dist-packages/odoo/tools  /root/odoo18e/dist-packages/odoo/ </span><br><span class=\"line\">docker cp 17c661c4ff14:/usr/lib/python3/dist-packages/odoo/upgrade  /root/odoo18e/dist-packages/odoo/ </span><br><span class=\"line\">docker cp 17c661c4ff14:/usr/lib/python3/dist-packages/odoo/upgrade_code /root/odoo18e/dist-packages/odoo/ </span><br></pre></td></tr></table></figure>\n\n\n\n<p>终于解决了错误; 错误变了</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">web-1     |   File &quot;/usr/lib/python3/dist-packages/odoo/_monkeypatches/werkzeug_urls.py&quot;, line 1044, in patch_werkzeug</span><br><span class=\"line\">web-1     |     from ..tools.json import scriptsafe  # noqa: PLC0415</span><br><span class=\"line\">web-1     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span><br><span class=\"line\">web-1     |   File &quot;/usr/lib/python3/dist-packages/odoo/tools/__init__.py&quot;, line 8, in &lt;module&gt;</span><br><span class=\"line\">web-1     |     from . import pdf</span><br><span class=\"line\">web-1     |   File &quot;/usr/lib/python3/dist-packages/odoo/tools/pdf/__init__.py&quot;, line 13, in &lt;module&gt;</span><br><span class=\"line\">web-1     |     from reportlab.lib import colors</span><br><span class=\"line\">web-1     | ModuleNotFoundError: No module named &#x27;reportlab.lib&#x27;</span><br><span class=\"line\">web-1 exited with code 1</span><br></pre></td></tr></table></figure>\n\n<p><img data-src=\"https://img.carlzeng.com:3/i/2025/07/16/6877aec84a621.png\" alt=\"image-20250716215307666\"></p>\n<p>docker cp f9f29717401a:&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages&#x2F;reportlab&#x2F;graphics &#x2F;root&#x2F;odoo18e&#x2F;dist-packages&#x2F;reportlab&#x2F; </p>\n<p>docker cp f9f29717401a:&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages&#x2F;reportlab&#x2F;lib &#x2F;root&#x2F;odoo18e&#x2F;dist-packages&#x2F;reportlab&#x2F;</p>\n<p>docker cp f9f29717401a:&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages&#x2F;reportlab&#x2F;pdfbase &#x2F;root&#x2F;odoo18e&#x2F;dist-packages&#x2F;reportlab&#x2F;</p>\n<p>docker cp f9f29717401a:&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages&#x2F;reportlab&#x2F;pdfgen &#x2F;root&#x2F;odoo18e&#x2F;dist-packages&#x2F;reportlab&#x2F;</p>\n<p>docker cp f9f29717401a:&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages&#x2F;reportlab&#x2F;platypus &#x2F;root&#x2F;odoo18e&#x2F;dist-packages&#x2F;reportlab&#x2F;</p>\n<p>docker cp f9f29717401a:&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages&#x2F;reportlab&#x2F;rl_config.py &#x2F;root&#x2F;odoo18e&#x2F;dist-packages&#x2F;reportlab&#x2F;</p>\n<p>docker cp f9f29717401a:&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages&#x2F;reportlab&#x2F;rl_settings.py &#x2F;root&#x2F;odoo18e&#x2F;dist-packages&#x2F;reportlab&#x2F;</p>\n<h2 id=\"6-unzip-odoo18-unlimited-zip-into-your-addons-directory-try-to-keep-separate-from-main-odoo-addons\"><a href=\"#6-unzip-odoo18-unlimited-zip-into-your-addons-directory-try-to-keep-separate-from-main-odoo-addons\" class=\"headerlink\" title=\"6: unzip odoo18_unlimited.zip into your addons directory (try to keep separate from main odoo addons.\"></a>6: unzip odoo18_unlimited.zip into your addons directory (try to keep separate from main odoo addons.</h2><ol>\n<li><p>scp -P 22226 &#x2F;Users&#x2F;carlzeng&#x2F;Downloads&#x2F;odoo18_unlimited.zip <a href=\"mailto:&#99;&#97;&#114;&#x6c;&#x7a;&#101;&#110;&#103;&#x40;&#x31;&#50;&#x37;&#x2e;&#48;&#x2e;&#x30;&#46;&#x31;\">&#99;&#97;&#114;&#x6c;&#x7a;&#101;&#110;&#103;&#x40;&#x31;&#50;&#x37;&#x2e;&#48;&#x2e;&#x30;&#46;&#x31;</a>:&#x2F;home&#x2F;carlzeng&#x2F;odoo18_unlimited.zip</p>\n<p><a href=\"mailto:&#99;&#97;&#x72;&#108;&#122;&#101;&#110;&#103;&#64;&#x31;&#50;&#55;&#46;&#48;&#x2e;&#x30;&#46;&#49;\">&#99;&#97;&#x72;&#108;&#122;&#101;&#110;&#103;&#64;&#x31;&#50;&#55;&#46;&#48;&#x2e;&#x30;&#46;&#49;</a>‘s password: </p>\n<p>odoo18_unlimited.zip                                            100% 2105    34.0KB&#x2F;s   00:00    </p>\n</li>\n<li><p>ssh进入debian12的root, 然后复制到root用户目录&#x2F;root&#x2F;odoo18e&#x2F;</p>\n</li>\n<li><p>cp &#x2F;home&#x2F;carlzeng&#x2F;odoo18_unlimited.zip &#x2F;root&#x2F;odoo18e&#x2F;odoo18_unlimited.zip</p>\n</li>\n<li><p>解压缩在&#x2F;root&#x2F;odoo18e&#x2F;</p>\n<ol>\n<li><p>unzip odoo18_unlimited.zip </p>\n<p>Archive: odoo18_unlimited.zip</p>\n<p>  creating: odoo_unlimited&#x2F;</p>\n<p>  creating: odoo_unlimited&#x2F;models&#x2F;</p>\n<p> inflating: odoo_unlimited&#x2F;models&#x2F;update.py  </p>\n<p> inflating: odoo_unlimited&#x2F;models&#x2F;<strong>init</strong>.py  </p>\n<p> inflating: odoo_unlimited&#x2F;<strong>init</strong>.py  </p>\n<p> inflating: odoo_unlimited&#x2F;<strong>manifest</strong>.py</p>\n</li>\n<li><p>生成出来odoo_unlimited文件夹</p>\n</li>\n</ol>\n</li>\n<li><p>把新生成的odoo_unlimited文件夹放到 addons文件夹中去</p>\n</li>\n<li><p>cp -r odoo_unlimited .&#x2F;addons&#x2F;</p>\n</li>\n<li><p>核实&#x2F;编辑docker-compose, 确保 - .&#x2F;addons:&#x2F;mnt&#x2F;extra-addons</p>\n</li>\n<li></li>\n</ol>\n<p>如何在UI上更新应用? 刷新</p>\n<p>更新应用列表和安装&#x2F;升级应用。首先，需要激活开发者模式，然后更新应用列表。更新完成后，就可以搜索并安装或升级需要的应用。﻿</p>\n<h2 id=\"8-activate-odoo-unlimited\"><a href=\"#8-activate-odoo-unlimited\" class=\"headerlink\" title=\"8: activate odoo_unlimited\"></a>8: activate odoo_unlimited</h2><p>搜索的页面, 默认选择了‘应用’, 这时无法搜索到odoo_unlimited. 需要先删除掉‘应用’这个filter.</p>\n<h2 id=\"9-install-accounting-module\"><a href=\"#9-install-accounting-module\" class=\"headerlink\" title=\"9: install accounting module\"></a>9: install accounting module</h2><p>成功安装, 但是会报JS错误:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Odoo客户端错误</span><br><span class=\"line\">UncaughtClientError &gt; TypeError</span><br><span class=\"line\"></span><br><span class=\"line\">Uncaught Javascript Error &gt; this.titleService.setCounters is not a function</span><br><span class=\"line\"></span><br><span class=\"line\">Occured on o.carlzeng.com on 2025-07-16 14:45:02 GMT</span><br><span class=\"line\"></span><br><span class=\"line\">TypeError: this.titleService.setCounters is not a function</span><br><span class=\"line\">    clearUnreadMessage@https://o.carlzeng.com/web/assets/f5ab0f4/web.assets_web.min.js:15472:658</span><br><span class=\"line\">    setup/&lt;@https://o.carlzeng.com/web/assets/f5ab0f4/web.assets_web.min.js:15472:539</span><br><span class=\"line\">    trigger@https://o.carlzeng.com/web/assets/f5ab0f4/web.assets_web.min.js:745:63</span><br><span class=\"line\">    onFocusChange@https://o.carlzeng.com/web/assets/f5ab0f4/web.assets_web.min.js:10466:168</span><br><span class=\"line\">    start/&lt;@https://o.carlzeng.com/web/assets/f5ab0f4/web.assets_web.min.js:10469:97</span><br><span class=\"line\">    </span><br></pre></td></tr></table></figure>\n\n\n\n\n\n\n\n\n\n\n\n<h2 id=\"4-restart-odoo-server-update-apps\"><a href=\"#4-restart-odoo-server-update-apps\" class=\"headerlink\" title=\"4: restart odoo server &amp; update apps\"></a>4: restart odoo server &amp; update apps</h2><p>无法完成, 因为一重启docker, 上一步复制进去的内容就全部消失, 洗干净了.</p>\n<h3 id=\"根据odoo-18-0-2024-11-25-deb文件制作dockerfile\"><a href=\"#根据odoo-18-0-2024-11-25-deb文件制作dockerfile\" class=\"headerlink\" title=\"根据odoo_18.0.2024-11-25.deb文件制作dockerfile\"></a>根据odoo_18.0.2024-11-25.deb文件制作dockerfile</h3><p>根据18.0的<a href=\"https://github.com/odoo/docker/blob/b254689862e8a1bbb9624bf86022867544582dd2/18.0/Dockerfile\">https://github.com/odoo/docker/blob/b254689862e8a1bbb9624bf86022867544582dd2/18.0/Dockerfile</a></p>\n<p>待测试</p>\n<h1 id=\"Odoo定制单据打印的PDF内容\"><a href=\"#Odoo定制单据打印的PDF内容\" class=\"headerlink\" title=\"Odoo定制单据打印的PDF内容\"></a>Odoo定制单据打印的PDF内容</h1><p>激活开发者模式后，可在”设置-&gt;技术-&gt;用户界面-&gt;视图”搜索和编辑视图：</p>\n<p><img data-src=\"https://img.carlzeng.com:3/i/2025/04/03/67ee5a0d8bb86.png\" alt=\"image-20250403175105057\"></p>\n<p>可以看到打印模板视图是<a href=\"https://zhida.zhihu.com/search?content_id=238644376&content_type=Article&match_order=1&q=QWeb&zd_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJ6aGlkYV9zZXJ2ZXIiLCJleHAiOjE3NDM2OTAwOTcsInEiOiJRV2ViIiwiemhpZGFfc291cmNlIjoiZW50aXR5IiwiY29udGVudF9pZCI6MjM4NjQ0Mzc2LCJjb250ZW50X3R5cGUiOiJBcnRpY2xlIiwibWF0Y2hfb3JkZXIiOjEsInpkX3Rva2VuIjpudWxsfQ.MyijOJExHmGzPcVcgMD3baEejkTTJ1phuxB5-PwXeQM&zhida_source=entity\">QWeb</a>视图。QWeb是一个基于XML的模板引擎，用于生成HTML片段和界面。模板命令是写在XML标签内以”t-“开头的属性。</p>\n<p>以报价单打印模板为例，可通过“<strong>t-field&#x3D;doc.字段名</strong>”输出单据头体信息：</p>\n<h1 id=\"功能定制\"><a href=\"#功能定制\" class=\"headerlink\" title=\"功能定制\"></a>功能定制</h1><h2 id=\"odoo产品目录树-父子产品\"><a href=\"#odoo产品目录树-父子产品\" class=\"headerlink\" title=\"odoo产品目录树 父子产品\"></a>odoo产品目录树 父子产品</h2><p>需求: 比如实现如PS5; PS5更换霍尔摇杆这样的子产品; 或者说产品分类</p>\n<p>实现: </p>\n<ol>\n<li>启用: 库存</li>\n</ol>\n<p>要设置产品类型，请转到 库存应用程序 ‣ 产品 ‣ 产品，然后从列表中选择所需的产品。</p>\n<p>在产品表单的 产品类型 字段中</p>\n<p>Product Type</p>\n<p><a href=\"https://system0.carlzeng.com:3/web#action=173&model=product.category&view_type=list&cids=1&menu_id=229\">https://system0.carlzeng.com:3/web#action=173&amp;model=product.category&amp;view_type=list&amp;cids=1&amp;menu_id=229</a></p>\n<p>odoo没有父子产品的概念</p>\n<p>可以设置系统字段: Category</p>\n<h2 id=\"odoo配置邮件发送\"><a href=\"#odoo配置邮件发送\" class=\"headerlink\" title=\"odoo配置邮件发送\"></a>odoo配置邮件发送</h2><p>因为收不到邮件, 管理员新建的用户, 无法完成密码设置, 导致新用户无法进入系统</p>\n<p>收不到Email的情况下, 如何新建用户?</p>\n<p>直接在登录页面注册, 然后管理员到后台修改.</p>\n<p>发现: <a href=\"https://system0.carlzeng.com:3/web#\">访问权限</a> 中无法设置权限. </p>\n<p>解决办法: 直接在用户设置页面的; 设置(齿轮图标) - 修改密码</p>\n<h1 id=\"销售模块\"><a href=\"#销售模块\" class=\"headerlink\" title=\"销售模块\"></a>销售模块</h1><h2 id=\"如何关闭报价单模块\"><a href=\"#如何关闭报价单模块\" class=\"headerlink\" title=\"如何关闭报价单模块\"></a>如何关闭报价单模块</h2><p>无法关闭, 需关闭整个‘销售’应用模块才行; 而这样做就偏离了预期</p>\n<p>如何设置默认视图, 这样一打开就看到 销售订单&#x2F;订单</p>\n<p>或者如何在odoo中自定义页头的菜单; 这样我新建一个菜单, 比如叫做 ‘打开订单列表’ 就时默认的销售订单.</p>\n<p>解决办法: 设置菜单, 自定义. Setting - Technical - User Interface - Menu Items </p>\n<h2 id=\"如何直接创建一个销售订单\"><a href=\"#如何直接创建一个销售订单\" class=\"headerlink\" title=\"如何直接创建一个销售订单\"></a>如何直接创建一个销售订单</h2><p>如何直接创建一个销售订单, 而不是每次都从报价单开始</p>\n<p>折中方案: 每次在手机上创建好报价单后, 点击‘Confirm’ 确认, 确定为销售订单.</p>\n<h2 id=\"如何修改销售订单的表单\"><a href=\"#如何修改销售订单的表单\" class=\"headerlink\" title=\"如何修改销售订单的表单?\"></a>如何修改销售订单的表单?</h2><p>想要把 ‘客户参考号’放到主页面Main的部位, 方便手机用户查看 和录入&#x2F;核实</p>\n<p>From View</p>\n<p>Odoo Form View Customization Step-by-Step Guide</p>\n<h1 id=\"灵感来源\"><a href=\"#灵感来源\" class=\"headerlink\" title=\"灵感来源\"></a>灵感来源</h1><p><a href=\"https://hub.docker.com/_/odoo/\">Odoo (formerly known as OpenERP) is a suite of open-source business apps.</a> </p>\n<p><a href=\"https://github.com/minhng92/odoo-17-docker-compose\">https://github.com/minhng92/odoo-17-docker-compose</a></p>\n","more":"<div> \n<button onclick=\"synthesizeSpeech()\">朗读全文</button>\n</div>\n<audio controls id=\"audioPlayer\">Your browser does not support the audio element.</audio>      \n<script>\n  function synthesizeSpeech() { \n    var inputText = document.getElementsByClassName('post-block')[0].innerText;\n    var voice = \"ZH\";\n    var url = 'https://tts.carlzeng.com:3/speech?text=' + encodeURIComponent(inputText.substring(0,3000)) + '&voice=' + voice;\n    var audioPlayer = document.getElementById('audioPlayer');          \n    audioPlayer.src = url;\n    audioPlayer.load();\n    audioPlayer.play();\n  }\n</script>\n\n\n<h1 id=\"有什么用-怎么用\"><a href=\"#有什么用-怎么用\" class=\"headerlink\" title=\"有什么用&#x2F;怎么用\"></a>有什么用&#x2F;怎么用</h1><p>如何安装Odoo社区版</p>\n<p>如何安装Odoo企业版</p>\n<p><a href=\"https://system0.carlzeng.com:3/web/login\">https://system0.carlzeng.com:3/web/login</a></p>\n<h1 id=\"相关内容\"><a href=\"#相关内容\" class=\"headerlink\" title=\"相关内容\"></a>相关内容</h1><iframe style=\"box-shadow: 0px 0px 20px -10px;\" src=\"https://query.carlzeng.com:3/appsearch?q=erp\" frameborder=\"0\" scrolling=\"auto\" width=\"100%\" height=\"500\"></iframe>\n\n<h1 id=\"社区版Docker安装实现方法\"><a href=\"#社区版Docker安装实现方法\" class=\"headerlink\" title=\"社区版Docker安装实现方法\"></a>社区版Docker安装实现方法</h1><p>需要准备的目录有:</p>\n<p>Odoo ERP的部分</p>\n<p>​\todoo-web-data</p>\n<p>​\tconfig</p>\n<p>​\taddons</p>\n<p>Odoo 数据库的部分: </p>\n<p>​\todoo-db-data</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">version:</span> <span class=\"string\">&#x27;3.1&#x27;</span></span><br><span class=\"line\"><span class=\"attr\">services:</span></span><br><span class=\"line\">  <span class=\"attr\">web:</span></span><br><span class=\"line\">    <span class=\"attr\">image:</span> <span class=\"string\">odoo:17.0</span></span><br><span class=\"line\">    <span class=\"attr\">depends_on:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">odoodb</span></span><br><span class=\"line\">    <span class=\"attr\">ports:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">&quot;8069:8069&quot;</span></span><br><span class=\"line\">    <span class=\"attr\">volumes:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">./odoo-web-data:/var/lib/odoo</span></span><br><span class=\"line\">      <span class=\"comment\">#- ./config:/etc/odoo</span></span><br><span class=\"line\">      <span class=\"comment\">#- ./addons:/mnt/extra-addons</span></span><br><span class=\"line\">    <span class=\"attr\">environment:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">HOST=odoodb</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">USER=odoo</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">PASSWORD=myodoo20250401</span></span><br><span class=\"line\">  <span class=\"attr\">odoodb:</span></span><br><span class=\"line\">    <span class=\"attr\">image:</span> <span class=\"string\">postgres:15</span></span><br><span class=\"line\">    <span class=\"attr\">environment:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">POSTGRES_DB=postgres</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">POSTGRES_USER=odoo</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">POSTGRES_PASSWORD=myodoo20250401</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">PGDATA=/var/lib/postgresql/data/pgdata</span></span><br><span class=\"line\">    <span class=\"attr\">volumes:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">./odoo-db-data:/var/lib/postgresql/data/pgdata</span></span><br></pre></td></tr></table></figure>\n\n\n\n\n\n<h2 id=\"运行命令\"><a href=\"#运行命令\" class=\"headerlink\" title=\"运行命令:\"></a>运行命令:</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd ~</span><br><span class=\"line\">mkdir odoo</span><br><span class=\"line\">cd odoo</span><br><span class=\"line\">mkdir odoo-web-data &amp;&amp; mkdir config &amp;&amp; mkdir addons &amp;&amp; mkdir odoo-db-data</span><br><span class=\"line\">vi docker-compose.yaml</span><br><span class=\"line\"></span><br><span class=\"line\">docker-compose up</span><br></pre></td></tr></table></figure>\n\n<p>访问 <a href=\"http://192.168.6.117:8069/\">http://192.168.6.117:8069</a></p>\n<p>Internal Server Error<br>The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.</p>\n<h2 id=\"后台显示的错误以及解决办法\"><a href=\"#后台显示的错误以及解决办法\" class=\"headerlink\" title=\"后台显示的错误以及解决办法\"></a>后台显示的错误以及解决办法</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">web-1     | 2025-04-01 13:30:10,775 1 ERROR ? odoo.http: Exception during request handling.              </span><br><span class=\"line\">web-1     | Traceback (most recent call last):                                                           </span><br><span class=\"line\">web-1     |   File &quot;/usr/lib/python3/dist-packages/odoo/http.py&quot;, line 2206, in __call__                 </span><br><span class=\"line\">web-1     |     request._post_init()                                                                     </span><br><span class=\"line\">web-1     |   File &quot;/usr/lib/python3/dist-packages/odoo/http.py&quot;, line 1391, in _post_init               </span><br><span class=\"line\">web-1     |     self.session, self.db = self._get_session_and_dbname()                                   </span><br><span class=\"line\">web-1     |   File &quot;/usr/lib/python3/dist-packages/odoo/http.py&quot;, line 1397, in _get_session_and_dbname  </span><br><span class=\"line\">web-1     |     session = root.session_store.new()                                                       </span><br><span class=\"line\">web-1     |   File &quot;/usr/lib/python3/dist-packages/odoo/tools/func.py&quot;, line 28, in __get__              </span><br><span class=\"line\">web-1     |     value = self.fget(obj)                                                                   </span><br><span class=\"line\">web-1     |   File &quot;/usr/lib/python3/dist-packages/odoo/http.py&quot;, line 2132, in session_store            </span><br><span class=\"line\">web-1     |     path = odoo.tools.config.session_dir                                                     </span><br><span class=\"line\">web-1     |   File &quot;/usr/lib/python3/dist-packages/odoo/tools/config.py&quot;, line 766, in session_dir       </span><br><span class=\"line\">web-1     |     os.makedirs(d, 0o700)                                                                    </span><br><span class=\"line\">web-1     |   File &quot;/usr/lib/python3.10/os.py&quot;, line 225, in makedirs                                    </span><br><span class=\"line\">web-1     |     mkdir(name, mode)                                                                        </span><br><span class=\"line\">web-1     | PermissionError: [Errno 13] Permission denied: &#x27;/var/lib/odoo/sessions&#x27;                      </span><br><span class=\"line\">web-1     | 2025-04-01 13:30:10,776 1 INFO ? werkzeug: 192.168.6.221 - - [01/Apr/2025 13:30:10] &quot;GET /fav</span><br><span class=\"line\">icon.ico HTTP/1.1&quot; 500 - 0 0.000 0.001  </span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">解决办法:</span></span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">sudo <span class=\"built_in\">chmod</span> -R 777 addons</span></span><br><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">sudo <span class=\"built_in\">chmod</span> -R 777 config</span></span><br><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">sudo <span class=\"built_in\">chmod</span> -R 777 odoo-db-data</span></span><br><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">sudo <span class=\"built_in\">chmod</span> -R 777 odoo-web-data</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>设置好权限以后, 可以运行访问网页</p>\n<p><img data-src=\"https://img.carlzeng.com:3/i/2025/04/01/67ebebd2bf8ac.png\" alt=\"image-20250401213614590\"></p>\n<h1 id=\"企业版Odoo安装步骤\"><a href=\"#企业版Odoo安装步骤\" class=\"headerlink\" title=\"企业版Odoo安装步骤\"></a>企业版Odoo安装步骤</h1><p>下载网盘地址 <a href=\"https://drive.google.com/drive/folders/1VUujb8d9Y1sQ98xA0jk4WZteryn0oOoe\">https://drive.google.com/drive/folders/1VUujb8d9Y1sQ98xA0jk4WZteryn0oOoe</a></p>\n<p>How to install Odoo Enterprise.</p>\n<p>1: download and install community edition.<br>2: download the zip file called <strong>addons-18e.zip</strong> and put it into &#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages<br>3: extract the file and allow overwrite all<br>4: restart odoo server &amp; update apps<br>5: download <strong>odoo18_unlimited.zip</strong> from the same drive link<br>6: unzip odoo18_unlimited.zip into your addons directory (try to keep separate from main odoo addons.<br>7: restart odoo server again and then update apps in odoo<br>8: activate odoo_unlimited<br>9: install accounting module<br>10: activate odoo<br>11: All done</p>\n<p>本小节来源: <a href=\"https://babia.to/threads/odoo-enterprise.37673/page-100\">https://babia.to/threads/odoo-enterprise.37673/page-100</a></p>\n<h2 id=\"1-download-and-install-community-edition\"><a href=\"#1-download-and-install-community-edition\" class=\"headerlink\" title=\"1. download and install community edition\"></a>1. download and install community edition</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir odoo18e</span><br><span class=\"line\">cd odoo18e</span><br><span class=\"line\">docker pull odoo:18.0-20241125</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">选了半天, 只知道是16版本, 先试试16.9; 在https://hub.docker.com/_/postgres找到的tag</span></span><br><span class=\"line\">docker pull postgres:16.9</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">mkdir odoo-web-data &amp;&amp; mkdir config &amp;&amp; mkdir addons &amp;&amp; mkdir odoo-db-data</span><br><span class=\"line\">mkdir dist-packages</span><br><span class=\"line\">vi docker-compose.yaml</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">sudo <span class=\"built_in\">chmod</span> -R 777 addons</span></span><br><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">sudo <span class=\"built_in\">chmod</span> -R 777 config &amp;&amp; sudo <span class=\"built_in\">chmod</span> -R 777 odoo-db-data &amp;&amp; sudo <span class=\"built_in\">chmod</span> -R 777 odoo-web-data &amp;&amp; sudo <span class=\"built_in\">chmod</span> -R 777 dist-packages</span></span><br><span class=\"line\"></span><br><span class=\"line\">docker-compose up</span><br></pre></td></tr></table></figure>\n\n<p>docker pull odoo:18.0-20241125</p>\n<p>[MARK] 第一步就有问题, 需要安装特定的deb文件</p>\n<p><a href=\"https://drive.google.com/drive/folders/1phzmPK7nQ65WKCqAa_N25OupxKMAfxFF\">https://drive.google.com/drive/folders/1phzmPK7nQ65WKCqAa_N25OupxKMAfxFF</a></p>\n<p>然后在: 2: download the zip file called addons-18e.zip and put it into &#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages</p>\n<p>关键就是这个deb文件和docker pull 到的 ce版本不一样!</p>\n<p>问题变成: 如何让deb在docker中运行, 在自动解压和覆盖一个addons-18e.zip文件到目录&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages; </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker exec -it --user root odoo18e-web-1 /bin/bash</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">find / -name odoo    </span><br><span class=\"line\">/usr/bin/odoo</span><br><span class=\"line\">/usr/share/doc/odoo</span><br><span class=\"line\">/usr/share/lintian/overrides/odoo</span><br><span class=\"line\">/usr/lib/python3/dist-packages/point_of_sale/tools/posbox/overwrite_before_init/etc/logrotate.d/odoo</span><br><span class=\"line\">/usr/lib/python3/dist-packages/point_of_sale/tools/posbox/overwrite_after_init/home/pi/odoo</span><br><span class=\"line\">/usr/lib/python3/dist-packages/odoo</span><br><span class=\"line\">/usr/lib/python3/dist-packages/dist-packages2/odoo</span><br><span class=\"line\">/etc/init.d/odoo</span><br><span class=\"line\">/etc/logrotate.d/odoo</span><br><span class=\"line\">/etc/odoo</span><br><span class=\"line\">/mnt/extra-addons/point_of_sale/tools/posbox/overwrite_before_init/etc/logrotate.d/odoo</span><br><span class=\"line\">/mnt/extra-addons/point_of_sale/tools/posbox/overwrite_after_init/home/pi/odoo</span><br><span class=\"line\">/var/log/odoo</span><br><span class=\"line\">/var/lib/odoo</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">find / -name odoo.conf</span><br><span class=\"line\">/usr/lib/python3/dist-packages/point_of_sale/tools/posbox/configuration/odoo.conf</span><br><span class=\"line\">/etc/odoo/odoo.conf</span><br><span class=\"line\">/mnt/extra-addons/point_of_sale/tools/posbox/configuration/odoo.conf</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">service odoo restart</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>然后在解压 6: unzip odoo18_unlimited.zip into your addons directory (try to keep separate from main odoo addons.</p>\n<p>7: restart odoo server again and then update apps in odoo</p>\n<p>8: activate odoo_unlimited<br>9: install accounting module<br>10: activate odoo</p>\n<p>这些能用dockerfile来完成吗?</p>\n<p>使用docker-compose.yml</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">version:</span> <span class=\"string\">&#x27;3.1&#x27;</span></span><br><span class=\"line\"><span class=\"attr\">services:</span></span><br><span class=\"line\">  <span class=\"attr\">web1:</span></span><br><span class=\"line\">    <span class=\"attr\">image:</span> <span class=\"string\">odoo:17.0</span></span><br><span class=\"line\">    <span class=\"attr\">depends_on:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">odoodb2</span></span><br><span class=\"line\">    <span class=\"attr\">ports:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">&quot;8070:8069&quot;</span></span><br><span class=\"line\">    <span class=\"attr\">volumes:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">./odoo-web-data:/var/lib/odoo</span></span><br><span class=\"line\"> <span class=\"comment\">#     - ./config:/etc/odoo</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">./addons:/mnt/extra-addons</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">./dist-packages:/usr/lib/python3/dist-packages</span></span><br><span class=\"line\">    <span class=\"attr\">environment:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">HOST=odoodb2</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">USER=odoo</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">PASSWORD=myodoo20250713</span></span><br><span class=\"line\">  <span class=\"attr\">odoodb2:</span></span><br><span class=\"line\">    <span class=\"attr\">image:</span> <span class=\"string\">postgres:15</span></span><br><span class=\"line\">    <span class=\"attr\">environment:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">POSTGRES_DB=postgres</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">POSTGRES_USER=odoo</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">POSTGRES_PASSWORD=myodoo20250713</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">PGDATA=/var/lib/postgresql/data/pgdata2</span></span><br><span class=\"line\">    <span class=\"attr\">volumes:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">./odoo-db-data:/var/lib/postgresql/data/pgdata2</span></span><br><span class=\"line\">      </span><br></pre></td></tr></table></figure>\n\n\n\n\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">odoodb-1  | PostgreSQL Database directory appears to contain a database; Skipping initialization</span><br><span class=\"line\">odoodb-1  | </span><br><span class=\"line\">odoodb-1  | 2025-07-13 14:53:40.108 UTC [1] LOG:  starting PostgreSQL 15.12 (Debian 15.12-1.pgdg120+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 12.2.0-14) 12.2.0, 64-bit</span><br><span class=\"line\">odoodb-1  | 2025-07-13 14:53:40.108 UTC [1] LOG:  listening on IPv4 address &quot;0.0.0.0&quot;, port 5432</span><br><span class=\"line\">odoodb-1  | 2025-07-13 14:53:40.108 UTC [1] LOG:  listening on IPv6 address &quot;::&quot;, port 5432</span><br><span class=\"line\">odoodb-1  | 2025-07-13 14:53:40.119 UTC [1] LOG:  listening on Unix socket &quot;/var/run/postgresql/.s.PGSQL.5432&quot;</span><br><span class=\"line\">odoodb-1  | 2025-07-13 14:53:40.129 UTC [29] LOG:  database system was shut down at 2025-07-13 14:53:13 UTC</span><br><span class=\"line\">odoodb-1  | 2025-07-13 14:53:40.138 UTC [1] LOG:  database system is ready to accept connections</span><br><span class=\"line\">web-1     | Traceback (most recent call last):</span><br><span class=\"line\">web-1     |   File &quot;/usr/local/bin/wait-for-psql.py&quot;, line 3, in &lt;module&gt;</span><br><span class=\"line\">web-1     |     import psycopg2</span><br><span class=\"line\">web-1     | ModuleNotFoundError: No module named &#x27;psycopg2&#x27;</span><br><span class=\"line\">web-1 exited with code 1</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>把odoo:18.0-20241125 换成了odoo18</p>\n<p>故障依旧</p>\n<p>把odoo:18 换成能正常使用的 odoo:17</p>\n<p>故障依旧, 说明不是odoo包本身的问题.  </p>\n<p>成功使用18.0-20241125版本</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">version:</span> <span class=\"string\">&#x27;3.1&#x27;</span></span><br><span class=\"line\"><span class=\"attr\">services:</span></span><br><span class=\"line\">  <span class=\"attr\">web:</span></span><br><span class=\"line\">    <span class=\"attr\">image:</span> <span class=\"string\">odoo:18.0-20241125</span></span><br><span class=\"line\">    <span class=\"attr\">depends_on:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">odoodb</span></span><br><span class=\"line\">    <span class=\"attr\">ports:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">&quot;8070:8069&quot;</span></span><br><span class=\"line\">    <span class=\"attr\">volumes:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">./odoo-web-data:/var/lib/odoo</span></span><br><span class=\"line\">      <span class=\"comment\">#- ./config:/etc/odoo</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">./addons:/mnt/extra-addons</span></span><br><span class=\"line\">      <span class=\"comment\">#- ./dist-packages:/usr/lib/python3/dist-packages</span></span><br><span class=\"line\">    <span class=\"attr\">environment:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">HOST=odoodb</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">USER=odoo</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">PASSWORD=myodoo20250713</span></span><br><span class=\"line\">  <span class=\"attr\">odoodb:</span></span><br><span class=\"line\">    <span class=\"attr\">image:</span> <span class=\"string\">postgres:15</span></span><br><span class=\"line\">    <span class=\"attr\">environment:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">POSTGRES_DB=postgres</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">POSTGRES_USER=odoo</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">POSTGRES_PASSWORD=myodoo20250713</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">PGDATA=/var/lib/postgresql/data/pgdata</span></span><br><span class=\"line\">    <span class=\"attr\">volumes:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">./odoo-db-data:/var/lib/postgresql/data/pgdata</span></span><br></pre></td></tr></table></figure>\n\n<p>下一步 进一步把配置的目录都逐一映射出来</p>\n<p>原因是这个: - .&#x2F;dist-packages:&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages 一旦添加这个, 就会报错误, 原因是系统里面有内容, 而映射出来的目录是空的.  需要先运行起来以后, 然后把 docker里面的dist-packages内容都复制出来,然后在添加映射.</p>\n<p><img data-src=\"https://img.carlzeng.com:3/i/2025/07/14/68751f519aa7d.png\" alt=\"image-20250714231620552\"></p>\n<p><img data-src=\"https://img.carlzeng.com:3/i/2025/07/14/68751fb502ba4.png\" alt=\"image-20250714231811031\"></p>\n<h2 id=\"2-download-the-zip-file-called-addons-18e-zip-and-put-it-into-usr-lib-python3-dist-packages\"><a href=\"#2-download-the-zip-file-called-addons-18e-zip-and-put-it-into-usr-lib-python3-dist-packages\" class=\"headerlink\" title=\"2: download the zip file called addons-18e.zip and put it into &#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages\"></a>2: download the zip file called <strong>addons-18e.zip</strong> and put it into &#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages</h2><p>通过复制出来的方式, 添加addons-18e.zip, 可是…</p>\n<p>docker cp 容器Id或name:容器内路径 本地文件夹路径<br>docker cp containername:&#x2F;usr&#x2F;share&#x2F;nginx&#x2F;html &#x2F;volume2&#x2F;KingchuxingSSD512G&#x2F;docker&#x2F;compose&#x2F;it-tools&#x2F;html</p>\n<p>docker cp b55461b312c7:&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages &#x2F;root&#x2F;odoo18e&#x2F;</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">root@debian12:~/odoo18e/dist-packages# ls</span><br><span class=\"line\">Babel-2.10.3.egg-info\t\t\t       _distutils_hack</span><br><span class=\"line\">Jinja2-3.1.2.egg-info\t\t\t       _ldap.cpython-312-x86_64-linux-gnu.so</span><br><span class=\"line\">MarkupSafe-2.1.5.egg-info\t\t       _rjsmin.cpython-312-x86_64-linux-gnu.so</span><br><span class=\"line\">OpenSSL\t\t\t\t\t       _sass.abi3.so</span><br><span class=\"line\">PIL\t\t\t\t\t       _yaml</span><br><span class=\"line\">PyPDF2\t\t\t\t\t       asn1crypto</span><br><span class=\"line\">PyYAML-6.0.1.dist-info\t\t\t       asn1crypto-1.5.1.egg-info</span><br><span class=\"line\">Unidecode-1.3.8.egg-info\t\t       attr</span><br><span class=\"line\">XlsxWriter-3.1.9.egg-info\t\t       attrs</span><br><span class=\"line\">__pycache__\t\t\t\t       attrs-23.2.0.dist-info</span><br><span class=\"line\">_cbor2.cpython-312-x86_64-linux-gnu.so\t       babel</span><br><span class=\"line\">_cffi_backend.cpython-312-x86_64-linux-gnu.so</span><br><span class=\"line\"></span><br><span class=\"line\">root@debian12:~/odoo18e/dist-packages# cd ..</span><br><span class=\"line\">root@debian12:~/odoo18e# ls</span><br><span class=\"line\">addons\tconfig\tdist-packages  docker-compose.yaml  odoo-db-data  odoo-web-data</span><br><span class=\"line\">root@debian12:~/odoo18e# docker cp b55461b312c7:/usr/lib/python3/dist-packages /root/odoo18e/</span><br><span class=\"line\">invalid symlink &quot;/root/odoo18e/dist-packages/babel/global.dat&quot; -&gt; &quot;../../../../share/python-babel-localedata/global.dat&quot;</span><br><span class=\"line\">root@debian12:~/odoo18e# docker cp b55461b312c7:/usr/lib/python3/dist-packages /root/odoo18e/</span><br><span class=\"line\">invalid symlink &quot;/root/odoo18e/dist-packages/babel/global.dat&quot; -&gt; &quot;../../../../share/python-babel-localedata/global.dat&quot;</span><br></pre></td></tr></table></figure>\n\n<p>有没有其他办法永久性改变docker中的某个特定目录内容?</p>\n<p>临时的workaround: 直接复制到docker中去, 每次 重启docker 都要重新去复制进去, 然后解压缩, 覆盖</p>\n<p>Steps:</p>\n<ol>\n<li><p>复制本机addons-18e.zip到debian12的目录中去&#x2F;root&#x2F;odoo18e&#x2F;</p>\n<ol>\n<li><p>scp -P 22226 &#x2F;Users&#x2F;carlzeng&#x2F;Downloads&#x2F;addons-18e.zip <a href=\"mailto:&#x63;&#97;&#x72;&#x6c;&#x7a;&#101;&#x6e;&#103;&#64;&#49;&#50;&#55;&#x2e;&#x30;&#x2e;&#x30;&#x2e;&#49;\">&#x63;&#97;&#x72;&#x6c;&#x7a;&#101;&#x6e;&#103;&#64;&#49;&#50;&#55;&#x2e;&#x30;&#x2e;&#x30;&#x2e;&#49;</a>:&#x2F;home&#x2F;carlzeng&#x2F;addons-18e.zip</p>\n</li>\n<li><p>由于权限的缘故, 只能先传输到目录: &#x2F;home&#x2F;carlzeng</p>\n</li>\n<li><p>scp -P 22226 &#x2F;Users&#x2F;carlzeng&#x2F;Downloads&#x2F;addons-18e.zip <a href=\"mailto:&#99;&#97;&#x72;&#x6c;&#122;&#101;&#x6e;&#x67;&#x40;&#49;&#50;&#55;&#x2e;&#x30;&#x2e;&#48;&#x2e;&#x31;\">&#99;&#97;&#x72;&#x6c;&#122;&#101;&#x6e;&#x67;&#x40;&#49;&#50;&#55;&#x2e;&#x30;&#x2e;&#48;&#x2e;&#x31;</a>:&#x2F;home&#x2F;carlzeng&#x2F;addons-18e.zip</p>\n<p><a href=\"mailto:&#99;&#97;&#x72;&#x6c;&#122;&#101;&#110;&#x67;&#x40;&#49;&#x32;&#x37;&#x2e;&#x30;&#x2e;&#48;&#x2e;&#x31;\">&#99;&#97;&#x72;&#x6c;&#122;&#101;&#110;&#x67;&#x40;&#49;&#x32;&#x37;&#x2e;&#x30;&#x2e;&#48;&#x2e;&#x31;</a>‘s password: </p>\n<p>stalledaddaddaddaddons-18e.zip                          14%  55MB  4.6MB&#x2F;s  01:11 ETA</p>\n</li>\n<li><p>ssh进入debian12的root, 然后复制到root用户目录&#x2F;root&#x2F;odoo18e&#x2F;</p>\n</li>\n<li><p>cp &#x2F;home&#x2F;carlzeng&#x2F;addons-18e.zip &#x2F;root&#x2F;odoo18e&#x2F;addons-18e.zip </p>\n</li>\n<li><p>解压缩在&#x2F;root&#x2F;odoo18e&#x2F;</p>\n<ol>\n<li>unzip addons-18e.zip </li>\n<li>生成出来addons文件夹</li>\n</ol>\n</li>\n<li></li>\n</ol>\n</li>\n<li><p>复制debian12中的addons-18e.zip到docker的&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages中去</p>\n<ol>\n<li>docker cp &#x2F;root&#x2F;odoo18e&#x2F;addons-18e.zip  b55461b312c7:&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages&#x2F;addons-18e.zip </li>\n<li>成功了, 但是docker中无法运行unzip(没有安装, 且无法安装)</li>\n<li>复制debian12中的addons文件夹(以及下面的所有文件和文件夹)到docker的&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages中去</li>\n<li>docker cp &#x2F;root&#x2F;odoo18e&#x2F;addons&#x2F; b55461b312c7:&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages&#x2F;</li>\n</ol>\n</li>\n<li><p>[忽略]docker exec -it 进入docker的目录进行addons-18e.zip解压缩并覆盖</p>\n<ol>\n<li><p>unzip archive_name.zip&#96;：这将解压缩ZIP文件到当前目录。</p>\n</li>\n<li><p>tar 无法解压缩.zip文件.</p>\n</li>\n<li><p>odoo@b55461b312c7:&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages$ apt-get install zip</p>\n<p>E: Could not open lock file &#x2F;var&#x2F;lib&#x2F;dpkg&#x2F;lock-frontend - open (13: Permission denied)</p>\n<p>E: Unable to acquire the dpkg frontend lock (&#x2F;var&#x2F;lib&#x2F;dpkg&#x2F;lock-frontend), are you root?</p>\n</li>\n<li><p>如何在docker中解压缩?</p>\n</li>\n</ol>\n</li>\n<li></li>\n<li></li>\n</ol>\n<p>   docker cp 忽略某个文件</p>\n<p>先使用</p>\n<p>tar -zcvf archive.tar.gz –exclude&#x3D;&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages&#x2F;babel&#x2F;global.dat  &#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tar -zcvf archive.tar.gz dist-packages</span><br><span class=\"line\">tar (child): archive.tar.gz: Cannot open: Permission denied</span><br><span class=\"line\">tar (child): Error is not recoverable: exiting now</span><br><span class=\"line\">dist-packages/</span><br><span class=\"line\">dist-packages/num2words-0.5.13.egg-info/</span><br><span class=\"line\">dist-packages/num2words-0.5.13.egg-info/requires.txt</span><br><span class=\"line\">dist-packages/num2words-0.5.13.egg-info/PKG-INFO</span><br><span class=\"line\">tar: archive.tar.gz: Cannot write: Broken pipe</span><br><span class=\"line\">tar: Child returned status 2</span><br><span class=\"line\">tar: Error is not recoverable: exiting now</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>20250715思路: </p>\n<p>可以使用UI工具, 浏览 和 打包整个&#x2F;dist-packages&#x2F;文件夹, 然后拿到容器外面来修改</p>\n<p>使用类似这样的批量命令复制全部</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/_cbor2.cpython-312-x86_64-linux-gnu.so  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/_cffi_backend.cpython-312-x86_64-linux-gnu.so  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/_ldap.cpython-312-x86_64-linux-gnu.so  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/_rjsmin.cpython-312-x86_64-linux-gnu.so  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/_sass.abi3.so  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/cached_property.py  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/decorator.py  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/distutils-precedence.pth  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/docopt.py  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/ldapurl.py  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/ldif.py  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/png.py  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/polib.py  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/pyasn1_modules-0.2.8.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/pycairo-1.25.1.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/pysassc.py  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/requests_file.py  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/rjsmin.py  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/roman.py  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/sass.py  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/six.py  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/typing_extensions.py  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/zope.event-5.0-nspkg.pth  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/zope.interface-6.1-nspkg.pth</span><br></pre></td></tr></table></figure>\n\n\n\n<p>web-1   | ImportError: cannot import name ‘localedata’ from partially initialized module ‘babel’ (most likely due to a circular import) (&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages&#x2F;babel&#x2F;<strong>init</strong>.py)</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">名称  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/Babel-2.10.3.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/Jinja2-3.1.2.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/MarkupSafe-2.1.5.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/OpenSSL  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/PIL  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/PyPDF2  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/PyYAML-6.0.1.dist-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/Unidecode-1.3.8.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/XlsxWriter-3.1.9.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/__pycache__  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/_distutils_hack  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/_yaml  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/asn1crypto  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/asn1crypto-1.5.1.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/attr  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/attrs  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/attrs-23.2.0.dist-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/babel  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/beautifulsoup4-4.12.3.dist-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/bs4  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/cached_property-1.5.2.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/cairo  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/cbor2  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/cbor2-5.6.2.dist-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/certifi  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/certifi-2023.11.17.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/chardet  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/chardet-5.2.0.dist-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/charset_normalizer  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/charset_normalizer-3.3.2.dist-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/cryptography  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/cryptography-41.0.7.dist-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/cryptography.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/dateutil  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/decorator-5.1.1.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/defusedxml  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/defusedxml-0.7.1.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/docopt-0.6.2.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/docutils  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/docutils-0.20.1.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/et_xmlfile  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/et_xmlfile-1.0.1.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/freetype  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/freetype_py-2.4.0.dist-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/freezegun  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/freezegun-1.2.1.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/geoip2  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/geoip2-2.9.0.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/gevent  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/gevent-24.2.1.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/greenlet  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/greenlet-3.0.3.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/gyp  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/gyp-0.1.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/idna  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/idna-3.6.dist-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/isodate  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/isodate-0.6.1.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/jinja2  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/ldap  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/libsass-0.22.0.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/lxml  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/lxml-5.2.1.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/lxml_html_clean  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/lxml_html_clean-0.1.1.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/magic  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/markupsafe  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/maxminddb  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/maxminddb-2.5.2.dist-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/num2words  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/num2words-0.5.13.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/odf  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/odfpy-1.4.2.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/odoo  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/odoo-18.0.post20241125.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/ofxparse  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/ofxparse-0.21.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/openpyxl  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/openpyxl-3.1.2.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/passlib  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/passlib-1.7.4.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/pdfminer  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/pdfminer.six-20221105.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/phonenumbers  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/phonenumbers-8.12.57.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/pillow-10.2.0.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/pip  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/pip-24.0.dist-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/pkg_resources  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/platformdirs  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/platformdirs-4.2.0.dist-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/polib-1.1.1.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/psutil  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/psutil-5.9.8.dist-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/psycopg2  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/psycopg2-2.9.9.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/pyOpenSSL-23.2.0.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/pyasn1  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/pyasn1-0.4.8.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/pyasn1_modules  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/pypdf2-2.12.1.dist-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/pypng-0.20231004.0.dist-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/pyserial-3.5.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/python_dateutil-2.8.2.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/python_ldap-3.4.4.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/python_magic-0.4.27.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/python_slugify-8.0.4.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/python_stdnum-1.19.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/pytz  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/pytz-2024.1.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/pyusb-1.2.1.post2.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/qrcode  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/qrcode-7.4.2.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/reportlab  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/reportlab-4.1.0.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/requests  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/requests-2.31.0.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/requests_file-1.5.1.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/requests_toolbelt  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/requests_toolbelt-1.0.0.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/rjsmin-1.2.0.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/rlPyCairo  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/rlPyCairo-0.3.0.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/roman-3.3.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/sassutils  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/serial  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/setuptools  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/setuptools-68.1.2.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/six-1.16.0.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/slapdtest  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/slugify  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/soupsieve  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/soupsieve-2.5.dist-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/stdnum  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/typing_extensions-4.10.0.dist-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/unidecode  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/urllib3  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/urllib3-2.0.7.dist-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/usb  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/vobject  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/vobject-0.9.6.1.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/watchdog  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/watchdog-3.0.0.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/werkzeug  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/werkzeug-3.0.1.dist-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/wheel  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/wheel-0.42.0.dist-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/xlrd  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/xlrd-2.0.1.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/xlsxwriter  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/xlwt  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/xlwt-1.3.0.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/yaml  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/zeep  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/zeep-4.2.1.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/zope  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/zope.event-5.0.egg-info  /root/odoo18e/dist-packages/ </span><br><span class=\"line\">docker cp 8d0116c1f93d:/usr/lib/python3/dist-packages/zope.interface-6.1.egg-info</span><br></pre></td></tr></table></figure>\n\n<p><img data-src=\"https://img.carlzeng.com:3/i/2025/07/15/68766e97ca8c5.png\" alt=\"image-20250715230700882\"></p>\n<p>复制完成了babel文件夹下面的所有文件, 不包含那些连接文件的2个文件</p>\n<p>运行报错:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">odoodb-1  | 2025-07-15 15:13:35.829 UTC [1] LOG:  database system is ready to accept connections</span><br><span class=\"line\">web-1     | Traceback (most recent call last):</span><br><span class=\"line\">web-1     |   File &quot;/usr/bin/odoo&quot;, line 5, in &lt;module&gt;</span><br><span class=\"line\">web-1     |     import odoo</span><br><span class=\"line\">web-1     |   File &quot;/usr/lib/python3/dist-packages/odoo/__init__.py&quot;, line 49, in &lt;module&gt;</span><br><span class=\"line\">web-1     |     _monkeypatches.patch_all()</span><br><span class=\"line\">web-1     |   File &quot;/usr/lib/python3/dist-packages/odoo/_monkeypatches/__init__.py&quot;, line 31, in patch_all</span><br><span class=\"line\">web-1     |     patch_werkzeug()</span><br><span class=\"line\">web-1     |   File &quot;/usr/lib/python3/dist-packages/odoo/_monkeypatches/werkzeug_urls.py&quot;, line 1044, in patch_werkzeug</span><br><span class=\"line\">web-1     |     from ..tools.json import scriptsafe  # noqa: PLC0415</span><br><span class=\"line\">web-1     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span><br><span class=\"line\">web-1     | ModuleNotFoundError: No module named &#x27;odoo.tools&#x27;</span><br><span class=\"line\">web-1 exited with code 1</span><br></pre></td></tr></table></figure>\n\n<p>先把addons-18e.zip unzip到dist-packages目录下, 在看看错误会不会自己消失?</p>\n<p>cp -r addons&#x2F;* dist-packages&#x2F;</p>\n<p>还是依旧报同样上方的错误</p>\n<p>0716 检查出来: 原来</p>\n<p>docker cp 17c661c4ff14:&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages&#x2F;odoo &#x2F;root&#x2F;odoo18e&#x2F;dist-packages&#x2F;</p>\n<p>invalid symlink “&#x2F;root&#x2F;odoo18e&#x2F;dist-packages&#x2F;odoo&#x2F;addons&#x2F;point_of_sale&#x2F;static&#x2F;src&#x2F;fonts&#x2F;Inconsolata.otf” -&gt; “..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;share&#x2F;fonts&#x2F;truetype&#x2F;inconsolata&#x2F;Inconsolata.otf”</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker cp 17c661c4ff14:/usr/lib/python3/dist-packages/odoo/cli  /root/odoo18e/dist-packages/odoo/ </span><br><span class=\"line\">docker cp 17c661c4ff14:/usr/lib/python3/dist-packages/odoo/conf  /root/odoo18e/dist-packages/odoo/ </span><br><span class=\"line\">docker cp 17c661c4ff14:/usr/lib/python3/dist-packages/odoo/exceptions.py  /root/odoo18e/dist-packages/odoo/ </span><br><span class=\"line\">docker cp 17c661c4ff14:/usr/lib/python3/dist-packages/odoo/fields.py  /root/odoo18e/dist-packages/odoo/ </span><br><span class=\"line\">docker cp 17c661c4ff14:/usr/lib/python3/dist-packages/odoo/http.py  /root/odoo18e/dist-packages/odoo/ </span><br><span class=\"line\">docker cp 17c661c4ff14:/usr/lib/python3/dist-packages/odoo/import_xml.rng  /root/odoo18e/dist-packages/odoo/ </span><br><span class=\"line\">docker cp 17c661c4ff14:/usr/lib/python3/dist-packages/odoo/loglevels.py  /root/odoo18e/dist-packages/odoo/ </span><br><span class=\"line\">docker cp 17c661c4ff14:/usr/lib/python3/dist-packages/odoo/models.py  /root/odoo18e/dist-packages/odoo/ </span><br><span class=\"line\">docker cp 17c661c4ff14:/usr/lib/python3/dist-packages/odoo/modules  /root/odoo18e/dist-packages/odoo/ </span><br><span class=\"line\">docker cp 17c661c4ff14:/usr/lib/python3/dist-packages/odoo/netsvc.py  /root/odoo18e/dist-packages/odoo/ </span><br><span class=\"line\">docker cp 17c661c4ff14:/usr/lib/python3/dist-packages/odoo/osv  /root/odoo18e/dist-packages/odoo/ </span><br><span class=\"line\">docker cp 17c661c4ff14:/usr/lib/python3/dist-packages/odoo/release.py  /root/odoo18e/dist-packages/odoo/ </span><br><span class=\"line\">docker cp 17c661c4ff14:/usr/lib/python3/dist-packages/odoo/service  /root/odoo18e/dist-packages/odoo/ </span><br><span class=\"line\">docker cp 17c661c4ff14:/usr/lib/python3/dist-packages/odoo/sql_db.py  /root/odoo18e/dist-packages/odoo/ </span><br><span class=\"line\">docker cp 17c661c4ff14:/usr/lib/python3/dist-packages/odoo/tests  /root/odoo18e/dist-packages/odoo/ </span><br><span class=\"line\">docker cp 17c661c4ff14:/usr/lib/python3/dist-packages/odoo/tools  /root/odoo18e/dist-packages/odoo/ </span><br><span class=\"line\">docker cp 17c661c4ff14:/usr/lib/python3/dist-packages/odoo/upgrade  /root/odoo18e/dist-packages/odoo/ </span><br><span class=\"line\">docker cp 17c661c4ff14:/usr/lib/python3/dist-packages/odoo/upgrade_code /root/odoo18e/dist-packages/odoo/ </span><br></pre></td></tr></table></figure>\n\n\n\n<p>终于解决了错误; 错误变了</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">web-1     |   File &quot;/usr/lib/python3/dist-packages/odoo/_monkeypatches/werkzeug_urls.py&quot;, line 1044, in patch_werkzeug</span><br><span class=\"line\">web-1     |     from ..tools.json import scriptsafe  # noqa: PLC0415</span><br><span class=\"line\">web-1     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span><br><span class=\"line\">web-1     |   File &quot;/usr/lib/python3/dist-packages/odoo/tools/__init__.py&quot;, line 8, in &lt;module&gt;</span><br><span class=\"line\">web-1     |     from . import pdf</span><br><span class=\"line\">web-1     |   File &quot;/usr/lib/python3/dist-packages/odoo/tools/pdf/__init__.py&quot;, line 13, in &lt;module&gt;</span><br><span class=\"line\">web-1     |     from reportlab.lib import colors</span><br><span class=\"line\">web-1     | ModuleNotFoundError: No module named &#x27;reportlab.lib&#x27;</span><br><span class=\"line\">web-1 exited with code 1</span><br></pre></td></tr></table></figure>\n\n<p><img data-src=\"https://img.carlzeng.com:3/i/2025/07/16/6877aec84a621.png\" alt=\"image-20250716215307666\"></p>\n<p>docker cp f9f29717401a:&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages&#x2F;reportlab&#x2F;graphics &#x2F;root&#x2F;odoo18e&#x2F;dist-packages&#x2F;reportlab&#x2F; </p>\n<p>docker cp f9f29717401a:&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages&#x2F;reportlab&#x2F;lib &#x2F;root&#x2F;odoo18e&#x2F;dist-packages&#x2F;reportlab&#x2F;</p>\n<p>docker cp f9f29717401a:&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages&#x2F;reportlab&#x2F;pdfbase &#x2F;root&#x2F;odoo18e&#x2F;dist-packages&#x2F;reportlab&#x2F;</p>\n<p>docker cp f9f29717401a:&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages&#x2F;reportlab&#x2F;pdfgen &#x2F;root&#x2F;odoo18e&#x2F;dist-packages&#x2F;reportlab&#x2F;</p>\n<p>docker cp f9f29717401a:&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages&#x2F;reportlab&#x2F;platypus &#x2F;root&#x2F;odoo18e&#x2F;dist-packages&#x2F;reportlab&#x2F;</p>\n<p>docker cp f9f29717401a:&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages&#x2F;reportlab&#x2F;rl_config.py &#x2F;root&#x2F;odoo18e&#x2F;dist-packages&#x2F;reportlab&#x2F;</p>\n<p>docker cp f9f29717401a:&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages&#x2F;reportlab&#x2F;rl_settings.py &#x2F;root&#x2F;odoo18e&#x2F;dist-packages&#x2F;reportlab&#x2F;</p>\n<h2 id=\"6-unzip-odoo18-unlimited-zip-into-your-addons-directory-try-to-keep-separate-from-main-odoo-addons\"><a href=\"#6-unzip-odoo18-unlimited-zip-into-your-addons-directory-try-to-keep-separate-from-main-odoo-addons\" class=\"headerlink\" title=\"6: unzip odoo18_unlimited.zip into your addons directory (try to keep separate from main odoo addons.\"></a>6: unzip odoo18_unlimited.zip into your addons directory (try to keep separate from main odoo addons.</h2><ol>\n<li><p>scp -P 22226 &#x2F;Users&#x2F;carlzeng&#x2F;Downloads&#x2F;odoo18_unlimited.zip <a href=\"mailto:&#99;&#97;&#114;&#x6c;&#x7a;&#101;&#110;&#103;&#x40;&#x31;&#50;&#x37;&#x2e;&#48;&#x2e;&#x30;&#46;&#x31;\">&#99;&#97;&#114;&#x6c;&#x7a;&#101;&#110;&#103;&#x40;&#x31;&#50;&#x37;&#x2e;&#48;&#x2e;&#x30;&#46;&#x31;</a>:&#x2F;home&#x2F;carlzeng&#x2F;odoo18_unlimited.zip</p>\n<p><a href=\"mailto:&#99;&#97;&#x72;&#108;&#122;&#101;&#110;&#103;&#64;&#x31;&#50;&#55;&#46;&#48;&#x2e;&#x30;&#46;&#49;\">&#99;&#97;&#x72;&#108;&#122;&#101;&#110;&#103;&#64;&#x31;&#50;&#55;&#46;&#48;&#x2e;&#x30;&#46;&#49;</a>‘s password: </p>\n<p>odoo18_unlimited.zip                                            100% 2105    34.0KB&#x2F;s   00:00    </p>\n</li>\n<li><p>ssh进入debian12的root, 然后复制到root用户目录&#x2F;root&#x2F;odoo18e&#x2F;</p>\n</li>\n<li><p>cp &#x2F;home&#x2F;carlzeng&#x2F;odoo18_unlimited.zip &#x2F;root&#x2F;odoo18e&#x2F;odoo18_unlimited.zip</p>\n</li>\n<li><p>解压缩在&#x2F;root&#x2F;odoo18e&#x2F;</p>\n<ol>\n<li><p>unzip odoo18_unlimited.zip </p>\n<p>Archive: odoo18_unlimited.zip</p>\n<p>  creating: odoo_unlimited&#x2F;</p>\n<p>  creating: odoo_unlimited&#x2F;models&#x2F;</p>\n<p> inflating: odoo_unlimited&#x2F;models&#x2F;update.py  </p>\n<p> inflating: odoo_unlimited&#x2F;models&#x2F;<strong>init</strong>.py  </p>\n<p> inflating: odoo_unlimited&#x2F;<strong>init</strong>.py  </p>\n<p> inflating: odoo_unlimited&#x2F;<strong>manifest</strong>.py</p>\n</li>\n<li><p>生成出来odoo_unlimited文件夹</p>\n</li>\n</ol>\n</li>\n<li><p>把新生成的odoo_unlimited文件夹放到 addons文件夹中去</p>\n</li>\n<li><p>cp -r odoo_unlimited .&#x2F;addons&#x2F;</p>\n</li>\n<li><p>核实&#x2F;编辑docker-compose, 确保 - .&#x2F;addons:&#x2F;mnt&#x2F;extra-addons</p>\n</li>\n<li></li>\n</ol>\n<p>如何在UI上更新应用? 刷新</p>\n<p>更新应用列表和安装&#x2F;升级应用。首先，需要激活开发者模式，然后更新应用列表。更新完成后，就可以搜索并安装或升级需要的应用。﻿</p>\n<h2 id=\"8-activate-odoo-unlimited\"><a href=\"#8-activate-odoo-unlimited\" class=\"headerlink\" title=\"8: activate odoo_unlimited\"></a>8: activate odoo_unlimited</h2><p>搜索的页面, 默认选择了‘应用’, 这时无法搜索到odoo_unlimited. 需要先删除掉‘应用’这个filter.</p>\n<h2 id=\"9-install-accounting-module\"><a href=\"#9-install-accounting-module\" class=\"headerlink\" title=\"9: install accounting module\"></a>9: install accounting module</h2><p>成功安装, 但是会报JS错误:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Odoo客户端错误</span><br><span class=\"line\">UncaughtClientError &gt; TypeError</span><br><span class=\"line\"></span><br><span class=\"line\">Uncaught Javascript Error &gt; this.titleService.setCounters is not a function</span><br><span class=\"line\"></span><br><span class=\"line\">Occured on o.carlzeng.com on 2025-07-16 14:45:02 GMT</span><br><span class=\"line\"></span><br><span class=\"line\">TypeError: this.titleService.setCounters is not a function</span><br><span class=\"line\">    clearUnreadMessage@https://o.carlzeng.com/web/assets/f5ab0f4/web.assets_web.min.js:15472:658</span><br><span class=\"line\">    setup/&lt;@https://o.carlzeng.com/web/assets/f5ab0f4/web.assets_web.min.js:15472:539</span><br><span class=\"line\">    trigger@https://o.carlzeng.com/web/assets/f5ab0f4/web.assets_web.min.js:745:63</span><br><span class=\"line\">    onFocusChange@https://o.carlzeng.com/web/assets/f5ab0f4/web.assets_web.min.js:10466:168</span><br><span class=\"line\">    start/&lt;@https://o.carlzeng.com/web/assets/f5ab0f4/web.assets_web.min.js:10469:97</span><br><span class=\"line\">    </span><br></pre></td></tr></table></figure>\n\n\n\n\n\n\n\n\n\n\n\n<h2 id=\"4-restart-odoo-server-update-apps\"><a href=\"#4-restart-odoo-server-update-apps\" class=\"headerlink\" title=\"4: restart odoo server &amp; update apps\"></a>4: restart odoo server &amp; update apps</h2><p>无法完成, 因为一重启docker, 上一步复制进去的内容就全部消失, 洗干净了.</p>\n<h3 id=\"根据odoo-18-0-2024-11-25-deb文件制作dockerfile\"><a href=\"#根据odoo-18-0-2024-11-25-deb文件制作dockerfile\" class=\"headerlink\" title=\"根据odoo_18.0.2024-11-25.deb文件制作dockerfile\"></a>根据odoo_18.0.2024-11-25.deb文件制作dockerfile</h3><p>根据18.0的<a href=\"https://github.com/odoo/docker/blob/b254689862e8a1bbb9624bf86022867544582dd2/18.0/Dockerfile\">https://github.com/odoo/docker/blob/b254689862e8a1bbb9624bf86022867544582dd2/18.0/Dockerfile</a></p>\n<p>待测试</p>\n<h1 id=\"Odoo定制单据打印的PDF内容\"><a href=\"#Odoo定制单据打印的PDF内容\" class=\"headerlink\" title=\"Odoo定制单据打印的PDF内容\"></a>Odoo定制单据打印的PDF内容</h1><p>激活开发者模式后，可在”设置-&gt;技术-&gt;用户界面-&gt;视图”搜索和编辑视图：</p>\n<p><img data-src=\"https://img.carlzeng.com:3/i/2025/04/03/67ee5a0d8bb86.png\" alt=\"image-20250403175105057\"></p>\n<p>可以看到打印模板视图是<a href=\"https://zhida.zhihu.com/search?content_id=238644376&content_type=Article&match_order=1&q=QWeb&zd_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJ6aGlkYV9zZXJ2ZXIiLCJleHAiOjE3NDM2OTAwOTcsInEiOiJRV2ViIiwiemhpZGFfc291cmNlIjoiZW50aXR5IiwiY29udGVudF9pZCI6MjM4NjQ0Mzc2LCJjb250ZW50X3R5cGUiOiJBcnRpY2xlIiwibWF0Y2hfb3JkZXIiOjEsInpkX3Rva2VuIjpudWxsfQ.MyijOJExHmGzPcVcgMD3baEejkTTJ1phuxB5-PwXeQM&zhida_source=entity\">QWeb</a>视图。QWeb是一个基于XML的模板引擎，用于生成HTML片段和界面。模板命令是写在XML标签内以”t-“开头的属性。</p>\n<p>以报价单打印模板为例，可通过“<strong>t-field&#x3D;doc.字段名</strong>”输出单据头体信息：</p>\n<h1 id=\"功能定制\"><a href=\"#功能定制\" class=\"headerlink\" title=\"功能定制\"></a>功能定制</h1><h2 id=\"odoo产品目录树-父子产品\"><a href=\"#odoo产品目录树-父子产品\" class=\"headerlink\" title=\"odoo产品目录树 父子产品\"></a>odoo产品目录树 父子产品</h2><p>需求: 比如实现如PS5; PS5更换霍尔摇杆这样的子产品; 或者说产品分类</p>\n<p>实现: </p>\n<ol>\n<li>启用: 库存</li>\n</ol>\n<p>要设置产品类型，请转到 库存应用程序 ‣ 产品 ‣ 产品，然后从列表中选择所需的产品。</p>\n<p>在产品表单的 产品类型 字段中</p>\n<p>Product Type</p>\n<p><a href=\"https://system0.carlzeng.com:3/web#action=173&model=product.category&view_type=list&cids=1&menu_id=229\">https://system0.carlzeng.com:3/web#action=173&amp;model=product.category&amp;view_type=list&amp;cids=1&amp;menu_id=229</a></p>\n<p>odoo没有父子产品的概念</p>\n<p>可以设置系统字段: Category</p>\n<h2 id=\"odoo配置邮件发送\"><a href=\"#odoo配置邮件发送\" class=\"headerlink\" title=\"odoo配置邮件发送\"></a>odoo配置邮件发送</h2><p>因为收不到邮件, 管理员新建的用户, 无法完成密码设置, 导致新用户无法进入系统</p>\n<p>收不到Email的情况下, 如何新建用户?</p>\n<p>直接在登录页面注册, 然后管理员到后台修改.</p>\n<p>发现: <a href=\"https://system0.carlzeng.com:3/web#\">访问权限</a> 中无法设置权限. </p>\n<p>解决办法: 直接在用户设置页面的; 设置(齿轮图标) - 修改密码</p>\n<h1 id=\"销售模块\"><a href=\"#销售模块\" class=\"headerlink\" title=\"销售模块\"></a>销售模块</h1><h2 id=\"如何关闭报价单模块\"><a href=\"#如何关闭报价单模块\" class=\"headerlink\" title=\"如何关闭报价单模块\"></a>如何关闭报价单模块</h2><p>无法关闭, 需关闭整个‘销售’应用模块才行; 而这样做就偏离了预期</p>\n<p>如何设置默认视图, 这样一打开就看到 销售订单&#x2F;订单</p>\n<p>或者如何在odoo中自定义页头的菜单; 这样我新建一个菜单, 比如叫做 ‘打开订单列表’ 就时默认的销售订单.</p>\n<p>解决办法: 设置菜单, 自定义. Setting - Technical - User Interface - Menu Items </p>\n<h2 id=\"如何直接创建一个销售订单\"><a href=\"#如何直接创建一个销售订单\" class=\"headerlink\" title=\"如何直接创建一个销售订单\"></a>如何直接创建一个销售订单</h2><p>如何直接创建一个销售订单, 而不是每次都从报价单开始</p>\n<p>折中方案: 每次在手机上创建好报价单后, 点击‘Confirm’ 确认, 确定为销售订单.</p>\n<h2 id=\"如何修改销售订单的表单\"><a href=\"#如何修改销售订单的表单\" class=\"headerlink\" title=\"如何修改销售订单的表单?\"></a>如何修改销售订单的表单?</h2><p>想要把 ‘客户参考号’放到主页面Main的部位, 方便手机用户查看 和录入&#x2F;核实</p>\n<p>From View</p>\n<p>Odoo Form View Customization Step-by-Step Guide</p>\n<h1 id=\"灵感来源\"><a href=\"#灵感来源\" class=\"headerlink\" title=\"灵感来源\"></a>灵感来源</h1><p><a href=\"https://hub.docker.com/_/odoo/\">Odoo (formerly known as OpenERP) is a suite of open-source business apps.</a> </p>\n<p><a href=\"https://github.com/minhng92/odoo-17-docker-compose\">https://github.com/minhng92/odoo-17-docker-compose</a></p>","categories":[{"name":"odoo","path":"api/categories/odoo.json"}],"tags":[{"name":"erp","path":"api/tags/erp.json"}]}