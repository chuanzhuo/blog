{"title":"远程安卓盒子N1安装IPTV APP-远程查看机顶盒屏幕画面等","slug":"远程安卓盒子N1安装APP-远程查看机顶盒屏幕画面等","date":"2023-12-12T04:25:00.000Z","updated":"2023-12-21T13:49:28.058Z","comments":true,"path":"api/articles/远程安卓盒子N1安装APP-远程查看机顶盒屏幕画面等.json","excerpt":" [Figure] 实测远程协助安卓电视盒子，远程控制机顶盒（远程控制安卓电视），远程协助给家人的机顶盒安装APP（包括删除、管理APP等），远程操作N1电视盒子","covers":["https://www.evernote.com/shard/s122/sh/730fc3eb-98b3-4cde-ab03-ff536d849762/cm5hCYYFRDdasMsamfd90jrI6Z1o_by7-z3SHX2OxujZN5bs1tYHmYExTw/deep/0/image.png","https://www.evernote.com/shard/s122/sh/3e5002dc-29d3-4798-9afe-35c866fd1f44/dD8Wf6kSoMKVd4xGx3Dosd6cvB0qdU1-rUJaG3s9HNW0UI6r310tqvkE8A/deep/0/image.png"],"content":"<p><img data-src=\"https://www.evernote.com/shard/s122/sh/730fc3eb-98b3-4cde-ab03-ff536d849762/cm5hCYYFRDdasMsamfd90jrI6Z1o_by7-z3SHX2OxujZN5bs1tYHmYExTw/deep/0/image.png\" alt=\"N1RemoteControl\"></p>\n<p>实测远程协助安卓电视盒子，远程控制机顶盒（远程控制安卓电视），远程协助给家人的机顶盒安装APP（包括删除、管理APP等），远程操作N1电视盒子</p>\n<span id=\"more\"></span>\n\n<h1 id=\"有什么用\"><a href=\"#有什么用\" class=\"headerlink\" title=\"有什么用\"></a>有什么用</h1><p>远程控制机顶盒，给老人的智能安卓机顶盒（或者安卓电视）安装IPTV类APP</p>\n<p>远程给家人的机顶盒安装APP，远程操作N1电视盒子</p>\n<p>充当遥控器，实现遥控器的绝大多数功能</p>\n<p>远程协助操作安卓电视盒子</p>\n<h1 id=\"怎么用\"><a href=\"#怎么用\" class=\"headerlink\" title=\"怎么用\"></a>怎么用</h1><h2 id=\"步骤\"><a href=\"#步骤\" class=\"headerlink\" title=\"步骤\"></a>步骤</h2><p>（前提是你已经可以配置了路由器的远程，我已经用frps和frpc远程穿透连接起来，再使用了NPM反代出路由器的WEB控制页面，这样一顿操作，后续实现会丝滑许多）</p>\n<ol>\n<li><p>激活N1安卓电视盒子，开机，或者按机顶盒的遥控器</p>\n<ol>\n<li>在路由器中找到安卓盒子（或者安卓电视）的IP地址</li>\n<li>检测是否激活设备的办法，ping 盒子的IP，如果已经ping通，请跳过这步</li>\n</ol>\n</li>\n<li><p>设置远程FRP服务器（服务端）</p>\n<ol>\n<li>具体参见文章：<a href=\"http://www.carlzeng.top/202312031926.html?highlight=docker%E6%90%AD%E5%BB%BAfrp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E6%9C%8D%E5%8A%A1\">Docker搭建FRP内网穿透服务</a>，如果已有frps服务器可用，请跳过这步</li>\n</ol>\n</li>\n<li><p>设置受控端机顶盒所在的路由器上的frpc客户端</p>\n<ol>\n<li>具体参见文章：<a href=\"http://www.carlzeng.top/202312031926.html?highlight=docker%E6%90%AD%E5%BB%BAfrp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E6%9C%8D%E5%8A%A1#%E8%AE%BE%E7%BD%AE%E5%BA%94%E7%94%A84\">Docker搭建FRP内网穿透服务&gt;设置应用4</a></li>\n</ol>\n</li>\n<li><p>adb连接命令  adb connect 192.168.6.216:5555</p>\n<ol>\n<li>检测是否connect就用： adb devices 看是否列出设备IP以及端口</li>\n</ol>\n</li>\n<li><p>[可选]adb安装命令 adb -s 192.168.6.216:5555 install ***.apk</p>\n<blockquote>\n<p>实例安装perfect player(注意：如果apk文件和路径复杂的话用双引号包裹)</p>\n<p>adb -s 192.168.6.216:5555 install “~&#x2F;Downloads&#x2F;com.niklabs.pp_1.6.0.1-60105_minAPI16(arm64-v8a)(nodpi)_apkmirror.com.apk”</p>\n</blockquote>\n</li>\n<li><p>远程查看屏幕并控制 scrcpy –tcpip&#x3D;192.168.6.216:5555</p>\n<ol>\n<li>具体参见文章：<a href=\"http://localhost:4000/202309190928.html?highlight=%E5%AE%89%E5%8D%93%E6%89%8B%E6%9C%BA%E6%8A%95%E5%B1%8F%E8%87%B3%E7%94%B5%E8%84%91,+%E7%94%B5%E8%84%91%E6%98%BE%E7%A4%BA%E5%92%8C%E6%8E%A7%E5%88%B6%E5%AE%89%E5%8D%93%E6%89%8B%E6%9C%BA,+%E6%89%8B%E6%9C%BA%E7%94%B5%E8%84%91%E5%90%8C%E5%B1%8F%E8%BD%AF%E4%BB%B6scrcpy%5D\">安卓手机投屏至电脑, 电脑显示和控制安卓手机, 手机电脑同屏软件Scrcpy</a></li>\n<li>控制的目标是用鼠标和键盘操作机顶盒或电视，鼠标点击打开APP，点击设置，键盘输入IPTV直播源</li>\n<li>[可选]其他任何可以用遥控器在本地操作的动作</li>\n</ol>\n</li>\n</ol>\n<h1 id=\"相关内容\"><a href=\"#相关内容\" class=\"headerlink\" title=\"相关内容\"></a>相关内容</h1><p>如果您对相关的 <a href=\"https://www.carlzeng.top/search?q=安卓\">安卓</a> <a href=\"https://www.carlzeng.top/search?q=盒子\">盒子</a> 感兴趣，以下内容可能帮到您：</p>\n<iframe style=\"box-shadow: 0px 0px 20px -10px;\" src=\"https://www.carlzeng.top/search?q=安卓\" frameborder=\"0\" scrolling=\"auto\" width=\"100%\" height=\"500\"></iframe>\n\n<h1 id=\"实现方法\"><a href=\"#实现方法\" class=\"headerlink\" title=\"实现方法\"></a>实现方法</h1><h2 id=\"现实问题\"><a href=\"#现实问题\" class=\"headerlink\" title=\"现实问题\"></a>现实问题</h2><ol start=\"2\">\n<li>要解决机顶盒连接二楼旁路由器，而远程协助的手机连接的是一楼的主路由</li>\n<li>如何知道悟空遥控是开放了什么端口？<ol>\n<li>这样打开才能正常扫描到机顶盒的</li>\n</ol>\n</li>\n</ol>\n<p>这个问题无解了，思路要换掉（无法使用悟空遥控的思路）</p>\n<p>远程控制手机的原理一样，但难度更大一点，太多安全设置成为远程协助的障碍，无法有效帮助到家里的老人。</p>\n<h2 id=\"步骤-方法-曲折过程\"><a href=\"#步骤-方法-曲折过程\" class=\"headerlink\" title=\"步骤&#x2F;方法&#x2F;曲折过程\"></a>步骤&#x2F;方法&#x2F;曲折过程</h2><p>[可选步骤]使用QtScrcpy, 来激活设备的步骤</p>\n<ol>\n<li>在QtScrcpy中设置，无线192.168.6.216，端口5555，点击“无线连接”<ol>\n<li>左侧的列表中出现，比如：Phone-192.168.6.216:5555; 应该是有adb run 一个命令；具体是什么？<ol>\n<li>adb run AdbProcessImpl::out:connected to 192.168.6.216:5555</li>\n<li>其实就是对应adb命令：adb connect 192.168.6.216:5555</li>\n</ol>\n</li>\n<li>点击：安装sndcpy</li>\n<li>点击：启动服务</li>\n</ol>\n</li>\n<li>在Terminal中输入scrcpy -e <ol>\n<li>之前的adb devices(显示列表是空的), 新增加的设备就是上一步连接好的设备（会显示IP:端口）</li>\n</ol>\n</li>\n</ol>\n<p>原来N1机顶盒（安卓）也可以使用scrcpy -e 来连接，从而进行远程控制；我说的是：从Mac电脑（其他的平台也一样）上远程控制机顶盒的页面，可以设置机顶盒的APP，这样避免老人需要使用遥控器来控制（进行复杂的操作，比如：配置DIYP的源地址，本身在遥控器上操控虚拟键盘按来按去就很费劲）</p>\n<h2 id=\"缺点-瑕疵\"><a href=\"#缺点-瑕疵\" class=\"headerlink\" title=\"缺点&#x2F;瑕疵\"></a>缺点&#x2F;瑕疵</h2><ol>\n<li><p>声音没有传输过来，不过没关系，又不是远程用来看电视的；话说回来，可以把这个N1做成服务，让用户可以远程连接来看IPTV和电影等等。</p>\n<ol>\n<li><p>原来是因为盒子Adndroid的版本太旧问题</p>\n<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">[server]</span> INFO: Device: <span class=\"section\">[Phicomm]</span> Phicomm p230 (Android 7.1.2)                                                       </span><br><span class=\"line\"><span class=\"section\">[server]</span> WARN: Audio disabled: it is not supported before Android 11                                                </span><br><span class=\"line\">INFO: Renderer: metal                                                                                               </span><br><span class=\"line\">WARN: Demuxer &#x27;audio&#x27;: stream explicitly disabled by the device   </span><br></pre></td></tr></table></figure></li>\n</ol>\n</li>\n<li><p>无法使用盒子遥控器上面的菜单按键，只能是左键单击</p>\n<ol>\n<li>不碍事，也够用了；只是不能远程设置某个APP开机自动启动罢了</li>\n</ol>\n</li>\n</ol>\n<h2 id=\"下一步-frp映射-穿透\"><a href=\"#下一步-frp映射-穿透\" class=\"headerlink\" title=\"下一步 frp映射&#x2F;穿透\"></a>下一步 frp映射&#x2F;穿透</h2><p>下一步就是前提设置中的：frp映射出5555来，配置frpc客户端；也成为穿透</p>\n<p>​\t面临在padavan中无法找到机顶盒的IP，不在WIFI里面里面（因为是使用网线连接的），如何找到N1盒子的IP？</p>\n<p>​\t通过padavan的UI查询：网络信息 &gt; 流量监控<a href=\"https://k2pzl.carlzeng.top:4443/Main_BWMon.asp\">https://k2pzl.carlzeng.top:4443/Main_BWMon.asp</a></p>\n<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">找到了服务器上frps的192.168.6.116:6006, frpc映射至192.168.123.189:5555</span><br></pre></td></tr></table></figure>\n\n<p>​\t到路由器上DHCP把机顶盒的IP绑定MAC，这样以后盒子的IP不会变frpc运行在路由器上面总能找到正确的盒子IP（定位准确）。</p>\n<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">这样scrcpy -e</span><br><span class=\"line\">就会显示两个客户端了！</span><br><span class=\"line\">scrcpy -e</span><br><span class=\"line\">scrcpy 2.1.1 &lt;https://github.com/Genymobile/scrcpy&gt;</span><br><span class=\"line\">ERROR: Multiple (2) ADB devices over TCP/IP:</span><br><span class=\"line\">ERROR:     --&gt; (tcpip)  192.168.6.116:6006              device  p230</span><br><span class=\"line\">ERROR:     --&gt; (tcpip)  192.168.6.216:5555              device  p230</span><br><span class=\"line\">ERROR: Select a device via -s (--serial), -d (--select-usb) or -e (--select-tcpip)</span><br><span class=\"line\">ERROR: Server connection failed</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#手动指定连接到那一个adb 5555 客户端（即便是被frp映射过的也一样）</span></span><br><span class=\"line\">scrcpy <span class=\"attr\">--tcpip</span>=<span class=\"number\">192.168</span>.<span class=\"number\">6.116</span>:<span class=\"number\">6006</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"下一步-scrcpy的远程控制\"><a href=\"#下一步-scrcpy的远程控制\" class=\"headerlink\" title=\"下一步 scrcpy的远程控制\"></a>下一步 scrcpy的远程控制</h2><p>如何通过scrcpy的远程控制，给N1安卓电视盒子安装APP</p>\n<p>理论上adb命令，可以轻松执行这个安装APP的目标（好像我之前写过方法：<a href=\"http://www.carlzeng.top/202304131802.html?highlight=adb\">苹果电脑M1上唯一可用的安卓模拟器-CarlZeng</a>）</p>\n<ol>\n<li>把要安装的APP，放在电脑本地的一个目录（假设～&#x2F;Downloads）</li>\n<li>用命令adb install &#x2F;*.apk</li>\n<li>具体过程：</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">- adb devices                                                                               </span><br><span class=\"line\">List of devices attached                                                                                            </span><br><span class=\"line\">192.168.6.116:6006      offline                                                                                     </span><br><span class=\"line\">192.168.6.216:5555      device  </span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">怎么手动选一个devices中的device?</span></span><br><span class=\"line\"></span><br><span class=\"line\">- adb install /Users/carlzeng/Downloads/DIYP影音经典版.apk</span><br><span class=\"line\">adb: more than one device/emulator</span><br><span class=\"line\">Use the -s option BEFORE the command to specify the device, for example:</span><br><span class=\"line\">adb -s 192.168.232.2:5555 &lt;command&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">- adb -s 7f1c864e shell</span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">这样的话，可以获得这个Android安卓设备的shell执行权限</span></span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">这个参数的内容和scrcpy是一样的，只是指定参数的方式一点点不一样罢了</span></span><br><span class=\"line\"></span><br><span class=\"line\">- adb -s 192.168.6.216:5555 install /Users/carlzeng/Downloads/DIYP影音经典版.apk</span><br><span class=\"line\">Performing Streamed Install</span><br><span class=\"line\">adb: failed to install /Users/carlzeng/Downloads/DIYP影音经典版.apk: Failure [INSTALL_FAILED_ALREADY_EXISTS: Attempt to re-install com.player.diyp2020 without first uninstalling.]</span><br><span class=\"line\"></span><br><span class=\"line\">- adb -s 192.168.6.216:5555 install /Users/carlzeng/Downloads/Love\\ TV\\ 20231127/Love\\ TV\\  简约版.apk</span><br></pre></td></tr></table></figure>\n\n\n\n<p>这样就可以安装好安卓N1盒子上面的APP了</p>\n<p>打开前面一步的scrcpy –tcpip&#x3D;192.168.6.116:6006进行远程控制画面，进去设置一下DIYP的源（老人控制遥控很有难度的）</p>\n<p>以后需要安装APP更新，换源等等，远程就能做到了，老人再也不用担心无法看电视。</p>\n<p>祝你好运</p>\n<h2 id=\"按需-删除盒子上APP\"><a href=\"#按需-删除盒子上APP\" class=\"headerlink\" title=\"[按需]删除盒子上APP\"></a>[按需]删除盒子上APP</h2><p>有两种方法：</p>\n<ol>\n<li>可视的方案是打开scrcpy，设置里面，有应用的选项，点击进去，在点卸载即可。</li>\n<li>命令的方式<ol>\n<li>adb -s 192.168.6.216:5555 shell pm list packages</li>\n<li>根据上一步的package名称使用 adb -s 192.168.6.216:5555 uninstall com.github.tvbox.osc.tk<ol>\n<li>adb -s 192.168.6.216:5555 uninstall com.fongmi.android.tv</li>\n</ol>\n</li>\n</ol>\n</li>\n</ol>\n<h1 id=\"故障与解决\"><a href=\"#故障与解决\" class=\"headerlink\" title=\"故障与解决\"></a>故障与解决</h1><p>frp映射穿透过来的ssh服务，无法连接上去</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh admin@192.168.6.116 -p 6008                                                     </span><br><span class=\"line\">Unable to negotiate with 192.168.6.116 port 6008: no matching key exchange method found. Their offer: diffie-hellman</span><br><span class=\"line\">-group14-sha1,diffie-hellman-group1-sha1,kexguess2@matt.ucc.asn.au  </span><br></pre></td></tr></table></figure>\n\n<p>修改了 ～&#x2F;.ssh&#x2F;config后</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">KexAlgorithms +diffie-hellman-group1-sha1                                                                         </span><br><span class=\"line\">Ciphers 3des-cbc</span><br></pre></td></tr></table></figure>\n\n<p>修改之后错误变成：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Unable to negotiate with 192.168.6.116 port 6008: no matching host key type found. Their offer: ssh-rsa,ssh-dss     </span><br></pre></td></tr></table></figure>\n\n\n\n<p>最后使用了解决办法:</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh -o HostKeyAlgorithms=+ssh-rsa -o PubkeyAcceptedAlgorithms=+ssh-rsa root@192.168.6.116 -p 6008</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">K2P SSH默认密码admin</span></span><br></pre></td></tr></table></figure>\n\n\n\n<p>这个SSH错误的灵感来源：<a href=\"https://support.genymotion.com/hc/en-us/articles/9500420360093-I-get-the-error-no-matching-host-key-type-found-Their-offer-ssh-rsa-when-trying-to-connect-with-SSH\">I get the error “no matching host key type found. Their offer: ssh-rsa” when trying to connect with SSH</a></p>\n<p>K2P使用的SSH密码是默认的admin（和WEB页面登录的密码不一样），好危险的后门行为（建议默认关闭K2P设备的SSH服务）</p>\n<h2 id=\"adb-shell-关机\"><a href=\"#adb-shell-关机\" class=\"headerlink\" title=\"adb shell 关机\"></a>adb shell 关机</h2><p>adb -s 192.168.6.216:5555 shell</p>\n<p>进入shell以后</p>\n<p>关机：reboot -p</p>\n<p>​\t关机以后无法使用网络唤醒了，小伙伴有没有办法？</p>\n<p>重启：reboot</p>\n<h2 id=\"K2P原版与刷机Note\"><a href=\"#K2P原版与刷机Note\" class=\"headerlink\" title=\"K2P原版与刷机Note\"></a>K2P原版与刷机Note</h2><p>K2P原版，用来做WIFI中继，是最稳的。在K2P系统里面的功能名称是：无线拓展。换句话说：想要用K2P实现无线中继，就刷回原版：</p>\n<p><img data-src=\"https://www.evernote.com/shard/s122/sh/3e5002dc-29d3-4798-9afe-35c866fd1f44/dD8Wf6kSoMKVd4xGx3Dosd6cvB0qdU1-rUJaG3s9HNW0UI6r310tqvkE8A/deep/0/image.png\" alt=\"K2P无线拓展\"></p>\n<blockquote>\n<p>我用这个原版，死活无法顺畅抓包IPTV数据包，最后盯上了tcpdump命令 tcpdump -i any -w &#x2F;tmp&#x2F;iptv.cap。 也下载好了Wireshark，可是没法把&#x2F;tmp下面的iptv.cap下载下来，找到办法（把文件挪到或mount到web的静态目录）：mv &#x2F;tmp&#x2F;iptv.cap &#x2F;www&#x2F;luci-static&#x2F;fonts&#x2F;iptv.cap 可是mv: write error: No space left on device</p>\n<p>mount –bind &#x2F;tmp&#x2F;iptv.cap &#x2F;www&#x2F;web-static&#x2F;fonts&#x2F;iptv.cap 同样也会因为空间大小的缘故报错。</p>\n<p>感谢方法来源：<a href=\"https://www.diygogogo.com/article/item/3989.html\">斐讯K2P B1版（博通方案）双频千兆路由 原厂固件备份方法</a></p>\n</blockquote>\n<p>想要特定的追求特定的功能模块，那就刷Padavan</p>\n<blockquote>\n<p>感想来自于不同版本的padavan，想要找一个自己满意的各个功能集成在一起的固件，不容易，愿意之一还在于这个款路由器的ROM大小有限，性能&#x2F;容量有限。</p>\n</blockquote>\n<p>想要找最原生的Openwrt功能就刷LEDE，或者OpenWrt K2P的版本</p>\n<p>总结来说：主要是从功能角度出发的，想要多个功能应用合并，才是难点，往往是注重于把最大的需求满足了；其他的，建议别集成&#x2F;折腾在这个主功能内的K2P中（可以把次要的功能&#x2F;应用放到其他的机器设备中），除非你会自己编译&#x2F;剪裁一个适合的固件版本（量体裁衣）</p>\n<p>现在我要找的是抓包</p>\n<h1 id=\"灵感来源\"><a href=\"#灵感来源\" class=\"headerlink\" title=\"灵感来源\"></a>灵感来源</h1><p><a href=\"http://www.carlzeng.top/202309190928.html?highlight=%E5%AE%89%E5%8D%93%E6%89%8B%E6%9C%BA%E6%8A%95%E5%B1%8F%E8%87%B3%E7%94%B5%E8%84%91,+%E7%94%B5%E8%84%91%E6%98%BE%E7%A4%BA%E5%92%8C%E6%8E%A7%E5%88%B6%E5%AE%89%E5%8D%93%E6%89%8B%E6%9C%BA,+%E6%89%8B%E6%9C%BA%E7%94%B5%E8%84%91%E5%90%8C%E5%B1%8F%E8%BD%AF%E4%BB%B6scrcpy%5D\">安卓手机投屏至电脑, 电脑显示和控制安卓手机, 手机电脑同屏软件Scrcpy-CarlZeng</a></p>\n<p><a href=\"http://www.carlzeng.top/202312031926.html?highlight=docker%E6%90%AD%E5%BB%BAfrp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E6%9C%8D%E5%8A%A1\">Docker搭建FRP内网穿透服务</a></p>\n<p><a href=\"http://www.carlzeng.top/202311032202.html?highlight=nginx+proxy+manager%E4%BF%AE%E5%A4%8D%E7%AC%94%E8%AE%B0\">Nginx Proxy Manager修复笔记</a></p>\n<p><a href=\"http://www.carlzeng.top/202308242111.html?highlight=nginx+proxy+manager%E4%BF%AE%E5%A4%8D%E7%AC%94%E8%AE%B0\">如何修改LEDE和X86_64位OpenWrt的默认80管理端口-CarlZeng</a></p>\n<p><a href=\"http://www.carlzeng.top/202310051529.html?highlight=nginx+proxy+manager%E4%BF%AE%E5%A4%8D%E7%AC%94%E8%AE%B0\">网络影视资源 - IPTV直播之电视台直播源</a></p>\n<p><a href=\"http://www.carlzeng.top/202304131802.html?highlight=%E5%AE%89%E5%8D%93%E6%89%8B%E6%9C%BA%E6%8A%95%E5%B1%8F%E8%87%B3%E7%94%B5%E8%84%91,+%E7%94%B5%E8%84%91%E6%98%BE%E7%A4%BA%E5%92%8C%E6%8E%A7%E5%88%B6%E5%AE%89%E5%8D%93%E6%89%8B%E6%9C%BA,+%E6%89%8B%E6%9C%BA%E7%94%B5%E8%84%91%E5%90%8C%E5%B1%8F%E8%BD%AF%E4%BB%B6scrcpy%5D\">苹果电脑M1上唯一可用的安卓模拟器-CarlZeng</a></p>\n<h1 id=\"延伸阅读和应用\"><a href=\"#延伸阅读和应用\" class=\"headerlink\" title=\"延伸阅读和应用\"></a>延伸阅读和应用</h1><p>刚才思路了一下共享机顶盒，然后想到scrcpy需要一个shell，有点像vnc需要一个客户端一样（条件太高），何不web化？然后搜索一下脑洞大开了：</p>\n<ol>\n<li>原来手机也可以docker化，在网页里面虚拟出一台手机来；但是这样做有哪些应用呢？（有什么卵用？）</li>\n<li>原来ws-scrcpy有这样的scrcpy web prototype, Web client for Genymobile&#x2F;scrcpy and more.<ol>\n<li>有这个东西，理论上很轻松就可以把盒子的画面实时同步到Web端（看电视电影那只是初级应用）</li>\n<li>更多的东西，安卓系统的设备，可以被远程实时观看+控制（比如：安卓手机，安卓电视，安卓盒子…)</li>\n</ol>\n</li>\n</ol>\n<p><a href=\"https://github.com/NetrisTV/ws-scrcpy\">Web client prototype for scrcpy</a></p>\n<p><a href=\"https://hostloc.com/thread-1067531-1-1.html\">用docker运行Android web版远程桌面，浏览器访问</a></p>\n<p><a href=\"https://www.vipiu.net/archives/2023/01/08/19071.html\">使用Docker运行ws-scrcpy：实现Android web远程桌面</a></p>\n<p><a href=\"https://blog.imoeq.com/scrcpy-run-a-android-web-page/\">使用Docker运行ws-scrcpy：实现Android web远程桌面</a></p>\n","more":"<h1 id=\"有什么用\"><a href=\"#有什么用\" class=\"headerlink\" title=\"有什么用\"></a>有什么用</h1><p>远程控制机顶盒，给老人的智能安卓机顶盒（或者安卓电视）安装IPTV类APP</p>\n<p>远程给家人的机顶盒安装APP，远程操作N1电视盒子</p>\n<p>充当遥控器，实现遥控器的绝大多数功能</p>\n<p>远程协助操作安卓电视盒子</p>\n<h1 id=\"怎么用\"><a href=\"#怎么用\" class=\"headerlink\" title=\"怎么用\"></a>怎么用</h1><h2 id=\"步骤\"><a href=\"#步骤\" class=\"headerlink\" title=\"步骤\"></a>步骤</h2><p>（前提是你已经可以配置了路由器的远程，我已经用frps和frpc远程穿透连接起来，再使用了NPM反代出路由器的WEB控制页面，这样一顿操作，后续实现会丝滑许多）</p>\n<ol>\n<li><p>激活N1安卓电视盒子，开机，或者按机顶盒的遥控器</p>\n<ol>\n<li>在路由器中找到安卓盒子（或者安卓电视）的IP地址</li>\n<li>检测是否激活设备的办法，ping 盒子的IP，如果已经ping通，请跳过这步</li>\n</ol>\n</li>\n<li><p>设置远程FRP服务器（服务端）</p>\n<ol>\n<li>具体参见文章：<a href=\"http://www.carlzeng.top/202312031926.html?highlight=docker%E6%90%AD%E5%BB%BAfrp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E6%9C%8D%E5%8A%A1\">Docker搭建FRP内网穿透服务</a>，如果已有frps服务器可用，请跳过这步</li>\n</ol>\n</li>\n<li><p>设置受控端机顶盒所在的路由器上的frpc客户端</p>\n<ol>\n<li>具体参见文章：<a href=\"http://www.carlzeng.top/202312031926.html?highlight=docker%E6%90%AD%E5%BB%BAfrp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E6%9C%8D%E5%8A%A1#%E8%AE%BE%E7%BD%AE%E5%BA%94%E7%94%A84\">Docker搭建FRP内网穿透服务&gt;设置应用4</a></li>\n</ol>\n</li>\n<li><p>adb连接命令  adb connect 192.168.6.216:5555</p>\n<ol>\n<li>检测是否connect就用： adb devices 看是否列出设备IP以及端口</li>\n</ol>\n</li>\n<li><p>[可选]adb安装命令 adb -s 192.168.6.216:5555 install ***.apk</p>\n<blockquote>\n<p>实例安装perfect player(注意：如果apk文件和路径复杂的话用双引号包裹)</p>\n<p>adb -s 192.168.6.216:5555 install “~&#x2F;Downloads&#x2F;com.niklabs.pp_1.6.0.1-60105_minAPI16(arm64-v8a)(nodpi)_apkmirror.com.apk”</p>\n</blockquote>\n</li>\n<li><p>远程查看屏幕并控制 scrcpy –tcpip&#x3D;192.168.6.216:5555</p>\n<ol>\n<li>具体参见文章：<a href=\"http://localhost:4000/202309190928.html?highlight=%E5%AE%89%E5%8D%93%E6%89%8B%E6%9C%BA%E6%8A%95%E5%B1%8F%E8%87%B3%E7%94%B5%E8%84%91,+%E7%94%B5%E8%84%91%E6%98%BE%E7%A4%BA%E5%92%8C%E6%8E%A7%E5%88%B6%E5%AE%89%E5%8D%93%E6%89%8B%E6%9C%BA,+%E6%89%8B%E6%9C%BA%E7%94%B5%E8%84%91%E5%90%8C%E5%B1%8F%E8%BD%AF%E4%BB%B6scrcpy%5D\">安卓手机投屏至电脑, 电脑显示和控制安卓手机, 手机电脑同屏软件Scrcpy</a></li>\n<li>控制的目标是用鼠标和键盘操作机顶盒或电视，鼠标点击打开APP，点击设置，键盘输入IPTV直播源</li>\n<li>[可选]其他任何可以用遥控器在本地操作的动作</li>\n</ol>\n</li>\n</ol>\n<h1 id=\"相关内容\"><a href=\"#相关内容\" class=\"headerlink\" title=\"相关内容\"></a>相关内容</h1><p>如果您对相关的 <a href=\"https://www.carlzeng.top/search?q=安卓\">安卓</a> <a href=\"https://www.carlzeng.top/search?q=盒子\">盒子</a> 感兴趣，以下内容可能帮到您：</p>\n<iframe style=\"box-shadow: 0px 0px 20px -10px;\" src=\"https://www.carlzeng.top/search?q=安卓\" frameborder=\"0\" scrolling=\"auto\" width=\"100%\" height=\"500\"></iframe>\n\n<h1 id=\"实现方法\"><a href=\"#实现方法\" class=\"headerlink\" title=\"实现方法\"></a>实现方法</h1><h2 id=\"现实问题\"><a href=\"#现实问题\" class=\"headerlink\" title=\"现实问题\"></a>现实问题</h2><ol start=\"2\">\n<li>要解决机顶盒连接二楼旁路由器，而远程协助的手机连接的是一楼的主路由</li>\n<li>如何知道悟空遥控是开放了什么端口？<ol>\n<li>这样打开才能正常扫描到机顶盒的</li>\n</ol>\n</li>\n</ol>\n<p>这个问题无解了，思路要换掉（无法使用悟空遥控的思路）</p>\n<p>远程控制手机的原理一样，但难度更大一点，太多安全设置成为远程协助的障碍，无法有效帮助到家里的老人。</p>\n<h2 id=\"步骤-方法-曲折过程\"><a href=\"#步骤-方法-曲折过程\" class=\"headerlink\" title=\"步骤&#x2F;方法&#x2F;曲折过程\"></a>步骤&#x2F;方法&#x2F;曲折过程</h2><p>[可选步骤]使用QtScrcpy, 来激活设备的步骤</p>\n<ol>\n<li>在QtScrcpy中设置，无线192.168.6.216，端口5555，点击“无线连接”<ol>\n<li>左侧的列表中出现，比如：Phone-192.168.6.216:5555; 应该是有adb run 一个命令；具体是什么？<ol>\n<li>adb run AdbProcessImpl::out:connected to 192.168.6.216:5555</li>\n<li>其实就是对应adb命令：adb connect 192.168.6.216:5555</li>\n</ol>\n</li>\n<li>点击：安装sndcpy</li>\n<li>点击：启动服务</li>\n</ol>\n</li>\n<li>在Terminal中输入scrcpy -e <ol>\n<li>之前的adb devices(显示列表是空的), 新增加的设备就是上一步连接好的设备（会显示IP:端口）</li>\n</ol>\n</li>\n</ol>\n<p>原来N1机顶盒（安卓）也可以使用scrcpy -e 来连接，从而进行远程控制；我说的是：从Mac电脑（其他的平台也一样）上远程控制机顶盒的页面，可以设置机顶盒的APP，这样避免老人需要使用遥控器来控制（进行复杂的操作，比如：配置DIYP的源地址，本身在遥控器上操控虚拟键盘按来按去就很费劲）</p>\n<h2 id=\"缺点-瑕疵\"><a href=\"#缺点-瑕疵\" class=\"headerlink\" title=\"缺点&#x2F;瑕疵\"></a>缺点&#x2F;瑕疵</h2><ol>\n<li><p>声音没有传输过来，不过没关系，又不是远程用来看电视的；话说回来，可以把这个N1做成服务，让用户可以远程连接来看IPTV和电影等等。</p>\n<ol>\n<li><p>原来是因为盒子Adndroid的版本太旧问题</p>\n<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">[server]</span> INFO: Device: <span class=\"section\">[Phicomm]</span> Phicomm p230 (Android 7.1.2)                                                       </span><br><span class=\"line\"><span class=\"section\">[server]</span> WARN: Audio disabled: it is not supported before Android 11                                                </span><br><span class=\"line\">INFO: Renderer: metal                                                                                               </span><br><span class=\"line\">WARN: Demuxer &#x27;audio&#x27;: stream explicitly disabled by the device   </span><br></pre></td></tr></table></figure></li>\n</ol>\n</li>\n<li><p>无法使用盒子遥控器上面的菜单按键，只能是左键单击</p>\n<ol>\n<li>不碍事，也够用了；只是不能远程设置某个APP开机自动启动罢了</li>\n</ol>\n</li>\n</ol>\n<h2 id=\"下一步-frp映射-穿透\"><a href=\"#下一步-frp映射-穿透\" class=\"headerlink\" title=\"下一步 frp映射&#x2F;穿透\"></a>下一步 frp映射&#x2F;穿透</h2><p>下一步就是前提设置中的：frp映射出5555来，配置frpc客户端；也成为穿透</p>\n<p>​\t面临在padavan中无法找到机顶盒的IP，不在WIFI里面里面（因为是使用网线连接的），如何找到N1盒子的IP？</p>\n<p>​\t通过padavan的UI查询：网络信息 &gt; 流量监控<a href=\"https://k2pzl.carlzeng.top:4443/Main_BWMon.asp\">https://k2pzl.carlzeng.top:4443/Main_BWMon.asp</a></p>\n<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">找到了服务器上frps的192.168.6.116:6006, frpc映射至192.168.123.189:5555</span><br></pre></td></tr></table></figure>\n\n<p>​\t到路由器上DHCP把机顶盒的IP绑定MAC，这样以后盒子的IP不会变frpc运行在路由器上面总能找到正确的盒子IP（定位准确）。</p>\n<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">这样scrcpy -e</span><br><span class=\"line\">就会显示两个客户端了！</span><br><span class=\"line\">scrcpy -e</span><br><span class=\"line\">scrcpy 2.1.1 &lt;https://github.com/Genymobile/scrcpy&gt;</span><br><span class=\"line\">ERROR: Multiple (2) ADB devices over TCP/IP:</span><br><span class=\"line\">ERROR:     --&gt; (tcpip)  192.168.6.116:6006              device  p230</span><br><span class=\"line\">ERROR:     --&gt; (tcpip)  192.168.6.216:5555              device  p230</span><br><span class=\"line\">ERROR: Select a device via -s (--serial), -d (--select-usb) or -e (--select-tcpip)</span><br><span class=\"line\">ERROR: Server connection failed</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#手动指定连接到那一个adb 5555 客户端（即便是被frp映射过的也一样）</span></span><br><span class=\"line\">scrcpy <span class=\"attr\">--tcpip</span>=<span class=\"number\">192.168</span>.<span class=\"number\">6.116</span>:<span class=\"number\">6006</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"下一步-scrcpy的远程控制\"><a href=\"#下一步-scrcpy的远程控制\" class=\"headerlink\" title=\"下一步 scrcpy的远程控制\"></a>下一步 scrcpy的远程控制</h2><p>如何通过scrcpy的远程控制，给N1安卓电视盒子安装APP</p>\n<p>理论上adb命令，可以轻松执行这个安装APP的目标（好像我之前写过方法：<a href=\"http://www.carlzeng.top/202304131802.html?highlight=adb\">苹果电脑M1上唯一可用的安卓模拟器-CarlZeng</a>）</p>\n<ol>\n<li>把要安装的APP，放在电脑本地的一个目录（假设～&#x2F;Downloads）</li>\n<li>用命令adb install &#x2F;*.apk</li>\n<li>具体过程：</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">- adb devices                                                                               </span><br><span class=\"line\">List of devices attached                                                                                            </span><br><span class=\"line\">192.168.6.116:6006      offline                                                                                     </span><br><span class=\"line\">192.168.6.216:5555      device  </span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">怎么手动选一个devices中的device?</span></span><br><span class=\"line\"></span><br><span class=\"line\">- adb install /Users/carlzeng/Downloads/DIYP影音经典版.apk</span><br><span class=\"line\">adb: more than one device/emulator</span><br><span class=\"line\">Use the -s option BEFORE the command to specify the device, for example:</span><br><span class=\"line\">adb -s 192.168.232.2:5555 &lt;command&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">- adb -s 7f1c864e shell</span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">这样的话，可以获得这个Android安卓设备的shell执行权限</span></span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">这个参数的内容和scrcpy是一样的，只是指定参数的方式一点点不一样罢了</span></span><br><span class=\"line\"></span><br><span class=\"line\">- adb -s 192.168.6.216:5555 install /Users/carlzeng/Downloads/DIYP影音经典版.apk</span><br><span class=\"line\">Performing Streamed Install</span><br><span class=\"line\">adb: failed to install /Users/carlzeng/Downloads/DIYP影音经典版.apk: Failure [INSTALL_FAILED_ALREADY_EXISTS: Attempt to re-install com.player.diyp2020 without first uninstalling.]</span><br><span class=\"line\"></span><br><span class=\"line\">- adb -s 192.168.6.216:5555 install /Users/carlzeng/Downloads/Love\\ TV\\ 20231127/Love\\ TV\\  简约版.apk</span><br></pre></td></tr></table></figure>\n\n\n\n<p>这样就可以安装好安卓N1盒子上面的APP了</p>\n<p>打开前面一步的scrcpy –tcpip&#x3D;192.168.6.116:6006进行远程控制画面，进去设置一下DIYP的源（老人控制遥控很有难度的）</p>\n<p>以后需要安装APP更新，换源等等，远程就能做到了，老人再也不用担心无法看电视。</p>\n<p>祝你好运</p>\n<h2 id=\"按需-删除盒子上APP\"><a href=\"#按需-删除盒子上APP\" class=\"headerlink\" title=\"[按需]删除盒子上APP\"></a>[按需]删除盒子上APP</h2><p>有两种方法：</p>\n<ol>\n<li>可视的方案是打开scrcpy，设置里面，有应用的选项，点击进去，在点卸载即可。</li>\n<li>命令的方式<ol>\n<li>adb -s 192.168.6.216:5555 shell pm list packages</li>\n<li>根据上一步的package名称使用 adb -s 192.168.6.216:5555 uninstall com.github.tvbox.osc.tk<ol>\n<li>adb -s 192.168.6.216:5555 uninstall com.fongmi.android.tv</li>\n</ol>\n</li>\n</ol>\n</li>\n</ol>\n<h1 id=\"故障与解决\"><a href=\"#故障与解决\" class=\"headerlink\" title=\"故障与解决\"></a>故障与解决</h1><p>frp映射穿透过来的ssh服务，无法连接上去</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh admin@192.168.6.116 -p 6008                                                     </span><br><span class=\"line\">Unable to negotiate with 192.168.6.116 port 6008: no matching key exchange method found. Their offer: diffie-hellman</span><br><span class=\"line\">-group14-sha1,diffie-hellman-group1-sha1,kexguess2@matt.ucc.asn.au  </span><br></pre></td></tr></table></figure>\n\n<p>修改了 ～&#x2F;.ssh&#x2F;config后</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">KexAlgorithms +diffie-hellman-group1-sha1                                                                         </span><br><span class=\"line\">Ciphers 3des-cbc</span><br></pre></td></tr></table></figure>\n\n<p>修改之后错误变成：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Unable to negotiate with 192.168.6.116 port 6008: no matching host key type found. Their offer: ssh-rsa,ssh-dss     </span><br></pre></td></tr></table></figure>\n\n\n\n<p>最后使用了解决办法:</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh -o HostKeyAlgorithms=+ssh-rsa -o PubkeyAcceptedAlgorithms=+ssh-rsa root@192.168.6.116 -p 6008</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">K2P SSH默认密码admin</span></span><br></pre></td></tr></table></figure>\n\n\n\n<p>这个SSH错误的灵感来源：<a href=\"https://support.genymotion.com/hc/en-us/articles/9500420360093-I-get-the-error-no-matching-host-key-type-found-Their-offer-ssh-rsa-when-trying-to-connect-with-SSH\">I get the error “no matching host key type found. Their offer: ssh-rsa” when trying to connect with SSH</a></p>\n<p>K2P使用的SSH密码是默认的admin（和WEB页面登录的密码不一样），好危险的后门行为（建议默认关闭K2P设备的SSH服务）</p>\n<h2 id=\"adb-shell-关机\"><a href=\"#adb-shell-关机\" class=\"headerlink\" title=\"adb shell 关机\"></a>adb shell 关机</h2><p>adb -s 192.168.6.216:5555 shell</p>\n<p>进入shell以后</p>\n<p>关机：reboot -p</p>\n<p>​\t关机以后无法使用网络唤醒了，小伙伴有没有办法？</p>\n<p>重启：reboot</p>\n<h2 id=\"K2P原版与刷机Note\"><a href=\"#K2P原版与刷机Note\" class=\"headerlink\" title=\"K2P原版与刷机Note\"></a>K2P原版与刷机Note</h2><p>K2P原版，用来做WIFI中继，是最稳的。在K2P系统里面的功能名称是：无线拓展。换句话说：想要用K2P实现无线中继，就刷回原版：</p>\n<p><img data-src=\"https://www.evernote.com/shard/s122/sh/3e5002dc-29d3-4798-9afe-35c866fd1f44/dD8Wf6kSoMKVd4xGx3Dosd6cvB0qdU1-rUJaG3s9HNW0UI6r310tqvkE8A/deep/0/image.png\" alt=\"K2P无线拓展\"></p>\n<blockquote>\n<p>我用这个原版，死活无法顺畅抓包IPTV数据包，最后盯上了tcpdump命令 tcpdump -i any -w &#x2F;tmp&#x2F;iptv.cap。 也下载好了Wireshark，可是没法把&#x2F;tmp下面的iptv.cap下载下来，找到办法（把文件挪到或mount到web的静态目录）：mv &#x2F;tmp&#x2F;iptv.cap &#x2F;www&#x2F;luci-static&#x2F;fonts&#x2F;iptv.cap 可是mv: write error: No space left on device</p>\n<p>mount –bind &#x2F;tmp&#x2F;iptv.cap &#x2F;www&#x2F;web-static&#x2F;fonts&#x2F;iptv.cap 同样也会因为空间大小的缘故报错。</p>\n<p>感谢方法来源：<a href=\"https://www.diygogogo.com/article/item/3989.html\">斐讯K2P B1版（博通方案）双频千兆路由 原厂固件备份方法</a></p>\n</blockquote>\n<p>想要特定的追求特定的功能模块，那就刷Padavan</p>\n<blockquote>\n<p>感想来自于不同版本的padavan，想要找一个自己满意的各个功能集成在一起的固件，不容易，愿意之一还在于这个款路由器的ROM大小有限，性能&#x2F;容量有限。</p>\n</blockquote>\n<p>想要找最原生的Openwrt功能就刷LEDE，或者OpenWrt K2P的版本</p>\n<p>总结来说：主要是从功能角度出发的，想要多个功能应用合并，才是难点，往往是注重于把最大的需求满足了；其他的，建议别集成&#x2F;折腾在这个主功能内的K2P中（可以把次要的功能&#x2F;应用放到其他的机器设备中），除非你会自己编译&#x2F;剪裁一个适合的固件版本（量体裁衣）</p>\n<p>现在我要找的是抓包</p>\n<h1 id=\"灵感来源\"><a href=\"#灵感来源\" class=\"headerlink\" title=\"灵感来源\"></a>灵感来源</h1><p><a href=\"http://www.carlzeng.top/202309190928.html?highlight=%E5%AE%89%E5%8D%93%E6%89%8B%E6%9C%BA%E6%8A%95%E5%B1%8F%E8%87%B3%E7%94%B5%E8%84%91,+%E7%94%B5%E8%84%91%E6%98%BE%E7%A4%BA%E5%92%8C%E6%8E%A7%E5%88%B6%E5%AE%89%E5%8D%93%E6%89%8B%E6%9C%BA,+%E6%89%8B%E6%9C%BA%E7%94%B5%E8%84%91%E5%90%8C%E5%B1%8F%E8%BD%AF%E4%BB%B6scrcpy%5D\">安卓手机投屏至电脑, 电脑显示和控制安卓手机, 手机电脑同屏软件Scrcpy-CarlZeng</a></p>\n<p><a href=\"http://www.carlzeng.top/202312031926.html?highlight=docker%E6%90%AD%E5%BB%BAfrp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E6%9C%8D%E5%8A%A1\">Docker搭建FRP内网穿透服务</a></p>\n<p><a href=\"http://www.carlzeng.top/202311032202.html?highlight=nginx+proxy+manager%E4%BF%AE%E5%A4%8D%E7%AC%94%E8%AE%B0\">Nginx Proxy Manager修复笔记</a></p>\n<p><a href=\"http://www.carlzeng.top/202308242111.html?highlight=nginx+proxy+manager%E4%BF%AE%E5%A4%8D%E7%AC%94%E8%AE%B0\">如何修改LEDE和X86_64位OpenWrt的默认80管理端口-CarlZeng</a></p>\n<p><a href=\"http://www.carlzeng.top/202310051529.html?highlight=nginx+proxy+manager%E4%BF%AE%E5%A4%8D%E7%AC%94%E8%AE%B0\">网络影视资源 - IPTV直播之电视台直播源</a></p>\n<p><a href=\"http://www.carlzeng.top/202304131802.html?highlight=%E5%AE%89%E5%8D%93%E6%89%8B%E6%9C%BA%E6%8A%95%E5%B1%8F%E8%87%B3%E7%94%B5%E8%84%91,+%E7%94%B5%E8%84%91%E6%98%BE%E7%A4%BA%E5%92%8C%E6%8E%A7%E5%88%B6%E5%AE%89%E5%8D%93%E6%89%8B%E6%9C%BA,+%E6%89%8B%E6%9C%BA%E7%94%B5%E8%84%91%E5%90%8C%E5%B1%8F%E8%BD%AF%E4%BB%B6scrcpy%5D\">苹果电脑M1上唯一可用的安卓模拟器-CarlZeng</a></p>\n<h1 id=\"延伸阅读和应用\"><a href=\"#延伸阅读和应用\" class=\"headerlink\" title=\"延伸阅读和应用\"></a>延伸阅读和应用</h1><p>刚才思路了一下共享机顶盒，然后想到scrcpy需要一个shell，有点像vnc需要一个客户端一样（条件太高），何不web化？然后搜索一下脑洞大开了：</p>\n<ol>\n<li>原来手机也可以docker化，在网页里面虚拟出一台手机来；但是这样做有哪些应用呢？（有什么卵用？）</li>\n<li>原来ws-scrcpy有这样的scrcpy web prototype, Web client for Genymobile&#x2F;scrcpy and more.<ol>\n<li>有这个东西，理论上很轻松就可以把盒子的画面实时同步到Web端（看电视电影那只是初级应用）</li>\n<li>更多的东西，安卓系统的设备，可以被远程实时观看+控制（比如：安卓手机，安卓电视，安卓盒子…)</li>\n</ol>\n</li>\n</ol>\n<p><a href=\"https://github.com/NetrisTV/ws-scrcpy\">Web client prototype for scrcpy</a></p>\n<p><a href=\"https://hostloc.com/thread-1067531-1-1.html\">用docker运行Android web版远程桌面，浏览器访问</a></p>\n<p><a href=\"https://www.vipiu.net/archives/2023/01/08/19071.html\">使用Docker运行ws-scrcpy：实现Android web远程桌面</a></p>\n<p><a href=\"https://blog.imoeq.com/scrcpy-run-a-android-web-page/\">使用Docker运行ws-scrcpy：实现Android web远程桌面</a></p>","categories":[{"name":"IPTV","path":"api/categories/IPTV.json"}],"tags":[{"name":"安卓","path":"api/tags/安卓.json"},{"name":"家宽","path":"api/tags/家宽.json"},{"name":"机顶盒","path":"api/tags/机顶盒.json"},{"name":"Android","path":"api/tags/Android.json"},{"name":"frpc","path":"api/tags/frpc.json"},{"name":"frps","path":"api/tags/frps.json"},{"name":"iptv","path":"api/tags/iptv.json"},{"name":"N1","path":"api/tags/N1.json"},{"name":"远程控制","path":"api/tags/远程控制.json"},{"name":"frp","path":"api/tags/frp.json"}]}