{"title":"PVE安装Windows7","slug":"PVE安装windows7","date":"2024-05-20T10:39:39.000Z","updated":"2024-06-07T08:36:56.581Z","comments":true,"path":"api/articles/PVE安装windows7.json","excerpt":" [Figure] ProxmoxVE pve安装win7系统，安装Windows 10和Windows 11也是一样的流程&#x2F;设置","covers":["https://img.carlzeng.top:3/i/2024/05/20/664b36bc3fac1.png","https://img.carlzeng.top:3/i/2024/05/20/664b3a51da299.png","https://img.carlzeng.top:3/i/2024/05/20/664b36bc3fac1.png","https://img.carlzeng.top:3/i/2024/05/20/664b394b71f68.png","https://img.carlzeng.top:3/i/2024/05/20/664b39f9b2949.png","https://img.carlzeng.top:3/i/2024/05/20/664b429deb7ca.png","https://img.carlzeng.top:3/i/2024/05/20/664b457cb47bc.png","https://img.carlzeng.top:3/i/2024/05/20/664b44cd81b1f.png","https://img.carlzeng.top:3/i/2024/05/20/664b44f622353.png"],"content":"<img class=\"lozad\" data-src=\"https://img.carlzeng.top:3/i/2024/05/20/664b36bc3fac1.png\">\n\n<p>ProxmoxVE pve安装win7系统，安装Windows 10和Windows 11也是一样的流程&#x2F;设置</p>\n<span id=\"more\"></span>\n\n<div> \n<button onclick=\"synthesizeSpeech()\">朗读全文</button>\n</div>\n<audio controls id=\"audioPlayer\">Your browser does not support the audio element.</audio>      \n<script>\n  function synthesizeSpeech() { \n    var inputText = document.getElementsByClassName('post-block')[0].innerText;\n    var voice = \"ZH\";\n    var url = 'https://tts.carlzeng.top:3/speech?text=' + encodeURIComponent(inputText.substring(0,3000)) + '&voice=' + voice;\n    var audioPlayer = document.getElementById('audioPlayer');          \n    audioPlayer.src = url;\n    audioPlayer.load();\n    audioPlayer.play();\n  }\n</script>\n\n\n<h1 id=\"有什么用\"><a href=\"#有什么用\" class=\"headerlink\" title=\"有什么用\"></a>有什么用</h1><p>分享整个PVE重新安装Windows 7 的过程</p>\n<p>J4125已经有Window2008了，用来承载服务端应用还是妥妥的；可是最近搞硬件，CH341A土豪金24&#x2F;25编程器软件支持的平台只有Windows XP，Windows 7，Windows 8之类的，无法在Window2008上运行（运行提示错误）；许多定制的应用还是很依赖特定平台+版本的。</p>\n<p>背景：其实之前已经安装一次Windows 7，结果PVE网页平台的连接超时，导致我误以为系统坏了，进PVE的shell误删了整个文件：vm-100-disk-0.qcow2；我用以前备份的同名文件（Windows 2008）scp上传到PVE中以后，启动，发现即便界面的控制台无法连接（Connection TImeout）也是可以ping通系统。</p>\n<h1 id=\"怎么用-准备\"><a href=\"#怎么用-准备\" class=\"headerlink\" title=\"怎么用&#x2F;准备\"></a>怎么用&#x2F;准备</h1><p>PVE磁盘空间（比如磁盘有空余空间，或者新的磁盘）至少32GB</p>\n<p>在磁盘卷的ISO镜像目录下，上传文件：</p>\n<ul>\n<li>virtio-win-0.1.240.iso</li>\n<li>cn_windows_7_ultimate_with_sp1_x64_dvd_u_677408.iso<ul>\n<li>注意它必须是Window原始的CD磁盘ISO文件，不能是GHOST用的iso（这一步我踩了很多坑）</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"相关内容\"><a href=\"#相关内容\" class=\"headerlink\" title=\"相关内容\"></a>相关内容</h1><iframe style=\"box-shadow: 0px 0px 20px -10px;\" src=\"https://query.carlzeng.top:3/appsearch?q=pve\" frameborder=\"0\" scrolling=\"auto\" width=\"100%\" height=\"500\"></iframe>\n\n<h1 id=\"实现方法-步骤\"><a href=\"#实现方法-步骤\" class=\"headerlink\" title=\"实现方法&amp;步骤\"></a>实现方法&amp;步骤</h1><h2 id=\"创建虚拟机\"><a href=\"#创建虚拟机\" class=\"headerlink\" title=\"创建虚拟机\"></a>创建虚拟机</h2><p><img data-src=\"https://img.carlzeng.top:3/i/2024/05/20/664b3a51da299.png\" alt=\"image-20240520195559536\"></p>\n<p>这里显卡选择SPICE，bios选择seabios。win7对EFI不友好</p>\n<p>这里选择SCSI磁盘</p>\n<p>网卡，选择virtio网卡</p>\n<p>创建完成之后，再添加一个CD驱动器，选择vitio驱动光盘</p>\n<p><a href=\"https://fedorapeople.org/groups/virt/virtio-win/direct-downloads/latest-virtio/virtio-win.iso\">vitio-windows驱动下载</a></p>\n<p>配置好就可以开机了</p>\n<p><img data-src=\"https://img.carlzeng.top:3/i/2024/05/20/664b36bc3fac1.png\" alt=\"image-20240520194041739\"></p>\n<p>安装过程中找不到硬盘就得用到之前的PVE中设置的那个新的CDROM，加载驱动：</p>\n<h2 id=\"硬盘驱动\"><a href=\"#硬盘驱动\" class=\"headerlink\" title=\"硬盘驱动\"></a>硬盘驱动</h2><p>这个地方要注意：添加CDROM（指定驱动虚拟磁盘iso文件）的时候要把类型选成IDE，否则会因为是scsi而无法识别。</p>\n<p><img data-src=\"https://img.carlzeng.top:3/i/2024/05/20/664b394b71f68.png\" alt=\"image-20240520195130170\"></p>\n<p><img data-src=\"https://img.carlzeng.top:3/i/2024/05/20/664b39f9b2949.png\" alt=\"image-20240520195430707\"></p>\n<p>最后安装完成进入系统。这时，只有磁盘驱动，其他驱动都没，需要安装。</p>\n<p>选中任意一个感叹号设备，右击更新驱动，选择浏览计算机以查找驱动（还是用到vitio驱动光盘）</p>\n<p>过一会儿，Windows安装成功。</p>\n<h2 id=\"设备驱动\"><a href=\"#设备驱动\" class=\"headerlink\" title=\"设备驱动\"></a>设备驱动</h2><p>请根据上面的例子，把所有的未知驱动安装了，并且把显卡驱动也安装了~~</p>\n<p><img data-src=\"https://img.carlzeng.top:3/i/2024/05/20/664b429deb7ca.png\" alt=\"image-20240520203124115\"></p>\n<p>是的，现在我可以随时切换使用虚拟中的Windows 2008 和 Windows 7</p>\n<p><img data-src=\"https://img.carlzeng.top:3/i/2024/05/20/664b457cb47bc.png\" alt=\"image-20240520204339181\"></p>\n<h2 id=\"运行CH341A编程器\"><a href=\"#运行CH341A编程器\" class=\"headerlink\" title=\"运行CH341A编程器\"></a>运行CH341A编程器</h2><p>成功在Win7下运行中土豪金CH341A编程器（USB主板路由液晶BIOS&#x2F;FLASH&#x2F;24&#x2F;25烧录器）所依赖的驱动和程序了：</p>\n<p><img data-src=\"https://img.carlzeng.top:3/i/2024/05/20/664b44cd81b1f.png\" alt=\"image-20240520204043318\"></p>\n<p><img data-src=\"https://img.carlzeng.top:3/i/2024/05/20/664b44f622353.png\" alt=\"image-20240520204124632\"></p>\n<h1 id=\"修改硬件后停止再启动\"><a href=\"#修改硬件后停止再启动\" class=\"headerlink\" title=\"修改硬件后停止再启动\"></a>修改硬件后停止再启动</h1><p>修改了硬件信息，比如添加了USB的映射，加载CDROM等等硬件信息编辑&#x2F;改动</p>\n<p>千万不要关机，开机….(我就是这么把Win2008又给整出毛病了)。 正确的姿势是：</p>\n<ol>\n<li>PVE的虚拟机（Win7）右键 -》 停止，然后等待整个机器被停止。</li>\n<li>PVE的虚拟机（Win7）右键 -》开启</li>\n</ol>\n<p>安装USB驱动，反复重试多次无法安装&#x2F;识别U盘。</p>\n<p>最后还是下载安装了Win7的USB驱动解决了：<a href=\"https://www.xitongzhijia.net/soft/199964.html\">USB万能驱动Win7 V3.0</a></p>\n<h1 id=\"Win10安装\"><a href=\"#Win10安装\" class=\"headerlink\" title=\"Win10安装\"></a>Win10安装</h1><p>Win10的安装步骤和这个一摸一样，装好后，选择网卡的驱动程序，还是需要指向虚拟的光驱。</p>\n<p>然而该PVE虚拟机的版本还不支持连接&#x2F;识别微软Xbox的series手柄。</p>\n<p>先用Ventoy做一个可启动的U盘（也可以使用<a href=\"https://www.wepe.com.cn/download.html\">微PE工具箱下载</a>），然后把Windows X 的GHOST文件放在U盘根目录，就可以搭配来使用了</p>\n<p><a href=\"https://apphot.cc/27236.html\">微PE工具箱 v2.3 正式版 (2023.06.22)</a></p>\n<p>里面就包含Diskgenius 等实用工具，一同放到维护U盘中；</p>\n<p>体验下来：</p>\n<ul>\n<li><p>这个微PE工具箱里面的磁盘工具非常好用。</p>\n</li>\n<li><p>PVE的这个安装必须是纯净版Windows的安装，而电脑PC实体机器，直接用下载好的GHOST版Win10或Win11（一般会自动帮忙激活系统等等操作，比如：YLFM，DEEP），直接还原到磁盘的主分区即可（当然用逻辑分区也可以，已实践过）。</p>\n</li>\n</ul>\n<h1 id=\"灵感来源\"><a href=\"#灵感来源\" class=\"headerlink\" title=\"灵感来源\"></a>灵感来源</h1><p><a href=\"https://foxi.buduanwang.vip/vdi/526.html/\">ProxmoxVE pve安装win7系统（多图）</a></p>\n","more":"<div> \n<button onclick=\"synthesizeSpeech()\">朗读全文</button>\n</div>\n<audio controls id=\"audioPlayer\">Your browser does not support the audio element.</audio>      \n<script>\n  function synthesizeSpeech() { \n    var inputText = document.getElementsByClassName('post-block')[0].innerText;\n    var voice = \"ZH\";\n    var url = 'https://tts.carlzeng.top:3/speech?text=' + encodeURIComponent(inputText.substring(0,3000)) + '&voice=' + voice;\n    var audioPlayer = document.getElementById('audioPlayer');          \n    audioPlayer.src = url;\n    audioPlayer.load();\n    audioPlayer.play();\n  }\n</script>\n\n\n<h1 id=\"有什么用\"><a href=\"#有什么用\" class=\"headerlink\" title=\"有什么用\"></a>有什么用</h1><p>分享整个PVE重新安装Windows 7 的过程</p>\n<p>J4125已经有Window2008了，用来承载服务端应用还是妥妥的；可是最近搞硬件，CH341A土豪金24&#x2F;25编程器软件支持的平台只有Windows XP，Windows 7，Windows 8之类的，无法在Window2008上运行（运行提示错误）；许多定制的应用还是很依赖特定平台+版本的。</p>\n<p>背景：其实之前已经安装一次Windows 7，结果PVE网页平台的连接超时，导致我误以为系统坏了，进PVE的shell误删了整个文件：vm-100-disk-0.qcow2；我用以前备份的同名文件（Windows 2008）scp上传到PVE中以后，启动，发现即便界面的控制台无法连接（Connection TImeout）也是可以ping通系统。</p>\n<h1 id=\"怎么用-准备\"><a href=\"#怎么用-准备\" class=\"headerlink\" title=\"怎么用&#x2F;准备\"></a>怎么用&#x2F;准备</h1><p>PVE磁盘空间（比如磁盘有空余空间，或者新的磁盘）至少32GB</p>\n<p>在磁盘卷的ISO镜像目录下，上传文件：</p>\n<ul>\n<li>virtio-win-0.1.240.iso</li>\n<li>cn_windows_7_ultimate_with_sp1_x64_dvd_u_677408.iso<ul>\n<li>注意它必须是Window原始的CD磁盘ISO文件，不能是GHOST用的iso（这一步我踩了很多坑）</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"相关内容\"><a href=\"#相关内容\" class=\"headerlink\" title=\"相关内容\"></a>相关内容</h1><iframe style=\"box-shadow: 0px 0px 20px -10px;\" src=\"https://query.carlzeng.top:3/appsearch?q=pve\" frameborder=\"0\" scrolling=\"auto\" width=\"100%\" height=\"500\"></iframe>\n\n<h1 id=\"实现方法-步骤\"><a href=\"#实现方法-步骤\" class=\"headerlink\" title=\"实现方法&amp;步骤\"></a>实现方法&amp;步骤</h1><h2 id=\"创建虚拟机\"><a href=\"#创建虚拟机\" class=\"headerlink\" title=\"创建虚拟机\"></a>创建虚拟机</h2><p><img data-src=\"https://img.carlzeng.top:3/i/2024/05/20/664b3a51da299.png\" alt=\"image-20240520195559536\"></p>\n<p>这里显卡选择SPICE，bios选择seabios。win7对EFI不友好</p>\n<p>这里选择SCSI磁盘</p>\n<p>网卡，选择virtio网卡</p>\n<p>创建完成之后，再添加一个CD驱动器，选择vitio驱动光盘</p>\n<p><a href=\"https://fedorapeople.org/groups/virt/virtio-win/direct-downloads/latest-virtio/virtio-win.iso\">vitio-windows驱动下载</a></p>\n<p>配置好就可以开机了</p>\n<p><img data-src=\"https://img.carlzeng.top:3/i/2024/05/20/664b36bc3fac1.png\" alt=\"image-20240520194041739\"></p>\n<p>安装过程中找不到硬盘就得用到之前的PVE中设置的那个新的CDROM，加载驱动：</p>\n<h2 id=\"硬盘驱动\"><a href=\"#硬盘驱动\" class=\"headerlink\" title=\"硬盘驱动\"></a>硬盘驱动</h2><p>这个地方要注意：添加CDROM（指定驱动虚拟磁盘iso文件）的时候要把类型选成IDE，否则会因为是scsi而无法识别。</p>\n<p><img data-src=\"https://img.carlzeng.top:3/i/2024/05/20/664b394b71f68.png\" alt=\"image-20240520195130170\"></p>\n<p><img data-src=\"https://img.carlzeng.top:3/i/2024/05/20/664b39f9b2949.png\" alt=\"image-20240520195430707\"></p>\n<p>最后安装完成进入系统。这时，只有磁盘驱动，其他驱动都没，需要安装。</p>\n<p>选中任意一个感叹号设备，右击更新驱动，选择浏览计算机以查找驱动（还是用到vitio驱动光盘）</p>\n<p>过一会儿，Windows安装成功。</p>\n<h2 id=\"设备驱动\"><a href=\"#设备驱动\" class=\"headerlink\" title=\"设备驱动\"></a>设备驱动</h2><p>请根据上面的例子，把所有的未知驱动安装了，并且把显卡驱动也安装了~~</p>\n<p><img data-src=\"https://img.carlzeng.top:3/i/2024/05/20/664b429deb7ca.png\" alt=\"image-20240520203124115\"></p>\n<p>是的，现在我可以随时切换使用虚拟中的Windows 2008 和 Windows 7</p>\n<p><img data-src=\"https://img.carlzeng.top:3/i/2024/05/20/664b457cb47bc.png\" alt=\"image-20240520204339181\"></p>\n<h2 id=\"运行CH341A编程器\"><a href=\"#运行CH341A编程器\" class=\"headerlink\" title=\"运行CH341A编程器\"></a>运行CH341A编程器</h2><p>成功在Win7下运行中土豪金CH341A编程器（USB主板路由液晶BIOS&#x2F;FLASH&#x2F;24&#x2F;25烧录器）所依赖的驱动和程序了：</p>\n<p><img data-src=\"https://img.carlzeng.top:3/i/2024/05/20/664b44cd81b1f.png\" alt=\"image-20240520204043318\"></p>\n<p><img data-src=\"https://img.carlzeng.top:3/i/2024/05/20/664b44f622353.png\" alt=\"image-20240520204124632\"></p>\n<h1 id=\"修改硬件后停止再启动\"><a href=\"#修改硬件后停止再启动\" class=\"headerlink\" title=\"修改硬件后停止再启动\"></a>修改硬件后停止再启动</h1><p>修改了硬件信息，比如添加了USB的映射，加载CDROM等等硬件信息编辑&#x2F;改动</p>\n<p>千万不要关机，开机….(我就是这么把Win2008又给整出毛病了)。 正确的姿势是：</p>\n<ol>\n<li>PVE的虚拟机（Win7）右键 -》 停止，然后等待整个机器被停止。</li>\n<li>PVE的虚拟机（Win7）右键 -》开启</li>\n</ol>\n<p>安装USB驱动，反复重试多次无法安装&#x2F;识别U盘。</p>\n<p>最后还是下载安装了Win7的USB驱动解决了：<a href=\"https://www.xitongzhijia.net/soft/199964.html\">USB万能驱动Win7 V3.0</a></p>\n<h1 id=\"Win10安装\"><a href=\"#Win10安装\" class=\"headerlink\" title=\"Win10安装\"></a>Win10安装</h1><p>Win10的安装步骤和这个一摸一样，装好后，选择网卡的驱动程序，还是需要指向虚拟的光驱。</p>\n<p>然而该PVE虚拟机的版本还不支持连接&#x2F;识别微软Xbox的series手柄。</p>\n<p>先用Ventoy做一个可启动的U盘（也可以使用<a href=\"https://www.wepe.com.cn/download.html\">微PE工具箱下载</a>），然后把Windows X 的GHOST文件放在U盘根目录，就可以搭配来使用了</p>\n<p><a href=\"https://apphot.cc/27236.html\">微PE工具箱 v2.3 正式版 (2023.06.22)</a></p>\n<p>里面就包含Diskgenius 等实用工具，一同放到维护U盘中；</p>\n<p>体验下来：</p>\n<ul>\n<li><p>这个微PE工具箱里面的磁盘工具非常好用。</p>\n</li>\n<li><p>PVE的这个安装必须是纯净版Windows的安装，而电脑PC实体机器，直接用下载好的GHOST版Win10或Win11（一般会自动帮忙激活系统等等操作，比如：YLFM，DEEP），直接还原到磁盘的主分区即可（当然用逻辑分区也可以，已实践过）。</p>\n</li>\n</ul>\n<h1 id=\"灵感来源\"><a href=\"#灵感来源\" class=\"headerlink\" title=\"灵感来源\"></a>灵感来源</h1><p><a href=\"https://foxi.buduanwang.vip/vdi/526.html/\">ProxmoxVE pve安装win7系统（多图）</a></p>","categories":[{"name":"PVE","path":"api/categories/PVE.json"}],"tags":[{"name":"PVE","path":"api/tags/PVE.json"},{"name":"Windows7","path":"api/tags/Windows7.json"}]}