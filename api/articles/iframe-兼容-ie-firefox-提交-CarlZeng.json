{"title":"iframe 兼容  ie firefox 提交-CarlZeng","slug":"iframe-兼容-ie-firefox-提交-CarlZeng","date":"2009-03-23T08:34:00.000Z","updated":"2023-10-02T02:27:28.972Z","comments":true,"path":"api/articles/iframe-兼容-ie-firefox-提交-CarlZeng.json","excerpt":"if (form.fireEvent) {form.fireEvent('onsubmit');form.submit();//DOM2 fire event} else if (document.createEvent) {var ev = document.createEvent('HTMLEvents');ev.initEvent('submit', false, true);form.di...","covers":null,"content":"<p>if (form.fireEvent) {form.fireEvent(‘onsubmit’);form.submit();&#x2F;&#x2F;DOM2 fire event} else if (document.createEvent) {var ev &#x3D; document.createEvent(‘HTMLEvents’);ev.initEvent(‘submit’, false, true);form.di…</p>\n<!-- more -->\n<p>if (form.fireEvent) {<br>form.fireEvent(‘onsubmit’);<br>form.submit();<br>&#x2F;&#x2F;DOM2 fire event<br>} else if (document.createEvent) {<br>var ev &#x3D; document.createEvent(‘HTMLEvents’);<br>ev.initEvent(‘submit’, false, true);<br>form.dispatchEvent(ev);<br>}</p>\n<p>兼容 ie firefox 提交 ie比较特殊，恶心</p>\n<p>-—————- 下面转载</p>\n<p>今天在项目中无意中遇到的一个神奇的问题，特此记录。</p>\n<p>首先我们看看以下代码，测试页面可以看<a href=\"http://203.208.39.99/html/script/ie_submit_bug.html\">这里</a>,页面的功能和逻辑很简单。</p>\n<p>这段代码从逻辑上看没有任何错误和BUG，理论上是可以完全执行的。</p>\n<html>  \n<head>IE 测试</head>  \n<body>  \n<script language=\"javascript\"\\>  \n/\\*  \n\\======================================  \n_IE 下 submit 重名测试  \n作者：朦朧中的罪惡  \n博客：http://be-evil.org  \n_\\======================================  \n\\*/  \nfunctiondosubmit()  \n{  \nvartheform = document.getElementById('theform');  \ntheform.submit();  \n}  \n</script>  \n<formmethod=\"post\"id=\"theform\"\\>  \n<tablewidth=\"800\"\\>  \n<tr>  \n<td><inputtype=\"text\"value=\"测试\"\\></td>  \n</tr>  \n<tr>  \n<td><inputtype=\"button\"name=\"submit\"value=\"提交\"onclick=\"dosubmit()\"\\></td>  \n</tr>  \n</table>  \n</form>  \n</body>  \n</html>  \n\n<p>=&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</p>\n<p>本文系原创文章，转载请注明文章源自<a href=\"http://be-evil.org/\">思想之地</a> <a href=\"http://be-evil.org/\">http://be-evil.org</a>，作者：朦胧中的罪恶</p>\n<p>=&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</p>\n<p>如果用Firefox查看这个页面并点击提交按钮，表单会正常提交，但是我们换到IE下面，IE却会提示”对象不支持此属性和方法” 而停止提交的操作。</p>\n<p>这是怎么回事呢？经过我多方的查找资料，发现是提交按钮的name&#x3D;”submit”的属性在捣乱。</p>\n<p>此时我们将**theform.submit();**注释掉，新起一行输入alert(theform.submit.value);刷新页面后再次点击提交，弹出的窗口上会显示”提交”两个字，神奇了！theform.submit居然是提交按钮而不是theform的方法了!</p>\n<p>为什么会出现这个问题呢，因为在IE下可以通过 <strong>表单.表单元素名称</strong> 这样的方式获得一个表单下的所有表单元素，但是巧就巧在这里，如果某个表单元素的名称和表单的方法名重名的话那么IE就会优先将名称解析为某个表单元素，而不是表单的方法，此时就会出现这个神奇的问题了。</p>\n","more":"<p>if (form.fireEvent) {form.fireEvent(‘onsubmit’);form.submit();&#x2F;&#x2F;DOM2 fire event} else if (document.createEvent) {var ev &#x3D; document.createEvent(‘HTMLEvents’);ev.initEvent(‘submit’, false, true);form.di…</p>\n<!-- more -->\n<p>if (form.fireEvent) {<br>form.fireEvent(‘onsubmit’);<br>form.submit();<br>&#x2F;&#x2F;DOM2 fire event<br>} else if (document.createEvent) {<br>var ev &#x3D; document.createEvent(‘HTMLEvents’);<br>ev.initEvent(‘submit’, false, true);<br>form.dispatchEvent(ev);<br>}</p>\n<p>兼容 ie firefox 提交 ie比较特殊，恶心</p>\n<p>-—————- 下面转载</p>\n<p>今天在项目中无意中遇到的一个神奇的问题，特此记录。</p>\n<p>首先我们看看以下代码，测试页面可以看<a href=\"http://203.208.39.99/html/script/ie_submit_bug.html\">这里</a>,页面的功能和逻辑很简单。</p>\n<p>这段代码从逻辑上看没有任何错误和BUG，理论上是可以完全执行的。</p>\n<html>  \n<head>IE 测试</head>  \n<body>  \n<script language=\"javascript\"\\>  \n/\\*  \n\\======================================  \n_IE 下 submit 重名测试  \n作者：朦朧中的罪惡  \n博客：http://be-evil.org  \n_\\======================================  \n\\*/  \nfunctiondosubmit()  \n{  \nvartheform = document.getElementById('theform');  \ntheform.submit();  \n}  \n</script>  \n<formmethod=\"post\"id=\"theform\"\\>  \n<tablewidth=\"800\"\\>  \n<tr>  \n<td><inputtype=\"text\"value=\"测试\"\\></td>  \n</tr>  \n<tr>  \n<td><inputtype=\"button\"name=\"submit\"value=\"提交\"onclick=\"dosubmit()\"\\></td>  \n</tr>  \n</table>  \n</form>  \n</body>  \n</html>  \n\n<p>=&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</p>\n<p>本文系原创文章，转载请注明文章源自<a href=\"http://be-evil.org/\">思想之地</a> <a href=\"http://be-evil.org/\">http://be-evil.org</a>，作者：朦胧中的罪恶</p>\n<p>=&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</p>\n<p>如果用Firefox查看这个页面并点击提交按钮，表单会正常提交，但是我们换到IE下面，IE却会提示”对象不支持此属性和方法” 而停止提交的操作。</p>\n<p>这是怎么回事呢？经过我多方的查找资料，发现是提交按钮的name&#x3D;”submit”的属性在捣乱。</p>\n<p>此时我们将**theform.submit();**注释掉，新起一行输入alert(theform.submit.value);刷新页面后再次点击提交，弹出的窗口上会显示”提交”两个字，神奇了！theform.submit居然是提交按钮而不是theform的方法了!</p>\n<p>为什么会出现这个问题呢，因为在IE下可以通过 <strong>表单.表单元素名称</strong> 这样的方式获得一个表单下的所有表单元素，但是巧就巧在这里，如果某个表单元素的名称和表单的方法名重名的话那么IE就会优先将名称解析为某个表单元素，而不是表单的方法，此时就会出现这个神奇的问题了。</p>\n","categories":[],"tags":[]}