{"title":"WIFI远程无线中继之K2P刷机Padavan无线桥接功能","slug":"WIFI远程无线中继之K2P刷机Padavan无线桥接功能","date":"2024-09-08T02:10:25.000Z","updated":"2024-09-26T12:01:28.484Z","comments":true,"path":"api/articles/WIFI远程无线中继之K2P刷机Padavan无线桥接功能.json","excerpt":" [Figure] WI-FI无线中继, 无线桥接, 扩大WIFI信号覆盖范围&#x2F;面积","covers":["https://img.carlzeng.top:3/i/2024/09/08/66dd0a3ce30b0.png","https://img.carlzeng.top:3/i/2024/09/08/66dd0bf7bbcdb.png","https://img.carlzeng.top:3/i/2024/09/08/66dd0c50cb3c4.png","https://img.carlzeng.top:3/i/2024/09/08/66dd0a3ce30b0.png"],"content":"<img class=\"lozad\" data-src=\"https://img.carlzeng.top:3/i/2024/09/08/66dd0a3ce30b0.png\">\n\n<p>WI-FI无线中继, 无线桥接, 扩大WIFI信号覆盖范围&#x2F;面积</p>\n<span id=\"more\"></span>\n\n<div> \n<button onclick=\"synthesizeSpeech()\">朗读全文</button>\n</div>\n<audio controls id=\"audioPlayer\">Your browser does not support the audio element.</audio>      \n<script>\n  function synthesizeSpeech() { \n    var inputText = document.getElementsByClassName('post-block')[0].innerText;\n    var voice = \"ZH\";\n    var url = 'https://tts.carlzeng.top:3/speech?text=' + encodeURIComponent(inputText.substring(0,3000)) + '&voice=' + voice;\n    var audioPlayer = document.getElementById('audioPlayer');          \n    audioPlayer.src = url;\n    audioPlayer.load();\n    audioPlayer.play();\n  }\n</script>\n\n\n<h1 id=\"有什么用-怎么用\"><a href=\"#有什么用-怎么用\" class=\"headerlink\" title=\"有什么用&#x2F;怎么用\"></a>有什么用&#x2F;怎么用</h1><p>本文仅围绕着有限的硬件投入情况下, 如何扩大WIFI信号覆盖范围&#x2F;面积. 抛砖引玉, 如果您有更好的方案, 请大方地留言告诉我, 提前感谢</p>\n<h2 id=\"需求\"><a href=\"#需求\" class=\"headerlink\" title=\"需求:\"></a>需求:</h2><p>当无法使用网线将室外或远程的AP连接起来时, 假如没有无线网桥的硬件环境下,</p>\n<p>这时可以使用多个K2P将型号从上游K2P中继到远端的K2P, 这样可以轻松实现(仅需电源)WIFI信号的拓展覆盖(增加WIFI信号的覆盖面积)</p>\n<p>应用场景, 比如: 需要将WIFI信号覆盖到楼下的区域, 不管是小区还是自建楼, 在没有提前布线预留的情况下, 将可上网的WIFI覆盖到楼下更广阔的区域. 这样方便了在WIFI覆盖范围内无缝地使用上游路由器网络内的全部应用.</p>\n<p>记录一下, 方面下一次排查潜在的故障</p>\n<h2 id=\"硬件\"><a href=\"#硬件\" class=\"headerlink\" title=\"硬件:\"></a>硬件:</h2><p>需要多个K2P路由器</p>\n<h2 id=\"软件\"><a href=\"#软件\" class=\"headerlink\" title=\"软件:\"></a>软件:</h2><p>将每个K2P都刷机成为这个系统: © 2011-2022 版权属于 Padavan &amp; N56U project community</p>\n<p>比如我使用的固件版本: </p>\n<table>\n<thead>\n<tr>\n<th>固件版本:</th>\n<th><a href=\"http://192.168.6.111:8080/Advanced_FirmwareUpgrade_Content.asp\">3.4.3.9-099_22-07-1</a></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>这台是室外的K2P, 作为将WIFI信号扩大</td>\n<td></td>\n</tr>\n</tbody></table>\n<table>\n<thead>\n<tr>\n<th>固件版本:</th>\n<th><a href=\"http://192.168.6.243/Advanced_FirmwareUpgrade_Content.asp\">4.4.198.9-100_20231021</a></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>这台是室内, 连接外网ADSL宽带光猫或主路由器</td>\n<td></td>\n</tr>\n</tbody></table>\n<h1 id=\"相关内容\"><a href=\"#相关内容\" class=\"headerlink\" title=\"相关内容\"></a>相关内容</h1><iframe style=\"box-shadow: 0px 0px 20px -10px;\" src=\"https://query.carlzeng.top:3/appsearch?q=k2p\" frameborder=\"0\" scrolling=\"auto\" width=\"100%\" height=\"500\"></iframe>\n\n<h1 id=\"实现方法\"><a href=\"#实现方法\" class=\"headerlink\" title=\"实现方法\"></a>实现方法</h1><h2 id=\"上游K2P\"><a href=\"#上游K2P\" class=\"headerlink\" title=\"上游K2P\"></a>上游K2P</h2><p><img data-src=\"https://img.carlzeng.top:3/i/2024/09/08/66dd0bf7bbcdb.png\" alt=\"image-20240908102910241\"></p>\n<p>手动指定: 无线信道</p>\n<h2 id=\"室外中继使用的K2P\"><a href=\"#室外中继使用的K2P\" class=\"headerlink\" title=\"室外中继使用的K2P\"></a>室外中继使用的K2P</h2><p>作为扩大WIFI信号使用的AP, 在室外负责增加WIFI区域&#x2F;面积</p>\n<ol>\n<li><p>设置路由器模式为</p>\n<p><img data-src=\"https://img.carlzeng.top:3/i/2024/09/08/66dd0c50cb3c4.png\" alt=\"image-20240908103039409\"></p>\n</li>\n<li><p>设置2.4G的WIFI作为中继用的频道</p>\n</li>\n</ol>\n<img class=\"lozad\" data-src=\"https://img.carlzeng.top:3/i/2024/09/08/66dd0a3ce30b0.png\">\n\n<p>设置要中继的上游AP的具体信息: SSID, 信道, 加密方式, WIFI密码</p>\n<h2 id=\"故障及解决方案\"><a href=\"#故障及解决方案\" class=\"headerlink\" title=\"故障及解决方案\"></a>故障及解决方案</h2><p>故障点: 室外K2P<br>故障详情: 可以连接WIFI, 但是无法获取IP地址</p>\n<p>修复过程:<br>    连接室外的WIFI, 然后需要手动修改本机IP地址为192.168.123.110网段,<br>    然后就可以打开网页配置: <a href=\"http://192.168.123.1:8080/\">http://192.168.123.1:8080/</a><br>    发现是: 中继的2.4G信号OpenWrt的信道变了, 从原来的9信道变到10信道.<br>    这样就需要重新配置室外K2P的‘无线中继’.<br>    设置好, 连接上上级的路由器WIFI以后, 可以正常获取IP地址, 可以上网.</p>\n<hr>\n<p>故障点: 主路由盘的室内上游K2P </p>\n<p>故障详情: 连续运行几天, 就会导致室内的上游K2P断网</p>\n<p>进一步解决:</p>\n<p>手动指定上游路由器到 2.4GWIFI 信道9, 拓展信道13<br>    5GWIFI 信道153</p>\n<p>中继K2P的 中继点是2.4G的WIFI, 这回指定了信道9, 理论上不会改变了.<br>这样在一天以后, 看看还不会不会导致上游路由器断开了外网连接.</p>\n<blockquote>\n<p>一周后(20240913)验证结果: 不是由于这个信道的变化引起的上游K2P断网</p>\n<p>断网当时, WIFI连接但无法上网(或网速很慢), </p>\n<p>偶然想到, 并查看到Multi stream daemon lite有两个客户端</p>\n<p>也就是说: 这种断网极有可能是msd_lite占用了什么带宽导致的.</p>\n<p>当即修改了msd_lite的服务端口, 上网速度瞬间恢复; WIFI连接也正常了</p>\n</blockquote>\n<p>相关联的话题&#x2F;文章: <a href=\"https://www.carlzeng.top/202312111310.html\">电视节目资源 - 实测联通移动IPTV组播转单播方案</a> </p>\n<p>又一周后(20240926), 仍然出现偶发性断流(断开外网, AP无法上网); 需要手动断电重启才会恢复. 怀疑是硬件的问题(已下单采购新的路由器AC86U)</p>\n<p>今天了解到: msd_lite原来可以安装到docker中! 这样它耗路由器硬件性能的问题就解决了.</p>\n<p>关键字:</p>\n<p>群晖docker安装udpxy或msd_lite</p>\n<p>RouterOS中如何安装与使用udpxy(更推荐使用msd_lite组件, 因为msd_lite占用CPU资源更少)</p>\n","more":"<div> \n<button onclick=\"synthesizeSpeech()\">朗读全文</button>\n</div>\n<audio controls id=\"audioPlayer\">Your browser does not support the audio element.</audio>      \n<script>\n  function synthesizeSpeech() { \n    var inputText = document.getElementsByClassName('post-block')[0].innerText;\n    var voice = \"ZH\";\n    var url = 'https://tts.carlzeng.top:3/speech?text=' + encodeURIComponent(inputText.substring(0,3000)) + '&voice=' + voice;\n    var audioPlayer = document.getElementById('audioPlayer');          \n    audioPlayer.src = url;\n    audioPlayer.load();\n    audioPlayer.play();\n  }\n</script>\n\n\n<h1 id=\"有什么用-怎么用\"><a href=\"#有什么用-怎么用\" class=\"headerlink\" title=\"有什么用&#x2F;怎么用\"></a>有什么用&#x2F;怎么用</h1><p>本文仅围绕着有限的硬件投入情况下, 如何扩大WIFI信号覆盖范围&#x2F;面积. 抛砖引玉, 如果您有更好的方案, 请大方地留言告诉我, 提前感谢</p>\n<h2 id=\"需求\"><a href=\"#需求\" class=\"headerlink\" title=\"需求:\"></a>需求:</h2><p>当无法使用网线将室外或远程的AP连接起来时, 假如没有无线网桥的硬件环境下,</p>\n<p>这时可以使用多个K2P将型号从上游K2P中继到远端的K2P, 这样可以轻松实现(仅需电源)WIFI信号的拓展覆盖(增加WIFI信号的覆盖面积)</p>\n<p>应用场景, 比如: 需要将WIFI信号覆盖到楼下的区域, 不管是小区还是自建楼, 在没有提前布线预留的情况下, 将可上网的WIFI覆盖到楼下更广阔的区域. 这样方便了在WIFI覆盖范围内无缝地使用上游路由器网络内的全部应用.</p>\n<p>记录一下, 方面下一次排查潜在的故障</p>\n<h2 id=\"硬件\"><a href=\"#硬件\" class=\"headerlink\" title=\"硬件:\"></a>硬件:</h2><p>需要多个K2P路由器</p>\n<h2 id=\"软件\"><a href=\"#软件\" class=\"headerlink\" title=\"软件:\"></a>软件:</h2><p>将每个K2P都刷机成为这个系统: © 2011-2022 版权属于 Padavan &amp; N56U project community</p>\n<p>比如我使用的固件版本: </p>\n<table>\n<thead>\n<tr>\n<th>固件版本:</th>\n<th><a href=\"http://192.168.6.111:8080/Advanced_FirmwareUpgrade_Content.asp\">3.4.3.9-099_22-07-1</a></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>这台是室外的K2P, 作为将WIFI信号扩大</td>\n<td></td>\n</tr>\n</tbody></table>\n<table>\n<thead>\n<tr>\n<th>固件版本:</th>\n<th><a href=\"http://192.168.6.243/Advanced_FirmwareUpgrade_Content.asp\">4.4.198.9-100_20231021</a></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>这台是室内, 连接外网ADSL宽带光猫或主路由器</td>\n<td></td>\n</tr>\n</tbody></table>\n<h1 id=\"相关内容\"><a href=\"#相关内容\" class=\"headerlink\" title=\"相关内容\"></a>相关内容</h1><iframe style=\"box-shadow: 0px 0px 20px -10px;\" src=\"https://query.carlzeng.top:3/appsearch?q=k2p\" frameborder=\"0\" scrolling=\"auto\" width=\"100%\" height=\"500\"></iframe>\n\n<h1 id=\"实现方法\"><a href=\"#实现方法\" class=\"headerlink\" title=\"实现方法\"></a>实现方法</h1><h2 id=\"上游K2P\"><a href=\"#上游K2P\" class=\"headerlink\" title=\"上游K2P\"></a>上游K2P</h2><p><img data-src=\"https://img.carlzeng.top:3/i/2024/09/08/66dd0bf7bbcdb.png\" alt=\"image-20240908102910241\"></p>\n<p>手动指定: 无线信道</p>\n<h2 id=\"室外中继使用的K2P\"><a href=\"#室外中继使用的K2P\" class=\"headerlink\" title=\"室外中继使用的K2P\"></a>室外中继使用的K2P</h2><p>作为扩大WIFI信号使用的AP, 在室外负责增加WIFI区域&#x2F;面积</p>\n<ol>\n<li><p>设置路由器模式为</p>\n<p><img data-src=\"https://img.carlzeng.top:3/i/2024/09/08/66dd0c50cb3c4.png\" alt=\"image-20240908103039409\"></p>\n</li>\n<li><p>设置2.4G的WIFI作为中继用的频道</p>\n</li>\n</ol>\n<img class=\"lozad\" data-src=\"https://img.carlzeng.top:3/i/2024/09/08/66dd0a3ce30b0.png\">\n\n<p>设置要中继的上游AP的具体信息: SSID, 信道, 加密方式, WIFI密码</p>\n<h2 id=\"故障及解决方案\"><a href=\"#故障及解决方案\" class=\"headerlink\" title=\"故障及解决方案\"></a>故障及解决方案</h2><p>故障点: 室外K2P<br>故障详情: 可以连接WIFI, 但是无法获取IP地址</p>\n<p>修复过程:<br>    连接室外的WIFI, 然后需要手动修改本机IP地址为192.168.123.110网段,<br>    然后就可以打开网页配置: <a href=\"http://192.168.123.1:8080/\">http://192.168.123.1:8080/</a><br>    发现是: 中继的2.4G信号OpenWrt的信道变了, 从原来的9信道变到10信道.<br>    这样就需要重新配置室外K2P的‘无线中继’.<br>    设置好, 连接上上级的路由器WIFI以后, 可以正常获取IP地址, 可以上网.</p>\n<hr>\n<p>故障点: 主路由盘的室内上游K2P </p>\n<p>故障详情: 连续运行几天, 就会导致室内的上游K2P断网</p>\n<p>进一步解决:</p>\n<p>手动指定上游路由器到 2.4GWIFI 信道9, 拓展信道13<br>    5GWIFI 信道153</p>\n<p>中继K2P的 中继点是2.4G的WIFI, 这回指定了信道9, 理论上不会改变了.<br>这样在一天以后, 看看还不会不会导致上游路由器断开了外网连接.</p>\n<blockquote>\n<p>一周后(20240913)验证结果: 不是由于这个信道的变化引起的上游K2P断网</p>\n<p>断网当时, WIFI连接但无法上网(或网速很慢), </p>\n<p>偶然想到, 并查看到Multi stream daemon lite有两个客户端</p>\n<p>也就是说: 这种断网极有可能是msd_lite占用了什么带宽导致的.</p>\n<p>当即修改了msd_lite的服务端口, 上网速度瞬间恢复; WIFI连接也正常了</p>\n</blockquote>\n<p>相关联的话题&#x2F;文章: <a href=\"https://www.carlzeng.top/202312111310.html\">电视节目资源 - 实测联通移动IPTV组播转单播方案</a> </p>\n<p>又一周后(20240926), 仍然出现偶发性断流(断开外网, AP无法上网); 需要手动断电重启才会恢复. 怀疑是硬件的问题(已下单采购新的路由器AC86U)</p>\n<p>今天了解到: msd_lite原来可以安装到docker中! 这样它耗路由器硬件性能的问题就解决了.</p>\n<p>关键字:</p>\n<p>群晖docker安装udpxy或msd_lite</p>\n<p>RouterOS中如何安装与使用udpxy(更推荐使用msd_lite组件, 因为msd_lite占用CPU资源更少)</p>","categories":[{"name":"K2P","path":"api/categories/K2P.json"}],"tags":[{"name":"K2P","path":"api/tags/K2P.json"}]}