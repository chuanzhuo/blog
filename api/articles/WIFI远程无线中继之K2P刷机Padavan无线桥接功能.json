{"title":"WIFI远程无线中继之K2P刷机Padavan无线桥接功能","slug":"WIFI远程无线中继之K2P刷机Padavan无线桥接功能","date":"2024-09-08T02:10:25.000Z","updated":"2024-10-25T13:16:40.461Z","comments":true,"path":"api/articles/WIFI远程无线中继之K2P刷机Padavan无线桥接功能.json","excerpt":" [Figure] WI-FI无线中继, 无线桥接, 扩大WIFI信号覆盖范围&#x2F;面积","covers":["https://img.carlzeng.com:3/i/2024/09/08/66dd0a3ce30b0.png","https://img.carlzeng.com:3/i/2024/09/08/66dd0bf7bbcdb.png","https://img.carlzeng.com:3/i/2024/09/08/66dd0c50cb3c4.png","https://img.carlzeng.com:3/i/2024/09/08/66dd0a3ce30b0.png","https://img.carlzeng.com:3/i/2024/09/28/66f74bb8e5be9.png","https://img.carlzeng.com:3/i/2024/09/28/66f74ef59c5fc.png","https://img.carlzeng.com:3/i/2024/09/28/66f74f6fb0997.png","https://img.carlzeng.com:3/i/2024/09/28/66f7ee0a42e59.png"],"content":"<img class=\"lozad\" data-src=\"https://img.carlzeng.com:3/i/2024/09/08/66dd0a3ce30b0.png\">\n\n<p>WI-FI无线中继, 无线桥接, 扩大WIFI信号覆盖范围&#x2F;面积</p>\n<span id=\"more\"></span>\n\n<div> \n<button onclick=\"synthesizeSpeech()\">朗读全文</button>\n</div>\n<audio controls id=\"audioPlayer\">Your browser does not support the audio element.</audio>      \n<script>\n  function synthesizeSpeech() { \n    var inputText = document.getElementsByClassName('post-block')[0].innerText;\n    var voice = \"ZH\";\n    var url = 'https://tts.carlzeng.com:3/speech?text=' + encodeURIComponent(inputText.substring(0,3000)) + '&voice=' + voice;\n    var audioPlayer = document.getElementById('audioPlayer');          \n    audioPlayer.src = url;\n    audioPlayer.load();\n    audioPlayer.play();\n  }\n</script>\n\n\n<h1 id=\"有什么用-怎么用\"><a href=\"#有什么用-怎么用\" class=\"headerlink\" title=\"有什么用&#x2F;怎么用\"></a>有什么用&#x2F;怎么用</h1><p>本文仅围绕着有限的硬件投入情况下, 如何扩大WIFI信号覆盖范围&#x2F;面积. 抛砖引玉, 如果您有更好的方案, 请大方地留言告诉我, 提前感谢</p>\n<h2 id=\"需求\"><a href=\"#需求\" class=\"headerlink\" title=\"需求:\"></a>需求:</h2><p>当无法使用网线将室外或远程的AP连接起来时, 假如没有无线网桥的硬件环境下,</p>\n<p>这时可以使用多个K2P将型号从上游K2P中继到远端的K2P, 这样可以轻松实现(仅需电源)WIFI信号的拓展覆盖(增加WIFI信号的覆盖面积)</p>\n<p>应用场景, 比如: 需要将WIFI信号覆盖到楼下的区域, 不管是小区还是自建楼, 在没有提前布线预留的情况下, 将可上网的WIFI覆盖到楼下更广阔的区域. 这样方便了在WIFI覆盖范围内无缝地使用上游路由器网络内的全部应用.</p>\n<p>记录一下, 方面下一次排查潜在的故障</p>\n<h2 id=\"硬件\"><a href=\"#硬件\" class=\"headerlink\" title=\"硬件:\"></a>硬件:</h2><p>需要多个K2P路由器</p>\n<h2 id=\"软件\"><a href=\"#软件\" class=\"headerlink\" title=\"软件:\"></a>软件:</h2><p>将每个K2P都刷机成为这个系统: © 2011-2022 版权属于 Padavan &amp; N56U project community</p>\n<p>比如我使用的固件版本: </p>\n<table>\n<thead>\n<tr>\n<th>固件版本:</th>\n<th><a href=\"http://192.168.6.111:8080/Advanced_FirmwareUpgrade_Content.asp\">3.4.3.9-099_22-07-1</a></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>这台是室外的K2P, 作为将WIFI信号扩大</td>\n<td></td>\n</tr>\n</tbody></table>\n<table>\n<thead>\n<tr>\n<th>固件版本:</th>\n<th><a href=\"http://192.168.6.243/Advanced_FirmwareUpgrade_Content.asp\">4.4.198.9-100_20231021</a></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>这台是室内, 连接外网ADSL宽带光猫或主路由器</td>\n<td></td>\n</tr>\n</tbody></table>\n<h1 id=\"相关内容\"><a href=\"#相关内容\" class=\"headerlink\" title=\"相关内容\"></a>相关内容</h1><iframe style=\"box-shadow: 0px 0px 20px -10px;\" src=\"https://query.carlzeng.com:3/appsearch?q=k2p\" frameborder=\"0\" scrolling=\"auto\" width=\"100%\" height=\"500\"></iframe>\n\n<h1 id=\"实现方法\"><a href=\"#实现方法\" class=\"headerlink\" title=\"实现方法\"></a>实现方法</h1><h2 id=\"上游K2P\"><a href=\"#上游K2P\" class=\"headerlink\" title=\"上游K2P\"></a>上游K2P</h2><p><img data-src=\"https://img.carlzeng.com:3/i/2024/09/08/66dd0bf7bbcdb.png\" alt=\"image-20240908102910241\"></p>\n<p>手动指定: 无线信道</p>\n<h2 id=\"室外中继使用的K2P\"><a href=\"#室外中继使用的K2P\" class=\"headerlink\" title=\"室外中继使用的K2P\"></a>室外中继使用的K2P</h2><p>作为扩大WIFI信号使用的AP, 在室外负责增加WIFI区域&#x2F;面积</p>\n<ol>\n<li><p>设置路由器模式为</p>\n<p><img data-src=\"https://img.carlzeng.com:3/i/2024/09/08/66dd0c50cb3c4.png\" alt=\"image-20240908103039409\"></p>\n</li>\n<li><p>设置2.4G的WIFI作为中继用的频道</p>\n</li>\n</ol>\n<img class=\"lozad\" data-src=\"https://img.carlzeng.com:3/i/2024/09/08/66dd0a3ce30b0.png\">\n\n<p>设置要中继的上游AP的具体信息: SSID, 信道, 加密方式, WIFI密码</p>\n<h2 id=\"故障及解决方案\"><a href=\"#故障及解决方案\" class=\"headerlink\" title=\"故障及解决方案\"></a>故障及解决方案</h2><p>故障点: 室外K2P<br>故障详情: 可以连接WIFI, 但是无法获取IP地址</p>\n<p>修复过程:<br>    连接室外的WIFI, 然后需要手动修改本机IP地址为192.168.123.110网段,<br>    然后就可以打开网页配置: <a href=\"http://192.168.123.1:8080/\">http://192.168.123.1:8080/</a><br>    发现是: 中继的2.4G信号OpenWrt的信道变了, 从原来的9信道变到10信道.<br>    这样就需要重新配置室外K2P的‘无线中继’.<br>    设置好, 连接上上级的路由器WIFI以后, 可以正常获取IP地址, 可以上网.</p>\n<blockquote>\n<p>20240928 最新更新如下:</p>\n</blockquote>\n<p>通过在K2P的Lan口设置(手动设置) 192.168.6.112</p>\n<p>然后把DHCP手动开启, 设置IP段: 192.168.6.200 - 192.168.6.244</p>\n<p>管理地址变更为: <a href=\"http://192.168.6.112:8080/Advanced_APLAN_Content.asp\">http://192.168.6.112:8080/Advanced_APLAN_Content.asp</a></p>\n<hr>\n<p>故障点: 主路由盘的室内上游K2P </p>\n<p>故障详情: 连续运行几天, 就会导致室内的上游K2P断网</p>\n<p>进一步解决:</p>\n<p>手动指定上游路由器到 2.4GWIFI 信道9, 拓展信道13<br>    5GWIFI 信道153</p>\n<p>中继K2P的 中继点是2.4G的WIFI, 这回指定了信道9, 理论上不会改变了.<br>这样在一天以后, 看看还不会不会导致上游路由器断开了外网连接.</p>\n<blockquote>\n<p>一周后(20240913)验证结果: 不是由于这个信道的变化引起的上游K2P断网</p>\n<p>断网当时, WIFI连接但无法上网(或网速很慢), </p>\n<p>偶然想到, 并查看到Multi stream daemon lite有两个客户端</p>\n<p>也就是说: 这种断网极有可能是msd_lite占用了什么带宽导致的.</p>\n<p>当即修改了msd_lite的服务端口, 上网速度瞬间恢复; WIFI连接也正常了</p>\n</blockquote>\n<p>相关联的话题&#x2F;文章: <a href=\"https://www.carlzeng.com/202312111310.html\">电视节目资源 - 实测联通移动IPTV组播转单播方案</a> </p>\n<p>又一周后(20240926), 仍然出现偶发性断流(断开外网, AP无法上网); 需要手动断电重启才会恢复. 怀疑是硬件的问题(已下单采购新的路由器AC86U)</p>\n<p>今天了解到: msd_lite原来可以安装到docker中! 这样它耗路由器硬件性能的问题就解决了.</p>\n<p>关键字:</p>\n<p>群晖docker安装udpxy或msd_lite</p>\n<p>RouterOS中如何安装与使用udpxy(更推荐使用msd_lite组件, 因为msd_lite占用CPU资源更少)</p>\n<h1 id=\"华硕RT-AC86U\"><a href=\"#华硕RT-AC86U\" class=\"headerlink\" title=\"华硕RT-AC86U\"></a>华硕RT-AC86U</h1><p>刷入 最新官改测试..<br>路由器管理的IP:\t192.168.50.1<br>    admin:00000</p>\n<pre><code>4:14pm \n1. 设置pC机 ip到手动 192.168.1.100\n2. 设置Mac ip到192.168.1.11; 用于远程协助PC机的连接\n3. 操作PC机的华硕固件刷新Exe应用程序\n\nASUS 救援模式版本 2.1.0.3\n    版本 2.1.0.3\n    1.25 MB\n    2021/10/27\n    支援操作系统: Windows XP/7/8/8.1/10/11\n来源官网下载 https://www.asus.com.cn/supportonly/rt-ac86u/helpdesk_download?model2Name=RT-AC86U\n\n救援模式实测https://52asus.com/thread-34-1-1.html\n\n4:41pm 直接在WEB界面刷\n</code></pre>\n<p>doc: <a href=\"https://www.koolcenter.com/article/firmware/6_download/official_mod/40_rt-ac86u_official_mod/\">https://www.koolcenter.com/article/firmware/6_download/official_mod/40_rt-ac86u_official_mod/</a></p>\n<pre><code>[20240927测试中 RT-AC86U_386.10_0]\n1. https://fw.koolcenter.com/KoolCenter_Merlin_New_Gen_386/RT-AC86U/\n    RT-AC86U_386.10_0_cferom_ubi_koolcenter.w\t81.9 MiB\t2023-05-03 20:47\n    官改\n</code></pre>\n<p>​\t<br>    2. <a href=\"https://www.koolcenter.com/fw/device/rt-ac86u/merlin\">https://www.koolcenter.com/fw/device/rt-ac86u/merlin</a><br>        RT-AC86U_386.9_0_cferom_ubi_koolcenter.w\t81.8 MiB\t2023-05-03 20:47<br>        梅林改</p>\n<p><a href=\"http://www.speedtest.cn(连接大连联通节点)/\">www.speedtest.cn(连接大连联通节点)</a> </p>\n<p>测速发现上传又明细提升(达到93+速度), 下载不变稳定在260左右 </p>\n<p>AP模式 获取到的WAN口IP为: <a href=\"http://192.168.6.115/Main_Login.asp\">http://192.168.6.115/Main_Login.asp</a></p>\n<p>重新设置:</p>\n<ol>\n<li>TP1Z按重置按钮10s, 重新设置网络; 重新输入WIFI密码 和 设备的安全密码<ol>\n<li>由于摄像头都重新设置了, 重新推流启动: supervisorctl restart ffmpeg</li>\n</ol>\n</li>\n<li>中继的K2P <ol>\n<li>必须要关闭新的AC86U热点OpenWrt, 手动设置的192.168.123.12改网段才会工作</li>\n<li>重新配置中继(无线桥接)<a href=\"http://192.168.123.1:8080/Advanced_WMode2g_Content.asp\">http://192.168.123.1:8080/Advanced_WMode2g_Content.asp</a></li>\n<li>正常中继了, 锁定了使用相同的WIFI 2.4G信道: 11信道</li>\n</ol>\n</li>\n<li>所有的远程WIFI插座都自动识别, 自动跳跃到新的路由器AC86U</li>\n<li></li>\n</ol>\n<p>下一步:</p>\n<ol>\n<li><p>设置AC86U打开SSH <a href=\"http://192.168.6.115/Advanced_System_Content.asp\">http://192.168.6.115/Advanced_System_Content.asp</a></p>\n<ol>\n<li>无法正常登陆</li>\n</ol>\n</li>\n<li><p>软件中心-插件离线安装</p>\n<p>· 通过本页，你可以上传插件的离线安装包来安装插件；</p>\n<p>· 离线安装会自动解压tar.gz后缀的压缩包，识别压缩包一级目录下的install.sh文件并执行。</p>\n</li>\n</ol>\n<p>AC86U打开SSH</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh admin@192.168.6.115                                                       </span><br><span class=\"line\">admin@192.168.6.115<span class=\"string\">&#x27;s password:                                                                          </span></span><br><span class=\"line\"><span class=\"string\">Connection closed by 192.168.6.115 port 22 </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">#第二天尝试  - 正常了</span></span><br><span class=\"line\"><span class=\"string\">ssh admin@192.168.6.115</span></span><br><span class=\"line\"><span class=\"string\">admin@192.168.6.115&#x27;</span>s password: </span><br><span class=\"line\"></span><br><span class=\"line\">ASUSWRT-Merlin RT-AC86U 386.10_0 Tue May  2 16:39:01 UTC 2023</span><br><span class=\"line\">admin@RT-AC86U-A4C8:/tmp/home/root<span class=\"comment\"># </span></span><br></pre></td></tr></table></figure>\n\n\n\n<p>如果你的华硕路由器安装了第三方固件，并在固件安装了软件中心，通过离线安装的方式安装某软件时收到提示 “离线安装包名有非法关键词”，那可以通过上面的步骤登录路由器系统，然后输入以下命令：</p>\n<p>sed -i ‘s&#x2F;\\tdetect_package&#x2F;\\t# detect_package&#x2F;g’ &#x2F;koolshare&#x2F;scripts&#x2F;ks_tar_install.sh</p>\n<p>插入一个64G的SD卡到AC86U的USB3.0口(由于读卡器是2.0, 被识别成2.0)</p>\n<p><img data-src=\"https://img.carlzeng.com:3/i/2024/09/28/66f74bb8e5be9.png\" alt=\"image-20240928081950327\"></p>\n<p>创建USB上的虚拟内存文件</p>\n<p><img data-src=\"https://img.carlzeng.com:3/i/2024/09/28/66f74ef59c5fc.png\" alt=\"image-20240928083339577\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">umount /dev/sda1                                                         </span><br><span class=\"line\">umount: can<span class=\"string\">&#x27;t unmount /tmp/mnt/AC86U: Device or resource busy </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">#AC86U路由器有一个坏块</span></span><br><span class=\"line\"><span class=\"string\">admin@RT-AC86U-A4C8:/tmp/home/root# dmesg|grep &quot;bad block&quot;</span></span><br><span class=\"line\"><span class=\"string\">nand_read_bbt: bad block at 0x0000001a0000</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\"># 这将umount所有的文件系统, 需要重启路由器</span></span><br><span class=\"line\"><span class=\"string\">umount -a -r -l -f /dev/sda1</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br></pre></td></tr></table></figure>\n\n<p>![image-20240928085408054](&#x2F;Users&#x2F;carlzeng&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;image-20240928085408054.png)</p>\n<p>添加USB2JFFS(USB2JFFS - 用U盘来挂载jffs), 让安装软件跑到U盘上面去</p>\n<p><a href=\"https://github.com/koolshare/rogsoft/blob/master/usb2jffs/README.md\">具体的使用说明文档</a></p>\n<p><img data-src=\"https://img.carlzeng.com:3/i/2024/09/28/66f74f6fb0997.png\" alt=\"image-20240928083542208\"></p>\n<p>开启的话需要在软件中心, 打开USB2JFFS, 然后 选择挂载路径(默认): &#x2F;tmp&#x2F;mnt&#x2F;AC86U\t</p>\n<p><img data-src=\"https://img.carlzeng.com:3/i/2024/09/28/66f7ee0a42e59.png\" alt=\"image-20240928195238006\"></p>\n<h2 id=\"msd-lite设置\"><a href=\"#msd-lite设置\" class=\"headerlink\" title=\"msd_lite设置\"></a>msd_lite设置</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">admin@RT-AC86U-A4C8:/tmp/home/root# opkg install msd                                                         </span><br><span class=\"line\">Installing msd (3.01.0-1) to root...                                                                         </span><br><span class=\"line\">Downloading https://bin.entware.net/aarch64-k3.10/msd_3.01.0-1_aarch64-3.10.ipk                              </span><br><span class=\"line\">Configuring msd.  </span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">目前在386.10版本上，路由器开启ssh,进入后</span></span><br><span class=\"line\">1. amtm &gt;</span><br><span class=\"line\">2. ep &gt;</span><br><span class=\"line\">3. opkg install msd</span><br><span class=\"line\">4. service msd即可运行; 我用的是:  msd -c msd.conf</span><br><span class=\"line\">5. 查看日志: cd /opt/var/log;  会有msd.log文件</span><br><span class=\"line\"></span><br><span class=\"line\">admin@RT-AC86U-A4C8:/tmp/mnt/AC86U/entware/etc# msd </span><br><span class=\"line\">Multi stream daemon 3.01.0 -- (c) Rozhuk Ivan &lt;rozhuk.im@gmail.com&gt;</span><br><span class=\"line\">   BSD licence. Website: https://github.com/rozhuk-im/msd</span><br><span class=\"line\">   Build: Jul 23 2024 11:34:57, Release</span><br><span class=\"line\">usage: [-d] [-v] [-c file]</span><br><span class=\"line\">       [-p PID file] [-u uid|usr -g gid|grp]</span><br><span class=\"line\"> -h           usage (this screen)</span><br><span class=\"line\"> -d           become daemon</span><br><span class=\"line\"> -c file      config file</span><br><span class=\"line\"> -p PID file  file name to store PID</span><br><span class=\"line\"> -u uid|user  change uid</span><br><span class=\"line\"> -g gid|group change gid</span><br><span class=\"line\"> -v           verbose</span><br></pre></td></tr></table></figure>\n\n<p>下一步: 设置MSD; 我的有组播的网线口是插在了: LAN1</p>\n<p>默认生成的msd.conf</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br><span class=\"line\">274</span><br><span class=\"line\">275</span><br><span class=\"line\">276</span><br><span class=\"line\">277</span><br><span class=\"line\">278</span><br><span class=\"line\">279</span><br><span class=\"line\">280</span><br><span class=\"line\">281</span><br><span class=\"line\">282</span><br><span class=\"line\">283</span><br><span class=\"line\">284</span><br><span class=\"line\">285</span><br><span class=\"line\">286</span><br><span class=\"line\">287</span><br><span class=\"line\">288</span><br><span class=\"line\">289</span><br><span class=\"line\">290</span><br><span class=\"line\">291</span><br><span class=\"line\">292</span><br><span class=\"line\">293</span><br><span class=\"line\">294</span><br><span class=\"line\">295</span><br><span class=\"line\">296</span><br><span class=\"line\">297</span><br><span class=\"line\">298</span><br><span class=\"line\">299</span><br><span class=\"line\">300</span><br><span class=\"line\">301</span><br><span class=\"line\">302</span><br><span class=\"line\">303</span><br><span class=\"line\">304</span><br><span class=\"line\">305</span><br><span class=\"line\">306</span><br><span class=\"line\">307</span><br><span class=\"line\">308</span><br><span class=\"line\">309</span><br><span class=\"line\">310</span><br><span class=\"line\">311</span><br><span class=\"line\">312</span><br><span class=\"line\">313</span><br><span class=\"line\">314</span><br><span class=\"line\">315</span><br><span class=\"line\">316</span><br><span class=\"line\">317</span><br><span class=\"line\">318</span><br><span class=\"line\">319</span><br><span class=\"line\">320</span><br><span class=\"line\">321</span><br><span class=\"line\">322</span><br><span class=\"line\">323</span><br><span class=\"line\">324</span><br><span class=\"line\">325</span><br><span class=\"line\">326</span><br><span class=\"line\">327</span><br><span class=\"line\">328</span><br><span class=\"line\">329</span><br><span class=\"line\">330</span><br><span class=\"line\">331</span><br><span class=\"line\">332</span><br><span class=\"line\">333</span><br><span class=\"line\">334</span><br><span class=\"line\">335</span><br><span class=\"line\">336</span><br><span class=\"line\">337</span><br><span class=\"line\">338</span><br><span class=\"line\">339</span><br><span class=\"line\">340</span><br><span class=\"line\">341</span><br><span class=\"line\">342</span><br><span class=\"line\">343</span><br><span class=\"line\">344</span><br><span class=\"line\">345</span><br><span class=\"line\">346</span><br><span class=\"line\">347</span><br><span class=\"line\">348</span><br><span class=\"line\">349</span><br><span class=\"line\">350</span><br><span class=\"line\">351</span><br><span class=\"line\">352</span><br><span class=\"line\">353</span><br><span class=\"line\">354</span><br><span class=\"line\">355</span><br><span class=\"line\">356</span><br><span class=\"line\">357</span><br><span class=\"line\">358</span><br><span class=\"line\">359</span><br><span class=\"line\">360</span><br><span class=\"line\">361</span><br><span class=\"line\">362</span><br><span class=\"line\">363</span><br><span class=\"line\">364</span><br><span class=\"line\">365</span><br><span class=\"line\">366</span><br><span class=\"line\">367</span><br><span class=\"line\">368</span><br><span class=\"line\">369</span><br><span class=\"line\">370</span><br><span class=\"line\">371</span><br><span class=\"line\">372</span><br><span class=\"line\">373</span><br><span class=\"line\">374</span><br><span class=\"line\">375</span><br><span class=\"line\">376</span><br><span class=\"line\">377</span><br><span class=\"line\">378</span><br><span class=\"line\">379</span><br><span class=\"line\">380</span><br><span class=\"line\">381</span><br><span class=\"line\">382</span><br><span class=\"line\">383</span><br><span class=\"line\">384</span><br><span class=\"line\">385</span><br><span class=\"line\">386</span><br><span class=\"line\">387</span><br><span class=\"line\">388</span><br><span class=\"line\">389</span><br><span class=\"line\">390</span><br><span class=\"line\">391</span><br><span class=\"line\">392</span><br><span class=\"line\">393</span><br><span class=\"line\">394</span><br><span class=\"line\">395</span><br><span class=\"line\">396</span><br><span class=\"line\">397</span><br><span class=\"line\">398</span><br><span class=\"line\">399</span><br><span class=\"line\">400</span><br><span class=\"line\">401</span><br><span class=\"line\">402</span><br><span class=\"line\">403</span><br><span class=\"line\">404</span><br><span class=\"line\">405</span><br><span class=\"line\">406</span><br><span class=\"line\">407</span><br><span class=\"line\">408</span><br><span class=\"line\">409</span><br><span class=\"line\">410</span><br><span class=\"line\">411</span><br><span class=\"line\">412</span><br><span class=\"line\">413</span><br><span class=\"line\">414</span><br><span class=\"line\">415</span><br><span class=\"line\">416</span><br><span class=\"line\">417</span><br><span class=\"line\">418</span><br><span class=\"line\">419</span><br><span class=\"line\">420</span><br><span class=\"line\">421</span><br><span class=\"line\">422</span><br><span class=\"line\">423</span><br><span class=\"line\">424</span><br><span class=\"line\">425</span><br><span class=\"line\">426</span><br><span class=\"line\">427</span><br><span class=\"line\">428</span><br><span class=\"line\">429</span><br><span class=\"line\">430</span><br><span class=\"line\">431</span><br><span class=\"line\">432</span><br><span class=\"line\">433</span><br><span class=\"line\">434</span><br><span class=\"line\">435</span><br><span class=\"line\">436</span><br><span class=\"line\">437</span><br><span class=\"line\">438</span><br><span class=\"line\">439</span><br><span class=\"line\">440</span><br><span class=\"line\">441</span><br><span class=\"line\">442</span><br><span class=\"line\">443</span><br><span class=\"line\">444</span><br><span class=\"line\">445</span><br><span class=\"line\">446</span><br><span class=\"line\">447</span><br><span class=\"line\">448</span><br><span class=\"line\">449</span><br><span class=\"line\">450</span><br><span class=\"line\">451</span><br><span class=\"line\">452</span><br><span class=\"line\">453</span><br><span class=\"line\">454</span><br><span class=\"line\">455</span><br><span class=\"line\">456</span><br><span class=\"line\">457</span><br><span class=\"line\">458</span><br><span class=\"line\">459</span><br><span class=\"line\">460</span><br><span class=\"line\">461</span><br><span class=\"line\">462</span><br><span class=\"line\">463</span><br><span class=\"line\">464</span><br><span class=\"line\">465</span><br><span class=\"line\">466</span><br><span class=\"line\">467</span><br><span class=\"line\">468</span><br><span class=\"line\">469</span><br><span class=\"line\">470</span><br><span class=\"line\">471</span><br><span class=\"line\">472</span><br><span class=\"line\">473</span><br><span class=\"line\">474</span><br><span class=\"line\">475</span><br><span class=\"line\">476</span><br><span class=\"line\">477</span><br><span class=\"line\">478</span><br><span class=\"line\">479</span><br><span class=\"line\">480</span><br><span class=\"line\">481</span><br><span class=\"line\">482</span><br><span class=\"line\">483</span><br><span class=\"line\">484</span><br><span class=\"line\">485</span><br><span class=\"line\">486</span><br><span class=\"line\">487</span><br><span class=\"line\">488</span><br><span class=\"line\">489</span><br><span class=\"line\">490</span><br><span class=\"line\">491</span><br><span class=\"line\">492</span><br><span class=\"line\">493</span><br><span class=\"line\">494</span><br><span class=\"line\">495</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=<span class=\"string\">&quot;1.0&quot;</span> encoding=<span class=\"string\">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!--</span></span><br><span class=\"line\"><span class=\"comment\"> Sizes in kb, time in seconds</span></span><br><span class=\"line\"><span class=\"comment\">--&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!--</span></span><br><span class=\"line\"><span class=\"comment\">&lt;skt&gt; &lt;rcvLoWatermark&gt;XXXX&lt;/rcvLoWatermark&gt; - DOES NOT WORK on Linux!</span></span><br><span class=\"line\"><span class=\"comment\">man socket(7):</span></span><br><span class=\"line\"><span class=\"comment\">...</span></span><br><span class=\"line\"><span class=\"comment\">The select(2) and poll(2) system calls currently do not respect the SO_RCVLOWAT</span></span><br><span class=\"line\"><span class=\"comment\">setting on Linux, and mark a socket readable when even a single byte of data is</span></span><br><span class=\"line\"><span class=\"comment\">available.</span></span><br><span class=\"line\"><span class=\"comment\">...</span></span><br><span class=\"line\"><span class=\"comment\">--&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!--</span></span><br><span class=\"line\"><span class=\"comment\"> XML validators:</span></span><br><span class=\"line\"><span class=\"comment\"> - http://www.xmlvalidation.com/</span></span><br><span class=\"line\"><span class=\"comment\"> - xmllint - -noout msd.conf</span></span><br><span class=\"line\"><span class=\"comment\">   &quot;- -&quot;: remove space before arg.</span></span><br><span class=\"line\"><span class=\"comment\">   install: /usr/ports/textproc/libxml2</span></span><br><span class=\"line\"><span class=\"comment\">--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">msd</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">log</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">file</span>&gt;</span>/opt/var/log/msd.log<span class=\"tag\">&lt;/<span class=\"name\">file</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;/<span class=\"name\">log</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">threadPool</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">threadsCountMax</span>&gt;</span>3<span class=\"tag\">&lt;/<span class=\"name\">threadsCountMax</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- 0 = auto --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">fBindToCPU</span>&gt;</span>yes<span class=\"tag\">&lt;/<span class=\"name\">fBindToCPU</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- Bind threads to CPUs. --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">fCacheGetTimeSyscall</span>&gt;</span>yes<span class=\"tag\">&lt;/<span class=\"name\">fCacheGetTimeSyscall</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- Cache gettime() syscalls.. --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">timerGranularity</span>&gt;</span>100<span class=\"tag\">&lt;/<span class=\"name\">timerGranularity</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- 1/1000 sec --&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;/<span class=\"name\">threadPool</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">systemResourceLimits</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- &quot;unlimited&quot;  - value valid only in this section! --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">maxOpenFiles</span>&gt;</span>8192<span class=\"tag\">&lt;/<span class=\"name\">maxOpenFiles</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- Numbers only! --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">maxCoreFileSize</span>&gt;</span>unlimited<span class=\"tag\">&lt;/<span class=\"name\">maxCoreFileSize</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">maxMemLock</span>&gt;</span>unlimited<span class=\"tag\">&lt;/<span class=\"name\">maxMemLock</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">processPriority</span>&gt;</span>-10<span class=\"tag\">&lt;/<span class=\"name\">processPriority</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- Program scheduling priority. setpriority(). Hi: -20, Low: 20, Default: 0 --&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;/<span class=\"name\">systemResourceLimits</span>&gt;</span></span><br><span class=\"line\">   <span class=\"comment\">&lt;!-- HTTP server --&gt;</span></span><br><span class=\"line\">   <span class=\"comment\">&lt;!-- Sizes in kb, time in seconds --&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">HTTP</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- HTTP server settings. --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">skt</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Defaults for all bindings. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">backlog</span>&gt;</span>-1<span class=\"tag\">&lt;/<span class=\"name\">backlog</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">rcvBuf</span>&gt;</span>0<span class=\"tag\">&lt;/<span class=\"name\">rcvBuf</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">sndBuf</span>&gt;</span>0<span class=\"tag\">&lt;/<span class=\"name\">sndBuf</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">rcvTimeout</span>&gt;</span>30<span class=\"tag\">&lt;/<span class=\"name\">rcvTimeout</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">sndTimeout</span>&gt;</span>30<span class=\"tag\">&lt;/<span class=\"name\">sndTimeout</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">fKeepAlive</span>&gt;</span>no<span class=\"tag\">&lt;/<span class=\"name\">fKeepAlive</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">keepAliveIDLEtime</span>&gt;</span>0<span class=\"tag\">&lt;/<span class=\"name\">keepAliveIDLEtime</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">keepAliveProbesInterval</span>&gt;</span>0<span class=\"tag\">&lt;/<span class=\"name\">keepAliveProbesInterval</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">keepAliveNumberOfProbes</span>&gt;</span>0<span class=\"tag\">&lt;/<span class=\"name\">keepAliveNumberOfProbes</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">congestionControl</span> /&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- TCP_CONGESTION: replace congestion control from OS default --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">skt</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">ioBufInitSize</span>&gt;</span>4<span class=\"tag\">&lt;/<span class=\"name\">ioBufInitSize</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- HTTP request receive buf initial size. --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">ioBufMaxSize</span>&gt;</span>4<span class=\"tag\">&lt;/<span class=\"name\">ioBufMaxSize</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- HTTP request receive max buf size. --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">bindList</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">bind</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- All possible bind settings example. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">backlog</span>&gt;</span>1024<span class=\"tag\">&lt;/<span class=\"name\">backlog</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">rcvBuf</span>&gt;</span>4<span class=\"tag\">&lt;/<span class=\"name\">rcvBuf</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">sndBuf</span>&gt;</span>256<span class=\"tag\">&lt;/<span class=\"name\">sndBuf</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">rcvTimeout</span>&gt;</span>30<span class=\"tag\">&lt;/<span class=\"name\">rcvTimeout</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">sndTimeout</span>&gt;</span>30<span class=\"tag\">&lt;/<span class=\"name\">sndTimeout</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">fKeepAlive</span>&gt;</span>yes<span class=\"tag\">&lt;/<span class=\"name\">fKeepAlive</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">keepAliveIDLEtime</span>&gt;</span>600<span class=\"tag\">&lt;/<span class=\"name\">keepAliveIDLEtime</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">keepAliveProbesInterval</span>&gt;</span>8<span class=\"tag\">&lt;/<span class=\"name\">keepAliveProbesInterval</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">keepAliveNumberOfProbes</span>&gt;</span>4<span class=\"tag\">&lt;/<span class=\"name\">keepAliveNumberOfProbes</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">congestionControl</span>&gt;</span>htcp<span class=\"tag\">&lt;/<span class=\"name\">congestionControl</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- TCP_CONGESTION: replace congestion control from OS default --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">address</span>&gt;</span>192.168.1.1:7088<span class=\"tag\">&lt;/<span class=\"name\">address</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">ifName</span>&gt;</span>vlan777<span class=\"tag\">&lt;/<span class=\"name\">ifName</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Get IP address and replace in &#x27;address&#x27; before bind. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">hostnameList</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Host names for this bind. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">hostname</span>&gt;</span>megahost.sample<span class=\"tag\">&lt;/<span class=\"name\">hostname</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">hostnameList</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">bind</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">bind</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">address</span>&gt;</span>0.0.0.0:7088<span class=\"tag\">&lt;/<span class=\"name\">address</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">bind</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">bind</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">address</span>&gt;</span>0.0.0.0:40788<span class=\"tag\">&lt;/<span class=\"name\">address</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">bind</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">bind</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">address</span>&gt;</span>[::]:7088<span class=\"tag\">&lt;/<span class=\"name\">address</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">bind</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">bind</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">address</span>&gt;</span>[::1]:7088<span class=\"tag\">&lt;/<span class=\"name\">address</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">hostnameList</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Host names for this bind. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">hostname</span>&gt;</span>localhost<span class=\"tag\">&lt;/<span class=\"name\">hostname</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">hostnameList</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">bind</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">bind</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">address</span>&gt;</span>127.0.0.1:7088<span class=\"tag\">&lt;/<span class=\"name\">address</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">hostnameList</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Host names for this bind. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">hostname</span>&gt;</span>localhost<span class=\"tag\">&lt;/<span class=\"name\">hostname</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">hostnameList</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">bind</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">bindList</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">hostnameList</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Host names for all bindings. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">hostname</span>&gt;</span>*<span class=\"tag\">&lt;/<span class=\"name\">hostname</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">hostname</span>&gt;</span>netlab.linkpc.net<span class=\"tag\">&lt;/<span class=\"name\">hostname</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">hostname</span>&gt;</span>www.netlab.linkpc.net<span class=\"tag\">&lt;/<span class=\"name\">hostname</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">hostname</span>&gt;</span>netlab.dhis.org<span class=\"tag\">&lt;/<span class=\"name\">hostname</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">hostname</span>&gt;</span>net-lab.slyip.net<span class=\"tag\">&lt;/<span class=\"name\">hostname</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">hostnameList</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;/<span class=\"name\">HTTP</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">limits</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- Client params limits (from http request args). --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">precacheMin</span>&gt;</span>0<span class=\"tag\">&lt;/<span class=\"name\">precacheMin</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- No less than StreamHUB/skt/rcvLoWatermark, def: 0 --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">precacheMax</span>&gt;</span>8192<span class=\"tag\">&lt;/<span class=\"name\">precacheMax</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- max/def: StreamHUB/ringBufSize --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">sndBlockSizeMin</span>&gt;</span>32<span class=\"tag\">&lt;/<span class=\"name\">sndBlockSizeMin</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- Min send block size. --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">sndBlockSizeMax</span>&gt;</span>512<span class=\"tag\">&lt;/<span class=\"name\">sndBlockSizeMax</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- Max send block size. --&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;/<span class=\"name\">limits</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">hubProfileList</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- Stream hub profiles templates. --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">hubProfile</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>default<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">fPrecacheWait</span>&gt;</span>no<span class=\"tag\">&lt;/<span class=\"name\">fPrecacheWait</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- For new clients: wait untill data in ring buf less than client want to receive in first time. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">fDropSlowClients</span>&gt;</span>yes<span class=\"tag\">&lt;/<span class=\"name\">fDropSlowClients</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Disconnect slow clients. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">fUsePollingForSend</span>&gt;</span>yes<span class=\"tag\">&lt;/<span class=\"name\">fUsePollingForSend</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Add lagged client socket descriptor to OS io polling (kqueue/epoll). --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">fZeroCopyOnSend</span>&gt;</span>no<span class=\"tag\">&lt;/<span class=\"name\">fZeroCopyOnSend</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Enable Zero Copy on send to clients. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">fZeroSrcBitratePersistent</span>&gt;</span>no<span class=\"tag\">&lt;/<span class=\"name\">fZeroSrcBitratePersistent</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Do not destroy hub if no data received from all sources. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">fZeroCliPersistent</span>&gt;</span>no<span class=\"tag\">&lt;/<span class=\"name\">fZeroCliPersistent</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Do not destroy hub if no connected clients, othertwice self destroy after zeroCliTimeout seconds. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">zeroCliTimeout</span>&gt;</span>60<span class=\"tag\">&lt;/<span class=\"name\">zeroCliTimeout</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Time to destroy hub if no connected clients. Ignored if fZeroCliPersistent set. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">skt</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Client socket tunings. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">sndBuf</span>&gt;</span>1024<span class=\"tag\">&lt;/<span class=\"name\">sndBuf</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Max send block size, apply to clients sockets only, must be &gt; rcvLoWatermark. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">sndLoWatermark</span>&gt;</span>64<span class=\"tag\">&lt;/<span class=\"name\">sndLoWatermark</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Default send block size. Can be overwritten by arg from user request. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">sndTimeout</span>&gt;</span>30<span class=\"tag\">&lt;/<span class=\"name\">sndTimeout</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Send data to client timeout. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">fHalfClosedRcv</span>&gt;</span>no<span class=\"tag\">&lt;/<span class=\"name\">fHalfClosedRcv</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Enable shutdown(SHUT_RD) for clients. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">fTCPNoDelay</span>&gt;</span>no<span class=\"tag\">&lt;/<span class=\"name\">fTCPNoDelay</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Enable TCP_NODELAY for clients. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">fTCPNoPush</span>&gt;</span>no<span class=\"tag\">&lt;/<span class=\"name\">fTCPNoPush</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Enable TCP_NOPUSH / TCP_CORK for clients. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">congestionControl</span>&gt;</span>htcp<span class=\"tag\">&lt;/<span class=\"name\">congestionControl</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- TCP_CONGESTION: this value replace/overwrite(!) all others cc settings: cc from http req args, http server settings, OS default --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">skt</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">precache</span>&gt;</span>4096<span class=\"tag\">&lt;/<span class=\"name\">precache</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Default pre cache size. Can be overwritten by arg from user request. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">headersList</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Custom HTTP headers (sended before stream). --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">header</span>&gt;</span>Pragma: no-cache<span class=\"tag\">&lt;/<span class=\"name\">header</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">header</span>&gt;</span>Content-Type: video/mpeg<span class=\"tag\">&lt;/<span class=\"name\">header</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">header</span>&gt;</span>ContentFeatures.DLNA.ORG: DLNA.ORG_OP=01;DLNA.ORG_CI=0;DLNA.ORG_FLAGS=01700000000000000000000000000000<span class=\"tag\">&lt;/<span class=\"name\">header</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">header</span>&gt;</span>TransferMode.DLNA.ORG: Streaming<span class=\"tag\">&lt;/<span class=\"name\">header</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">headersList</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">HLS</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- HLS settings. Require fMPEG2TSAnalyzing on sources. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">fEnable</span>&gt;</span>yes<span class=\"tag\">&lt;/<span class=\"name\">fEnable</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">targetDuration</span>&gt;</span>5<span class=\"tag\">&lt;/<span class=\"name\">targetDuration</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- EXT-X-TARGETDURATION. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">HLS</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">sourceProfile</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Defaults for all sources. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">MPEG2TS</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Overwrite hub param same name flag if set. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">fEnable</span>&gt;</span>yes<span class=\"tag\">&lt;/<span class=\"name\">fEnable</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Enable MPEG2-TS analyzer. Overwrite hub param same name flag if set. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">filterPIDList</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>reset<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"comment\">&lt;!-- Clear PIDs filtering list. --&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>16<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"comment\">&lt;!-- Drop NIT PID. --&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>17<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"comment\">&lt;!-- Drop SDT PID. --&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>18<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"comment\">&lt;!-- Drop EIT PID. --&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>null<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"comment\">&lt;!-- = 8191 Drop NULL PID. --&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>unknown<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"comment\">&lt;!-- Drop all unknown PIDs. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;/<span class=\"name\">filterPIDList</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">MPEG2TS</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">ringBufSize</span>&gt;</span>65536<span class=\"tag\">&lt;/<span class=\"name\">ringBufSize</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Stream receive ring buffer size. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">ringBufStorePath</span>&gt;</span>shm<span class=\"tag\">&lt;/<span class=\"name\">ringBufStorePath</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Only if fZeroCopyOnSend set. Path to store file with ring buf. &quot;shm&quot; = use posix shared memory. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">errorRateInterval</span>&gt;</span>60<span class=\"tag\">&lt;/<span class=\"name\">errorRateInterval</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Error rate calculation interval. Work only if fMPEG2TSAnalyzing set. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">errorRateMax</span>&gt;</span>10<span class=\"tag\">&lt;/<span class=\"name\">errorRateMax</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Error rate max value before change source status to: STREAM_ERRORS. Work only if fMPEG2TSAnalyzing set. overwrite all sources same name value if set to nonzero. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">skt</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">rcvBuf</span>&gt;</span>1024<span class=\"tag\">&lt;/<span class=\"name\">rcvBuf</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Socket recv buf size. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">rcvLoWatermark</span>&gt;</span>48<span class=\"tag\">&lt;/<span class=\"name\">rcvLoWatermark</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Actual cli_snd_block_min if polling is off. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">rcvTimeout</span>&gt;</span>10<span class=\"tag\">&lt;/<span class=\"name\">rcvTimeout</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- STATUS, recv timeout. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">fHalfClosedSnd</span>&gt;</span>no<span class=\"tag\">&lt;/<span class=\"name\">fHalfClosedSnd</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Enable shutdown(SHUT_WR) for clients. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">skt</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">sourceProfile</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">hubProfile</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">hubProfile</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>default-HD<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">fPrecacheWait</span>&gt;</span>no<span class=\"tag\">&lt;/<span class=\"name\">fPrecacheWait</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- For new clients: wait untill data in ring buf less than client want to receive in first time. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">fDropSlowClients</span>&gt;</span>yes<span class=\"tag\">&lt;/<span class=\"name\">fDropSlowClients</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Disconnect slow clients. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">fUsePollingForSend</span>&gt;</span>yes<span class=\"tag\">&lt;/<span class=\"name\">fUsePollingForSend</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Add lagged client socket descriptor to OS io polling (kqueue/epoll). --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">fZeroCopyOnSend</span>&gt;</span>no<span class=\"tag\">&lt;/<span class=\"name\">fZeroCopyOnSend</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Enable Zero Copy on send to clients. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">fZeroSrcBitratePersistent</span>&gt;</span>no<span class=\"tag\">&lt;/<span class=\"name\">fZeroSrcBitratePersistent</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Do not destroy hub if no data received from all sources. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">fZeroCliPersistent</span>&gt;</span>no<span class=\"tag\">&lt;/<span class=\"name\">fZeroCliPersistent</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Do not destroy hub if no connected clients, othertwice self destroy after zeroCliTimeout seconds. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">zeroCliTimeout</span>&gt;</span>60<span class=\"tag\">&lt;/<span class=\"name\">zeroCliTimeout</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Time to destroy hub if no connected clients. Ignored if fZeroCliPersistent set. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">skt</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Client socket tunings. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">sndBuf</span>&gt;</span>1024<span class=\"tag\">&lt;/<span class=\"name\">sndBuf</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Max send block size, apply to clients sockets only, must be &gt; rcvLoWatermark. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">sndLoWatermark</span>&gt;</span>64<span class=\"tag\">&lt;/<span class=\"name\">sndLoWatermark</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Default send block size. Can be overwritten by arg from user request. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">sndTimeout</span>&gt;</span>30<span class=\"tag\">&lt;/<span class=\"name\">sndTimeout</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Send data to client timeout. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">fHalfClosedRcv</span>&gt;</span>no<span class=\"tag\">&lt;/<span class=\"name\">fHalfClosedRcv</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Enable shutdown(SHUT_RD) for clients. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">fTCPNoDelay</span>&gt;</span>no<span class=\"tag\">&lt;/<span class=\"name\">fTCPNoDelay</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Enable TCP_NODELAY for clients. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">fTCPNoPush</span>&gt;</span>no<span class=\"tag\">&lt;/<span class=\"name\">fTCPNoPush</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Enable TCP_NOPUSH / TCP_CORK for clients. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">congestionControl</span>&gt;</span>htcp<span class=\"tag\">&lt;/<span class=\"name\">congestionControl</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- TCP_CONGESTION: this value replace/overwrite(!) all others cc settings: cc from http req args, http server settings, OS default --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">skt</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">precache</span>&gt;</span>8192<span class=\"tag\">&lt;/<span class=\"name\">precache</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Default pre cache size. Can be overwritten by arg from user request. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">headersList</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Custom HTTP headers (sended before stream). --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">header</span>&gt;</span>Pragma: no-cache<span class=\"tag\">&lt;/<span class=\"name\">header</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">header</span>&gt;</span>Content-Type: video/mpeg<span class=\"tag\">&lt;/<span class=\"name\">header</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">header</span>&gt;</span>ContentFeatures.DLNA.ORG: DLNA.ORG_OP=01;DLNA.ORG_CI=0;DLNA.ORG_FLAGS=01700000000000000000000000000000<span class=\"tag\">&lt;/<span class=\"name\">header</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">header</span>&gt;</span>TransferMode.DLNA.ORG: Streaming<span class=\"tag\">&lt;/<span class=\"name\">header</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">headersList</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">sourceProfile</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Defaults for all sources. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">MPEG2TS</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Overwrite hub param same name flag if set. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">fEnable</span>&gt;</span>yes<span class=\"tag\">&lt;/<span class=\"name\">fEnable</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Enable MPEG2-TS analyzer. Overwrite hub param same name flag if set. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">filterPIDList</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>reset<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"comment\">&lt;!-- Clear PIDs filtering list. --&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>16<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"comment\">&lt;!-- Drop NIT PID. --&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>17<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"comment\">&lt;!-- Drop SDT PID. --&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>18<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"comment\">&lt;!-- Drop EIT PID. --&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>null<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"comment\">&lt;!-- = 8191 Drop NULL PID. --&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>unknown<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"comment\">&lt;!-- Drop all unknown PIDs. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;/<span class=\"name\">filterPIDList</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">MPEG2TS</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">ringBufSize</span>&gt;</span>131072<span class=\"tag\">&lt;/<span class=\"name\">ringBufSize</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Stream receive ring buffer size. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">ringBufStorePath</span>&gt;</span>shm<span class=\"tag\">&lt;/<span class=\"name\">ringBufStorePath</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Only if fZeroCopyOnSend set. Path to store file with ring buf. &quot;shm&quot; = use posix shared memory. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">errorRateInterval</span>&gt;</span>60<span class=\"tag\">&lt;/<span class=\"name\">errorRateInterval</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Error rate calculation interval. Work only if fMPEG2TSAnalyzing set. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">errorRateMax</span>&gt;</span>10<span class=\"tag\">&lt;/<span class=\"name\">errorRateMax</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Error rate max value before change source status to: STREAM_ERRORS. Work only if fMPEG2TSAnalyzing set. overwrite all sources same name value if set to nonzero. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">skt</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">rcvBuf</span>&gt;</span>1024<span class=\"tag\">&lt;/<span class=\"name\">rcvBuf</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Socket recv buf size. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">rcvLoWatermark</span>&gt;</span>48<span class=\"tag\">&lt;/<span class=\"name\">rcvLoWatermark</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Actual cli_snd_block_min if polling is off. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">rcvTimeout</span>&gt;</span>10<span class=\"tag\">&lt;/<span class=\"name\">rcvTimeout</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- STATUS, recv timeout. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">fHalfClosedSnd</span>&gt;</span>no<span class=\"tag\">&lt;/<span class=\"name\">fHalfClosedSnd</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Enable shutdown(SHUT_WR) for clients. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">skt</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">sourceProfile</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">hubProfile</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;/<span class=\"name\">hubProfileList</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">sourceProfileList</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- Stream source profiles templates. --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">sourceProfile</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>multicast-udp-default<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">MPEG2TS</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Overwrite hub param same name flag if set. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">fEnable</span>&gt;</span>yes<span class=\"tag\">&lt;/<span class=\"name\">fEnable</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Enable MPEG2-TS analyzer. Overwrite hub param same name flag if set. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">filterPIDList</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>reset<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Clear PIDs filtering list. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>16<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Drop NIT PID. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>17<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Drop SDT PID. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>18<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Drop EIT PID. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>null<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- = 8191 Drop NULL PID. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>unknown<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Drop all unknown PIDs. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">filterPIDList</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">MPEG2TS</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">ringBufSize</span>&gt;</span>32768<span class=\"tag\">&lt;/<span class=\"name\">ringBufSize</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Stream receive ring buffer size. Overwrite hub params same name value if set. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">ringBufStorePath</span>&gt;</span>shm<span class=\"tag\">&lt;/<span class=\"name\">ringBufStorePath</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Only if fZeroCopyOnSend set. Path to store file with ring buf. &quot;shm&quot; = use posix shared memory. Overwrite hub params same name value if set. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">errorRateInterval</span>&gt;</span>60<span class=\"tag\">&lt;/<span class=\"name\">errorRateInterval</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Error rate calculation interval. Work only if fMPEG2TSAnalyzing set. Overwrite hub params same name value if set o. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">errorRateMax</span>&gt;</span>10<span class=\"tag\">&lt;/<span class=\"name\">errorRateMax</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Error rate max value before change source status to: STREAM_ERRORS. Work only if fMPEG2TSAnalyzing set. Overwrite hub params same name value if set. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">skt</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">rcvBuf</span>&gt;</span>1024<span class=\"tag\">&lt;/<span class=\"name\">rcvBuf</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Socket recv buf size. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">rcvLoWatermark</span>&gt;</span>48<span class=\"tag\">&lt;/<span class=\"name\">rcvLoWatermark</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Actual cli_snd_block_min if polling is off. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">rcvTimeout</span>&gt;</span>10<span class=\"tag\">&lt;/<span class=\"name\">rcvTimeout</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- STATUS,  recv timeout. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">fHalfClosedSnd</span>&gt;</span>no<span class=\"tag\">&lt;/<span class=\"name\">fHalfClosedSnd</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Enable shutdown(SHUT_WR) for clients. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">skt</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Source connection specific info. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">udp</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- For: udp, udp-rtp, multicast-udp and multicast-udp-rtp. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">address</span>&gt;</span>239.0.0.22:1234<span class=\"tag\">&lt;/<span class=\"name\">address</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">udp</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">multicast</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- For: multicast-udp and multicast-udp-rtp. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">ifName</span>&gt;</span>lan0<span class=\"tag\">&lt;/<span class=\"name\">ifName</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- For multicast receive. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">multicast</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">sourceProfile</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">sourceProfile</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>tcp-http-default<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">MPEG2TS</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Overwrite hub param same name flag if set. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">fEnable</span>&gt;</span>yes<span class=\"tag\">&lt;/<span class=\"name\">fEnable</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Enable MPEG2-TS analyzer. Overwrite hub param same name flag if set. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">filterPIDList</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>reset<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Clear PIDs filtering list. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>16<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Drop NIT PID. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>17<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Drop SDT PID. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>18<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Drop EIT PID. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>null<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- = 8191 Drop NULL PID. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>unknown<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Drop all unknown PIDs. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">filterPIDList</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">MPEG2TS</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">ringBufSize</span>&gt;</span>32768<span class=\"tag\">&lt;/<span class=\"name\">ringBufSize</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Stream receive ring buffer size. Overwrite hub params same name value if set. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">ringBufStorePath</span>&gt;</span>shm<span class=\"tag\">&lt;/<span class=\"name\">ringBufStorePath</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Only if fZeroCopyOnSend set. Path to store file with ring buf. &quot;shm&quot; = use posix shared memory. Overwrite hub params same name value if set. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">errorRateInterval</span>&gt;</span>60<span class=\"tag\">&lt;/<span class=\"name\">errorRateInterval</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Error rate calculation interval. Work only if fMPEG2TSAnalyzing set. Overwrite hub params same name value if set o. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">errorRateMax</span>&gt;</span>10<span class=\"tag\">&lt;/<span class=\"name\">errorRateMax</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Error rate max value before change source status to: STREAM_ERRORS. Work only if fMPEG2TSAnalyzing set. Overwrite hub params same name value if set. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">skt</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">rcvBuf</span>&gt;</span>1024<span class=\"tag\">&lt;/<span class=\"name\">rcvBuf</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Socket recv buf size. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">rcvLoWatermark</span>&gt;</span>48<span class=\"tag\">&lt;/<span class=\"name\">rcvLoWatermark</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Actual cli_snd_block_min if polling is off. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">rcvTimeout</span>&gt;</span>30<span class=\"tag\">&lt;/<span class=\"name\">rcvTimeout</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- STATUS,  recv timeout. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">fHalfClosedSnd</span>&gt;</span>no<span class=\"tag\">&lt;/<span class=\"name\">fHalfClosedSnd</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Enable shutdown(SHUT_WR) for clients. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">skt</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Source connection specific info. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">tcp</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- For: tcp- and tcp-http. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">remonteHostname</span>&gt;</span>93.95.99.231:9500<span class=\"tag\">&lt;/<span class=\"name\">remonteHostname</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">connectTimeout</span>&gt;</span>5<span class=\"tag\">&lt;/<span class=\"name\">connectTimeout</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Connect timeout. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">reconnectInterval</span>&gt;</span>5<span class=\"tag\">&lt;/<span class=\"name\">reconnectInterval</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Retry connect delay. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">reconnectCount</span>&gt;</span>4294967295<span class=\"tag\">&lt;/<span class=\"name\">reconnectCount</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Retry count. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">tcp</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">http</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">urlPath</span>&gt;</span>http/93.95.99.231:9500/udp/234.1.1.26:10000<span class=\"tag\">&lt;/<span class=\"name\">urlPath</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">headersList</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Custom HTTP headers for request. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">header</span>&gt;</span>Accept: */*<span class=\"tag\">&lt;/<span class=\"name\">header</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">header</span>&gt;</span>User-Agent: NSPlayer/7.10.0.3059<span class=\"tag\">&lt;/<span class=\"name\">header</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">header</span>&gt;</span>getcontentFeatures.dlna.org: 1<span class=\"tag\">&lt;/<span class=\"name\">header</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">headersList</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">http</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">sourceProfile</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;/<span class=\"name\">sourceProfileList</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">streamProxy</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- Auto generated stream hubs from user request. --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">multicast</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">fEnable</span>&gt;</span>yes<span class=\"tag\">&lt;/<span class=\"name\">fEnable</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">hubProfileName</span>&gt;</span>default<span class=\"tag\">&lt;/<span class=\"name\">hubProfileName</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Profile template. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">sourceProfileName</span>&gt;</span>multicast-udp-default<span class=\"tag\">&lt;/<span class=\"name\">sourceProfileName</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Profile template. --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">multicast</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">http</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">fEnable</span>&gt;</span>yes<span class=\"tag\">&lt;/<span class=\"name\">fEnable</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">hubProfileName</span>&gt;</span>default<span class=\"tag\">&lt;/<span class=\"name\">hubProfileName</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Profile template. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">sourceProfileName</span>&gt;</span>tcp-http-default<span class=\"tag\">&lt;/<span class=\"name\">sourceProfileName</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Profile template. --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">http</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">transparent</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Like HTTP, but &#x27;host&#x27; header point to other host. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">fEnable</span>&gt;</span>yes<span class=\"tag\">&lt;/<span class=\"name\">fEnable</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">hubProfileName</span>&gt;</span>default<span class=\"tag\">&lt;/<span class=\"name\">hubProfileName</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Profile template. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">sourceProfileName</span>&gt;</span>tcp-http-default<span class=\"tag\">&lt;/<span class=\"name\">sourceProfileName</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Profile template. --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">transparent</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;/<span class=\"name\">streamProxy</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">channelList</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">includeFile</span>&gt;</span>/home/rim/docs/Progs/msd/msd/conf/msd_channels.conf<span class=\"tag\">&lt;/<span class=\"name\">includeFile</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">c-hannel</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>Test1.ts<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Channel name, used in request: /channel/... . --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">hubProfileName</span>&gt;</span>default<span class=\"tag\">&lt;/<span class=\"name\">hubProfileName</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Profile template. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">precache</span>&gt;</span>8192<span class=\"tag\">&lt;/<span class=\"name\">precache</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">skt</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">sndBuf</span>&gt;</span>1024<span class=\"tag\">&lt;/<span class=\"name\">sndBuf</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Max send block size, apply to clients sockets only, must be &gt; rcvLoWatermark. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">skt</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">sourceList</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">source</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">type</span>&gt;</span>multicast-udp<span class=\"tag\">&lt;/<span class=\"name\">type</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">sourceProfileName</span>&gt;</span>multicast-udp-default<span class=\"tag\">&lt;/<span class=\"name\">sourceProfileName</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Profile template name. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">udp</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">address</span>&gt;</span>239.0.0.2:1234<span class=\"tag\">&lt;/<span class=\"name\">address</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;/<span class=\"name\">udp</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">multicast</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">ifName</span>&gt;</span>vlan777<span class=\"tag\">&lt;/<span class=\"name\">ifName</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;/<span class=\"name\">multicast</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">source</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">source</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">type</span>&gt;</span>multicast-udp<span class=\"tag\">&lt;/<span class=\"name\">type</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">sourceProfileName</span>&gt;</span>multicast-udp-default<span class=\"tag\">&lt;/<span class=\"name\">sourceProfileName</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Profile template name. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">udp</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">address</span>&gt;</span>239.0.0.3:1234<span class=\"tag\">&lt;/<span class=\"name\">address</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;/<span class=\"name\">udp</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">multicast</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">ifName</span>&gt;</span>vlan777<span class=\"tag\">&lt;/<span class=\"name\">ifName</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;/<span class=\"name\">multicast</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">source</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">source</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">type</span>&gt;</span>tcp-http<span class=\"tag\">&lt;/<span class=\"name\">type</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">sourceProfileName</span>&gt;</span>tcp-http-default<span class=\"tag\">&lt;/<span class=\"name\">sourceProfileName</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Profile template. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">tcp</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"comment\">&lt;!-- For: tcp- and tcp-http. --&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">remonteHostname</span>&gt;</span>93.95.99.231:9500<span class=\"tag\">&lt;/<span class=\"name\">remonteHostname</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;/<span class=\"name\">tcp</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">http</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">urlPath</span>&gt;</span>udp/234.1.1.26:10000<span class=\"tag\">&lt;/<span class=\"name\">urlPath</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;/<span class=\"name\">http</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">source</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">sourceList</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">c-hannel</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;/<span class=\"name\">channelList</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">msd</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>我设置修改的部分为(bro0.41 和 IP地址):</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">address</span>&gt;</span>192.168.6.115:7088<span class=\"tag\">&lt;/<span class=\"name\">address</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ifName</span>&gt;</span>bro0.41<span class=\"tag\">&lt;/<span class=\"name\">ifName</span>&gt;</span> <span class=\"comment\">&lt;!-- Get IP address and replace in &#x27;address&#x27; before bind. --&gt;</span></span><br></pre></td></tr></table></figure>\n\n\n\n<p>运行:  msd -c .&#x2F;msd.conf </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">admin@RT-AC86U-A4C8:/tmp/mnt/AC86U/entware/etc<span class=\"comment\"># msd -d -c ./msd.conf </span></span><br></pre></td></tr></table></figure>\n\n<p>运行日志:</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">admin@RT-AC86U-A4C8:/tmp/mnt/AC86U/entware/etc# cd /opt/var/log                                              </span><br><span class=\"line\">admin@RT-AC86U-A4C8:/tmp/mnt/AC86U/entware/var/log# ls                                                       </span><br><span class=\"line\">msd.log                                                                                                      </span><br><span class=\"line\">admin@RT-AC86U-A4C8:/tmp/mnt/AC86U/entware/var/log# cat msd.log                                              </span><br><span class=\"line\">                                                                                                             </span><br><span class=\"line\">                                                                                                             </span><br><span class=\"line\">                                                                                                             </span><br><span class=\"line\">                                                                                                             </span><br><span class=\"line\">[2024-09-28 13:48:57]: msd 3.01.0: started                                                                   </span><br><span class=\"line\">[2024-09-28 13:48:57]: Build: Jul 23 2024 11:34:57, Release                                                  </span><br><span class=\"line\">[2024-09-28 13:48:57]: CPU count: 2                                                                          </span><br><span class=\"line\">[2024-09-28 13:48:57]: descriptor table size: 1024 (max files)                                               </span><br><span class=\"line\">[2024-09-28 13:48:57]: Thread 1 started...                                                                   </span><br><span class=\"line\">[2024-09-28 13:48:57]: Bind thread 1 to CPU 1                                                                </span><br><span class=\"line\">[2024-09-28 13:48:57]: Thread 2 started...                                                                   </span><br><span class=\"line\">[2024-09-28 13:48:57]: hostname: *                                                                           </span><br><span class=\"line\">[2024-09-28 13:48:57]: hostname: netlab.linkpc.net                                                           </span><br><span class=\"line\">[2024-09-28 13:48:57]: hostname: www.netlab.linkpc.net                                                       </span><br><span class=\"line\">[2024-09-28 13:48:57]: hostname: netlab.dhis.org                                                             </span><br><span class=\"line\">[2024-09-28 13:48:57]: hostname: net-lab.slyip.net                                                           </span><br><span class=\"line\">[2024-09-28 13:48:57]: Bind thread 2 to CPU 0                                                                </span><br><span class=\"line\">[2024-09-28 13:48:57] http_srv_xml_load_bind, line 292: HTTP server: cant get addr for: bro0.41 - error 29: b</span><br><span class=\"line\">.slyip.net                                                                                                   </span><br><span class=\"line\">et                                                                                                           </span><br><span class=\"line\">                                                                                                             </span><br><span class=\"line\">[2024-09-28 13:48:57] http_srv_xml_load_start, line 348: http_srv_xml_load_bind() - error 29: h�_�           </span><br><span class=\"line\">[2024-09-28 13:48:57]: bind 0.0.0.0:7088, backlog = -1, tcp_cc =                                             </span><br><span class=\"line\">[2024-09-28 13:48:57]: bind 0.0.0.0:40788, backlog = -1, tcp_cc =                                            </span><br><span class=\"line\">[2024-09-28 13:48:57]: bind [:]:7088, backlog = -1, tcp_cc =                                                 </span><br><span class=\"line\">[2024-09-28 13:48:57]: hostname: localhost                                                                   </span><br><span class=\"line\">[2024-09-28 13:48:57] http_srv_bind_add, line 629: err_out - error 99: ��&lt;�U                                 </span><br><span class=\"line\">[2024-09-28 13:48:57] http_srv_xml_load_start, line 361: http_srv_bind_add(): [::]:7088, backlog = -1, tcp_cc</span><br><span class=\"line\"> =  - error 99: ȇ��גӛ��_�                                                                                    </span><br><span class=\"line\">[2024-09-28 13:48:57]: hostname: localhost                                                                   </span><br><span class=\"line\">[2024-09-28 13:48:57]: bind 127.0.0.1:7088, backlog = -1, tcp_cc =                                           </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 198: Try to add filtering PID 17, mem=0, count=0      </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 209: Added filtering PID 17, mem=55c23ce6e0, count=1  </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 198: Try to add filtering PID 18, mem=55c23ce6e0, coun</span><br><span class=\"line\">t=1                                                                                                          </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 209: Added filtering PID 18, mem=55c23ce6e0, count=2  </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_settings_copy, line 231: mem=55c23ce6e0, count=2                              </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 198: Try to add filtering PID 17, mem=55c23ceb30, coun</span><br><span class=\"line\">t=0                                                                                                          </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 209: Added filtering PID 17, mem=55c23ceb30, count=1  </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 198: Try to add filtering PID 18, mem=55c23ceb30, coun</span><br><span class=\"line\">t=1                                                                                                          </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 209: Added filtering PID 18, mem=55c23ceb30, count=2  </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 198: Try to add filtering PID 17, mem=0, count=0      </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 209: Added filtering PID 17, mem=55c23cec20, count=1  </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 198: Try to add filtering PID 18, mem=55c23cec20, coun</span><br><span class=\"line\">t=1                                                                                                          </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 209: Added filtering PID 18, mem=55c23cec20, count=2  </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_settings_copy, line 231: mem=55c23cec20, count=2                              </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 198: Try to add filtering PID 17, mem=55c23cec40, coun</span><br><span class=\"line\">t=0                                                                                                          </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 209: Added filtering PID 17, mem=55c23cec40, count=1  </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 198: Try to add filtering PID 18, mem=55c23cec40, coun</span><br><span class=\"line\">t=1                                                                                                          </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 209: Added filtering PID 18, mem=55c23cec40, count=2  </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 198: Try to add filtering PID 17, mem=0, count=0      </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 209: Added filtering PID 17, mem=55c23ced90, count=1  </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 198: Try to add filtering PID 18, mem=55c23ced90, coun</span><br><span class=\"line\">t=1                                                                                                          </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 209: Added filtering PID 18, mem=55c23ced90, count=2  </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_settings_copy, line 231: mem=55c23ced90, count=2                              </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 198: Try to add filtering PID 17, mem=55c23cedb0, coun</span><br><span class=\"line\">t=0                                                                                                          </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 209: Added filtering PID 17, mem=55c23cedb0, count=1  </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 198: Try to add filtering PID 18, mem=55c23cedb0, coun</span><br><span class=\"line\">t=1                                                                                                          </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 209: Added filtering PID 18, mem=55c23cedb0, count=2  </span><br><span class=\"line\">[2024-09-28 13:48:57]: Thread 0 started...                                                                   </span><br><span class=\"line\">[2024-09-28 13:48:57]: Bind thread 0 to CPU 0                                                                </span><br><span class=\"line\">[2024-09-28 13:48:57]: Load channels: from main config.                                                      </span><br><span class=\"line\">[2024-09-28 13:48:57]: Load channels: from included configs.                                                 </span><br><span class=\"line\">[2024-09-28 13:48:57]: Load channels: from &quot;/home/rim/docs/Progs/msd/msd/conf/msd_channels.conf&quot;             </span><br><span class=\"line\">[2024-09-28 13:48:57] msd_load_timer_cb, line 475: Load channels: FAIL from &quot;/home/rim/docs/Progs/msd/msd/con</span><br><span class=\"line\">f/msd_channels.conf&quot; - error 2: ȇ��גӛ��_�                                                                    </span><br><span class=\"line\">[2024-09-28 13:49:24]: error: no http header, client ip: 192.168.6.221:53758                                 </span><br><span class=\"line\">[2024-09-28 13:50:38] mpeg2_ts_settings_copy, line 231: mem=55c23ceb30, count=2                              </span><br><span class=\"line\">[2024-09-28 13:50:38]: /udp/239.3.1.241:8000@: Created.                                                      </span><br><span class=\"line\">[2024-09-28 13:50:38] mpeg2_ts_settings_copy, line 231: mem=55c23ce6e0, count=2                              </span><br><span class=\"line\">[2024-09-28 13:50:38] mpeg2_ts_settings_copy, line 231: mem=7fa4001ad0, count=2                              </span><br><span class=\"line\">[2024-09-28 13:50:38] mpeg2_ts_settings_copy, line 231: mem=7fac001ab0, count=2                              </span><br><span class=\"line\">[2024-09-28 13:50:38]: /udp/239.3.1.241:8000@ - 0/0: waiting for data [0: OK ]...                            </span><br><span class=\"line\">[2024-09-28 13:50:38]: /udp/239.3.1.241:8000@ - 192.168.6.221:53843: attached, cli_count = 1                 </span><br><span class=\"line\">[2024-09-28 13:50:38]: /udp/239.3.1.241:8000@ - 1/1: running [0: OK ]...                                     </span><br><span class=\"line\">[2024-09-28 13:51:04]: Thread 1 exited...                                                                    </span><br><span class=\"line\">[2024-09-28 13:51:04]: Thread 0 exited...                                                                    </span><br><span class=\"line\">[2024-09-28 13:51:04]: /udp/239.3.1.241:8000@ - 192.168.6.221:53843: deattached, cli_count = 0               </span><br><span class=\"line\">[2024-09-28 13:51:04]: /udp/239.3.1.241:8000@: Destroyed.                                                    </span><br><span class=\"line\">[2024-09-28 13:51:04]: exiting.  </span><br></pre></td></tr></table></figure>\n\n<p>本章节鸣谢: <a href=\"https://www.right.com.cn/forum/thread-8344786-1-1.html\">梅林固件下使用msdlite求助</a></p>\n<p>中继K2P</p>\n<p>中继成功, 但无DHCP功能, 导致客户端无法自动获取IP地址</p>\n<h2 id=\"frpc-内网穿透管理AC86U\"><a href=\"#frpc-内网穿透管理AC86U\" class=\"headerlink\" title=\"frpc 内网穿透管理AC86U\"></a>frpc 内网穿透管理AC86U</h2><p>修改了frpc在群晖中的设置, 从原来的源头192.168.6.243 到现在的 192.168.6.115; 需要进群晖管理界面, 呼叫出:任务管理器, 然后看到之前的 frpc进程, 然后先kill掉, 重新在运行起来:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">nohup</span> /usr/local/frp/frpc -c /usr/local/frp/frpc.ini &gt;/dev/null 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure>\n\n\n\n<p><a href=\"http://127.0.0.1:22224/Main_Login.asp\">http://127.0.0.1:22224/Main_Login.asp</a></p>\n<p>admin:00000</p>\n<h2 id=\"AC86U做AP不定时失效\"><a href=\"#AC86U做AP不定时失效\" class=\"headerlink\" title=\"AC86U做AP不定时失效\"></a>AC86U做AP不定时失效</h2><p>失效原因未知; 当前的WIFI用户不受影响, 但是新的手机等无法连接到这个AP的WIFI点.</p>\n<p>解决办法: AP 每天重启 AC86U</p>\n<p>同时设置了NAS中定时任务, 重启 supervisorctl restart ffmpeg</p>\n","more":"<div> \n<button onclick=\"synthesizeSpeech()\">朗读全文</button>\n</div>\n<audio controls id=\"audioPlayer\">Your browser does not support the audio element.</audio>      \n<script>\n  function synthesizeSpeech() { \n    var inputText = document.getElementsByClassName('post-block')[0].innerText;\n    var voice = \"ZH\";\n    var url = 'https://tts.carlzeng.com:3/speech?text=' + encodeURIComponent(inputText.substring(0,3000)) + '&voice=' + voice;\n    var audioPlayer = document.getElementById('audioPlayer');          \n    audioPlayer.src = url;\n    audioPlayer.load();\n    audioPlayer.play();\n  }\n</script>\n\n\n<h1 id=\"有什么用-怎么用\"><a href=\"#有什么用-怎么用\" class=\"headerlink\" title=\"有什么用&#x2F;怎么用\"></a>有什么用&#x2F;怎么用</h1><p>本文仅围绕着有限的硬件投入情况下, 如何扩大WIFI信号覆盖范围&#x2F;面积. 抛砖引玉, 如果您有更好的方案, 请大方地留言告诉我, 提前感谢</p>\n<h2 id=\"需求\"><a href=\"#需求\" class=\"headerlink\" title=\"需求:\"></a>需求:</h2><p>当无法使用网线将室外或远程的AP连接起来时, 假如没有无线网桥的硬件环境下,</p>\n<p>这时可以使用多个K2P将型号从上游K2P中继到远端的K2P, 这样可以轻松实现(仅需电源)WIFI信号的拓展覆盖(增加WIFI信号的覆盖面积)</p>\n<p>应用场景, 比如: 需要将WIFI信号覆盖到楼下的区域, 不管是小区还是自建楼, 在没有提前布线预留的情况下, 将可上网的WIFI覆盖到楼下更广阔的区域. 这样方便了在WIFI覆盖范围内无缝地使用上游路由器网络内的全部应用.</p>\n<p>记录一下, 方面下一次排查潜在的故障</p>\n<h2 id=\"硬件\"><a href=\"#硬件\" class=\"headerlink\" title=\"硬件:\"></a>硬件:</h2><p>需要多个K2P路由器</p>\n<h2 id=\"软件\"><a href=\"#软件\" class=\"headerlink\" title=\"软件:\"></a>软件:</h2><p>将每个K2P都刷机成为这个系统: © 2011-2022 版权属于 Padavan &amp; N56U project community</p>\n<p>比如我使用的固件版本: </p>\n<table>\n<thead>\n<tr>\n<th>固件版本:</th>\n<th><a href=\"http://192.168.6.111:8080/Advanced_FirmwareUpgrade_Content.asp\">3.4.3.9-099_22-07-1</a></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>这台是室外的K2P, 作为将WIFI信号扩大</td>\n<td></td>\n</tr>\n</tbody></table>\n<table>\n<thead>\n<tr>\n<th>固件版本:</th>\n<th><a href=\"http://192.168.6.243/Advanced_FirmwareUpgrade_Content.asp\">4.4.198.9-100_20231021</a></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>这台是室内, 连接外网ADSL宽带光猫或主路由器</td>\n<td></td>\n</tr>\n</tbody></table>\n<h1 id=\"相关内容\"><a href=\"#相关内容\" class=\"headerlink\" title=\"相关内容\"></a>相关内容</h1><iframe style=\"box-shadow: 0px 0px 20px -10px;\" src=\"https://query.carlzeng.com:3/appsearch?q=k2p\" frameborder=\"0\" scrolling=\"auto\" width=\"100%\" height=\"500\"></iframe>\n\n<h1 id=\"实现方法\"><a href=\"#实现方法\" class=\"headerlink\" title=\"实现方法\"></a>实现方法</h1><h2 id=\"上游K2P\"><a href=\"#上游K2P\" class=\"headerlink\" title=\"上游K2P\"></a>上游K2P</h2><p><img data-src=\"https://img.carlzeng.com:3/i/2024/09/08/66dd0bf7bbcdb.png\" alt=\"image-20240908102910241\"></p>\n<p>手动指定: 无线信道</p>\n<h2 id=\"室外中继使用的K2P\"><a href=\"#室外中继使用的K2P\" class=\"headerlink\" title=\"室外中继使用的K2P\"></a>室外中继使用的K2P</h2><p>作为扩大WIFI信号使用的AP, 在室外负责增加WIFI区域&#x2F;面积</p>\n<ol>\n<li><p>设置路由器模式为</p>\n<p><img data-src=\"https://img.carlzeng.com:3/i/2024/09/08/66dd0c50cb3c4.png\" alt=\"image-20240908103039409\"></p>\n</li>\n<li><p>设置2.4G的WIFI作为中继用的频道</p>\n</li>\n</ol>\n<img class=\"lozad\" data-src=\"https://img.carlzeng.com:3/i/2024/09/08/66dd0a3ce30b0.png\">\n\n<p>设置要中继的上游AP的具体信息: SSID, 信道, 加密方式, WIFI密码</p>\n<h2 id=\"故障及解决方案\"><a href=\"#故障及解决方案\" class=\"headerlink\" title=\"故障及解决方案\"></a>故障及解决方案</h2><p>故障点: 室外K2P<br>故障详情: 可以连接WIFI, 但是无法获取IP地址</p>\n<p>修复过程:<br>    连接室外的WIFI, 然后需要手动修改本机IP地址为192.168.123.110网段,<br>    然后就可以打开网页配置: <a href=\"http://192.168.123.1:8080/\">http://192.168.123.1:8080/</a><br>    发现是: 中继的2.4G信号OpenWrt的信道变了, 从原来的9信道变到10信道.<br>    这样就需要重新配置室外K2P的‘无线中继’.<br>    设置好, 连接上上级的路由器WIFI以后, 可以正常获取IP地址, 可以上网.</p>\n<blockquote>\n<p>20240928 最新更新如下:</p>\n</blockquote>\n<p>通过在K2P的Lan口设置(手动设置) 192.168.6.112</p>\n<p>然后把DHCP手动开启, 设置IP段: 192.168.6.200 - 192.168.6.244</p>\n<p>管理地址变更为: <a href=\"http://192.168.6.112:8080/Advanced_APLAN_Content.asp\">http://192.168.6.112:8080/Advanced_APLAN_Content.asp</a></p>\n<hr>\n<p>故障点: 主路由盘的室内上游K2P </p>\n<p>故障详情: 连续运行几天, 就会导致室内的上游K2P断网</p>\n<p>进一步解决:</p>\n<p>手动指定上游路由器到 2.4GWIFI 信道9, 拓展信道13<br>    5GWIFI 信道153</p>\n<p>中继K2P的 中继点是2.4G的WIFI, 这回指定了信道9, 理论上不会改变了.<br>这样在一天以后, 看看还不会不会导致上游路由器断开了外网连接.</p>\n<blockquote>\n<p>一周后(20240913)验证结果: 不是由于这个信道的变化引起的上游K2P断网</p>\n<p>断网当时, WIFI连接但无法上网(或网速很慢), </p>\n<p>偶然想到, 并查看到Multi stream daemon lite有两个客户端</p>\n<p>也就是说: 这种断网极有可能是msd_lite占用了什么带宽导致的.</p>\n<p>当即修改了msd_lite的服务端口, 上网速度瞬间恢复; WIFI连接也正常了</p>\n</blockquote>\n<p>相关联的话题&#x2F;文章: <a href=\"https://www.carlzeng.com/202312111310.html\">电视节目资源 - 实测联通移动IPTV组播转单播方案</a> </p>\n<p>又一周后(20240926), 仍然出现偶发性断流(断开外网, AP无法上网); 需要手动断电重启才会恢复. 怀疑是硬件的问题(已下单采购新的路由器AC86U)</p>\n<p>今天了解到: msd_lite原来可以安装到docker中! 这样它耗路由器硬件性能的问题就解决了.</p>\n<p>关键字:</p>\n<p>群晖docker安装udpxy或msd_lite</p>\n<p>RouterOS中如何安装与使用udpxy(更推荐使用msd_lite组件, 因为msd_lite占用CPU资源更少)</p>\n<h1 id=\"华硕RT-AC86U\"><a href=\"#华硕RT-AC86U\" class=\"headerlink\" title=\"华硕RT-AC86U\"></a>华硕RT-AC86U</h1><p>刷入 最新官改测试..<br>路由器管理的IP:\t192.168.50.1<br>    admin:00000</p>\n<pre><code>4:14pm \n1. 设置pC机 ip到手动 192.168.1.100\n2. 设置Mac ip到192.168.1.11; 用于远程协助PC机的连接\n3. 操作PC机的华硕固件刷新Exe应用程序\n\nASUS 救援模式版本 2.1.0.3\n    版本 2.1.0.3\n    1.25 MB\n    2021/10/27\n    支援操作系统: Windows XP/7/8/8.1/10/11\n来源官网下载 https://www.asus.com.cn/supportonly/rt-ac86u/helpdesk_download?model2Name=RT-AC86U\n\n救援模式实测https://52asus.com/thread-34-1-1.html\n\n4:41pm 直接在WEB界面刷\n</code></pre>\n<p>doc: <a href=\"https://www.koolcenter.com/article/firmware/6_download/official_mod/40_rt-ac86u_official_mod/\">https://www.koolcenter.com/article/firmware/6_download/official_mod/40_rt-ac86u_official_mod/</a></p>\n<pre><code>[20240927测试中 RT-AC86U_386.10_0]\n1. https://fw.koolcenter.com/KoolCenter_Merlin_New_Gen_386/RT-AC86U/\n    RT-AC86U_386.10_0_cferom_ubi_koolcenter.w\t81.9 MiB\t2023-05-03 20:47\n    官改\n</code></pre>\n<p>​\t<br>    2. <a href=\"https://www.koolcenter.com/fw/device/rt-ac86u/merlin\">https://www.koolcenter.com/fw/device/rt-ac86u/merlin</a><br>        RT-AC86U_386.9_0_cferom_ubi_koolcenter.w\t81.8 MiB\t2023-05-03 20:47<br>        梅林改</p>\n<p><a href=\"http://www.speedtest.cn(连接大连联通节点)/\">www.speedtest.cn(连接大连联通节点)</a> </p>\n<p>测速发现上传又明细提升(达到93+速度), 下载不变稳定在260左右 </p>\n<p>AP模式 获取到的WAN口IP为: <a href=\"http://192.168.6.115/Main_Login.asp\">http://192.168.6.115/Main_Login.asp</a></p>\n<p>重新设置:</p>\n<ol>\n<li>TP1Z按重置按钮10s, 重新设置网络; 重新输入WIFI密码 和 设备的安全密码<ol>\n<li>由于摄像头都重新设置了, 重新推流启动: supervisorctl restart ffmpeg</li>\n</ol>\n</li>\n<li>中继的K2P <ol>\n<li>必须要关闭新的AC86U热点OpenWrt, 手动设置的192.168.123.12改网段才会工作</li>\n<li>重新配置中继(无线桥接)<a href=\"http://192.168.123.1:8080/Advanced_WMode2g_Content.asp\">http://192.168.123.1:8080/Advanced_WMode2g_Content.asp</a></li>\n<li>正常中继了, 锁定了使用相同的WIFI 2.4G信道: 11信道</li>\n</ol>\n</li>\n<li>所有的远程WIFI插座都自动识别, 自动跳跃到新的路由器AC86U</li>\n<li></li>\n</ol>\n<p>下一步:</p>\n<ol>\n<li><p>设置AC86U打开SSH <a href=\"http://192.168.6.115/Advanced_System_Content.asp\">http://192.168.6.115/Advanced_System_Content.asp</a></p>\n<ol>\n<li>无法正常登陆</li>\n</ol>\n</li>\n<li><p>软件中心-插件离线安装</p>\n<p>· 通过本页，你可以上传插件的离线安装包来安装插件；</p>\n<p>· 离线安装会自动解压tar.gz后缀的压缩包，识别压缩包一级目录下的install.sh文件并执行。</p>\n</li>\n</ol>\n<p>AC86U打开SSH</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh admin@192.168.6.115                                                       </span><br><span class=\"line\">admin@192.168.6.115<span class=\"string\">&#x27;s password:                                                                          </span></span><br><span class=\"line\"><span class=\"string\">Connection closed by 192.168.6.115 port 22 </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">#第二天尝试  - 正常了</span></span><br><span class=\"line\"><span class=\"string\">ssh admin@192.168.6.115</span></span><br><span class=\"line\"><span class=\"string\">admin@192.168.6.115&#x27;</span>s password: </span><br><span class=\"line\"></span><br><span class=\"line\">ASUSWRT-Merlin RT-AC86U 386.10_0 Tue May  2 16:39:01 UTC 2023</span><br><span class=\"line\">admin@RT-AC86U-A4C8:/tmp/home/root<span class=\"comment\"># </span></span><br></pre></td></tr></table></figure>\n\n\n\n<p>如果你的华硕路由器安装了第三方固件，并在固件安装了软件中心，通过离线安装的方式安装某软件时收到提示 “离线安装包名有非法关键词”，那可以通过上面的步骤登录路由器系统，然后输入以下命令：</p>\n<p>sed -i ‘s&#x2F;\\tdetect_package&#x2F;\\t# detect_package&#x2F;g’ &#x2F;koolshare&#x2F;scripts&#x2F;ks_tar_install.sh</p>\n<p>插入一个64G的SD卡到AC86U的USB3.0口(由于读卡器是2.0, 被识别成2.0)</p>\n<p><img data-src=\"https://img.carlzeng.com:3/i/2024/09/28/66f74bb8e5be9.png\" alt=\"image-20240928081950327\"></p>\n<p>创建USB上的虚拟内存文件</p>\n<p><img data-src=\"https://img.carlzeng.com:3/i/2024/09/28/66f74ef59c5fc.png\" alt=\"image-20240928083339577\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">umount /dev/sda1                                                         </span><br><span class=\"line\">umount: can<span class=\"string\">&#x27;t unmount /tmp/mnt/AC86U: Device or resource busy </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">#AC86U路由器有一个坏块</span></span><br><span class=\"line\"><span class=\"string\">admin@RT-AC86U-A4C8:/tmp/home/root# dmesg|grep &quot;bad block&quot;</span></span><br><span class=\"line\"><span class=\"string\">nand_read_bbt: bad block at 0x0000001a0000</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\"># 这将umount所有的文件系统, 需要重启路由器</span></span><br><span class=\"line\"><span class=\"string\">umount -a -r -l -f /dev/sda1</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br></pre></td></tr></table></figure>\n\n<p>![image-20240928085408054](&#x2F;Users&#x2F;carlzeng&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;image-20240928085408054.png)</p>\n<p>添加USB2JFFS(USB2JFFS - 用U盘来挂载jffs), 让安装软件跑到U盘上面去</p>\n<p><a href=\"https://github.com/koolshare/rogsoft/blob/master/usb2jffs/README.md\">具体的使用说明文档</a></p>\n<p><img data-src=\"https://img.carlzeng.com:3/i/2024/09/28/66f74f6fb0997.png\" alt=\"image-20240928083542208\"></p>\n<p>开启的话需要在软件中心, 打开USB2JFFS, 然后 选择挂载路径(默认): &#x2F;tmp&#x2F;mnt&#x2F;AC86U\t</p>\n<p><img data-src=\"https://img.carlzeng.com:3/i/2024/09/28/66f7ee0a42e59.png\" alt=\"image-20240928195238006\"></p>\n<h2 id=\"msd-lite设置\"><a href=\"#msd-lite设置\" class=\"headerlink\" title=\"msd_lite设置\"></a>msd_lite设置</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">admin@RT-AC86U-A4C8:/tmp/home/root# opkg install msd                                                         </span><br><span class=\"line\">Installing msd (3.01.0-1) to root...                                                                         </span><br><span class=\"line\">Downloading https://bin.entware.net/aarch64-k3.10/msd_3.01.0-1_aarch64-3.10.ipk                              </span><br><span class=\"line\">Configuring msd.  </span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">目前在386.10版本上，路由器开启ssh,进入后</span></span><br><span class=\"line\">1. amtm &gt;</span><br><span class=\"line\">2. ep &gt;</span><br><span class=\"line\">3. opkg install msd</span><br><span class=\"line\">4. service msd即可运行; 我用的是:  msd -c msd.conf</span><br><span class=\"line\">5. 查看日志: cd /opt/var/log;  会有msd.log文件</span><br><span class=\"line\"></span><br><span class=\"line\">admin@RT-AC86U-A4C8:/tmp/mnt/AC86U/entware/etc# msd </span><br><span class=\"line\">Multi stream daemon 3.01.0 -- (c) Rozhuk Ivan &lt;rozhuk.im@gmail.com&gt;</span><br><span class=\"line\">   BSD licence. Website: https://github.com/rozhuk-im/msd</span><br><span class=\"line\">   Build: Jul 23 2024 11:34:57, Release</span><br><span class=\"line\">usage: [-d] [-v] [-c file]</span><br><span class=\"line\">       [-p PID file] [-u uid|usr -g gid|grp]</span><br><span class=\"line\"> -h           usage (this screen)</span><br><span class=\"line\"> -d           become daemon</span><br><span class=\"line\"> -c file      config file</span><br><span class=\"line\"> -p PID file  file name to store PID</span><br><span class=\"line\"> -u uid|user  change uid</span><br><span class=\"line\"> -g gid|group change gid</span><br><span class=\"line\"> -v           verbose</span><br></pre></td></tr></table></figure>\n\n<p>下一步: 设置MSD; 我的有组播的网线口是插在了: LAN1</p>\n<p>默认生成的msd.conf</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br><span class=\"line\">274</span><br><span class=\"line\">275</span><br><span class=\"line\">276</span><br><span class=\"line\">277</span><br><span class=\"line\">278</span><br><span class=\"line\">279</span><br><span class=\"line\">280</span><br><span class=\"line\">281</span><br><span class=\"line\">282</span><br><span class=\"line\">283</span><br><span class=\"line\">284</span><br><span class=\"line\">285</span><br><span class=\"line\">286</span><br><span class=\"line\">287</span><br><span class=\"line\">288</span><br><span class=\"line\">289</span><br><span class=\"line\">290</span><br><span class=\"line\">291</span><br><span class=\"line\">292</span><br><span class=\"line\">293</span><br><span class=\"line\">294</span><br><span class=\"line\">295</span><br><span class=\"line\">296</span><br><span class=\"line\">297</span><br><span class=\"line\">298</span><br><span class=\"line\">299</span><br><span class=\"line\">300</span><br><span class=\"line\">301</span><br><span class=\"line\">302</span><br><span class=\"line\">303</span><br><span class=\"line\">304</span><br><span class=\"line\">305</span><br><span class=\"line\">306</span><br><span class=\"line\">307</span><br><span class=\"line\">308</span><br><span class=\"line\">309</span><br><span class=\"line\">310</span><br><span class=\"line\">311</span><br><span class=\"line\">312</span><br><span class=\"line\">313</span><br><span class=\"line\">314</span><br><span class=\"line\">315</span><br><span class=\"line\">316</span><br><span class=\"line\">317</span><br><span class=\"line\">318</span><br><span class=\"line\">319</span><br><span class=\"line\">320</span><br><span class=\"line\">321</span><br><span class=\"line\">322</span><br><span class=\"line\">323</span><br><span class=\"line\">324</span><br><span class=\"line\">325</span><br><span class=\"line\">326</span><br><span class=\"line\">327</span><br><span class=\"line\">328</span><br><span class=\"line\">329</span><br><span class=\"line\">330</span><br><span class=\"line\">331</span><br><span class=\"line\">332</span><br><span class=\"line\">333</span><br><span class=\"line\">334</span><br><span class=\"line\">335</span><br><span class=\"line\">336</span><br><span class=\"line\">337</span><br><span class=\"line\">338</span><br><span class=\"line\">339</span><br><span class=\"line\">340</span><br><span class=\"line\">341</span><br><span class=\"line\">342</span><br><span class=\"line\">343</span><br><span class=\"line\">344</span><br><span class=\"line\">345</span><br><span class=\"line\">346</span><br><span class=\"line\">347</span><br><span class=\"line\">348</span><br><span class=\"line\">349</span><br><span class=\"line\">350</span><br><span class=\"line\">351</span><br><span class=\"line\">352</span><br><span class=\"line\">353</span><br><span class=\"line\">354</span><br><span class=\"line\">355</span><br><span class=\"line\">356</span><br><span class=\"line\">357</span><br><span class=\"line\">358</span><br><span class=\"line\">359</span><br><span class=\"line\">360</span><br><span class=\"line\">361</span><br><span class=\"line\">362</span><br><span class=\"line\">363</span><br><span class=\"line\">364</span><br><span class=\"line\">365</span><br><span class=\"line\">366</span><br><span class=\"line\">367</span><br><span class=\"line\">368</span><br><span class=\"line\">369</span><br><span class=\"line\">370</span><br><span class=\"line\">371</span><br><span class=\"line\">372</span><br><span class=\"line\">373</span><br><span class=\"line\">374</span><br><span class=\"line\">375</span><br><span class=\"line\">376</span><br><span class=\"line\">377</span><br><span class=\"line\">378</span><br><span class=\"line\">379</span><br><span class=\"line\">380</span><br><span class=\"line\">381</span><br><span class=\"line\">382</span><br><span class=\"line\">383</span><br><span class=\"line\">384</span><br><span class=\"line\">385</span><br><span class=\"line\">386</span><br><span class=\"line\">387</span><br><span class=\"line\">388</span><br><span class=\"line\">389</span><br><span class=\"line\">390</span><br><span class=\"line\">391</span><br><span class=\"line\">392</span><br><span class=\"line\">393</span><br><span class=\"line\">394</span><br><span class=\"line\">395</span><br><span class=\"line\">396</span><br><span class=\"line\">397</span><br><span class=\"line\">398</span><br><span class=\"line\">399</span><br><span class=\"line\">400</span><br><span class=\"line\">401</span><br><span class=\"line\">402</span><br><span class=\"line\">403</span><br><span class=\"line\">404</span><br><span class=\"line\">405</span><br><span class=\"line\">406</span><br><span class=\"line\">407</span><br><span class=\"line\">408</span><br><span class=\"line\">409</span><br><span class=\"line\">410</span><br><span class=\"line\">411</span><br><span class=\"line\">412</span><br><span class=\"line\">413</span><br><span class=\"line\">414</span><br><span class=\"line\">415</span><br><span class=\"line\">416</span><br><span class=\"line\">417</span><br><span class=\"line\">418</span><br><span class=\"line\">419</span><br><span class=\"line\">420</span><br><span class=\"line\">421</span><br><span class=\"line\">422</span><br><span class=\"line\">423</span><br><span class=\"line\">424</span><br><span class=\"line\">425</span><br><span class=\"line\">426</span><br><span class=\"line\">427</span><br><span class=\"line\">428</span><br><span class=\"line\">429</span><br><span class=\"line\">430</span><br><span class=\"line\">431</span><br><span class=\"line\">432</span><br><span class=\"line\">433</span><br><span class=\"line\">434</span><br><span class=\"line\">435</span><br><span class=\"line\">436</span><br><span class=\"line\">437</span><br><span class=\"line\">438</span><br><span class=\"line\">439</span><br><span class=\"line\">440</span><br><span class=\"line\">441</span><br><span class=\"line\">442</span><br><span class=\"line\">443</span><br><span class=\"line\">444</span><br><span class=\"line\">445</span><br><span class=\"line\">446</span><br><span class=\"line\">447</span><br><span class=\"line\">448</span><br><span class=\"line\">449</span><br><span class=\"line\">450</span><br><span class=\"line\">451</span><br><span class=\"line\">452</span><br><span class=\"line\">453</span><br><span class=\"line\">454</span><br><span class=\"line\">455</span><br><span class=\"line\">456</span><br><span class=\"line\">457</span><br><span class=\"line\">458</span><br><span class=\"line\">459</span><br><span class=\"line\">460</span><br><span class=\"line\">461</span><br><span class=\"line\">462</span><br><span class=\"line\">463</span><br><span class=\"line\">464</span><br><span class=\"line\">465</span><br><span class=\"line\">466</span><br><span class=\"line\">467</span><br><span class=\"line\">468</span><br><span class=\"line\">469</span><br><span class=\"line\">470</span><br><span class=\"line\">471</span><br><span class=\"line\">472</span><br><span class=\"line\">473</span><br><span class=\"line\">474</span><br><span class=\"line\">475</span><br><span class=\"line\">476</span><br><span class=\"line\">477</span><br><span class=\"line\">478</span><br><span class=\"line\">479</span><br><span class=\"line\">480</span><br><span class=\"line\">481</span><br><span class=\"line\">482</span><br><span class=\"line\">483</span><br><span class=\"line\">484</span><br><span class=\"line\">485</span><br><span class=\"line\">486</span><br><span class=\"line\">487</span><br><span class=\"line\">488</span><br><span class=\"line\">489</span><br><span class=\"line\">490</span><br><span class=\"line\">491</span><br><span class=\"line\">492</span><br><span class=\"line\">493</span><br><span class=\"line\">494</span><br><span class=\"line\">495</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=<span class=\"string\">&quot;1.0&quot;</span> encoding=<span class=\"string\">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!--</span></span><br><span class=\"line\"><span class=\"comment\"> Sizes in kb, time in seconds</span></span><br><span class=\"line\"><span class=\"comment\">--&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!--</span></span><br><span class=\"line\"><span class=\"comment\">&lt;skt&gt; &lt;rcvLoWatermark&gt;XXXX&lt;/rcvLoWatermark&gt; - DOES NOT WORK on Linux!</span></span><br><span class=\"line\"><span class=\"comment\">man socket(7):</span></span><br><span class=\"line\"><span class=\"comment\">...</span></span><br><span class=\"line\"><span class=\"comment\">The select(2) and poll(2) system calls currently do not respect the SO_RCVLOWAT</span></span><br><span class=\"line\"><span class=\"comment\">setting on Linux, and mark a socket readable when even a single byte of data is</span></span><br><span class=\"line\"><span class=\"comment\">available.</span></span><br><span class=\"line\"><span class=\"comment\">...</span></span><br><span class=\"line\"><span class=\"comment\">--&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!--</span></span><br><span class=\"line\"><span class=\"comment\"> XML validators:</span></span><br><span class=\"line\"><span class=\"comment\"> - http://www.xmlvalidation.com/</span></span><br><span class=\"line\"><span class=\"comment\"> - xmllint - -noout msd.conf</span></span><br><span class=\"line\"><span class=\"comment\">   &quot;- -&quot;: remove space before arg.</span></span><br><span class=\"line\"><span class=\"comment\">   install: /usr/ports/textproc/libxml2</span></span><br><span class=\"line\"><span class=\"comment\">--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">msd</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">log</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">file</span>&gt;</span>/opt/var/log/msd.log<span class=\"tag\">&lt;/<span class=\"name\">file</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;/<span class=\"name\">log</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">threadPool</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">threadsCountMax</span>&gt;</span>3<span class=\"tag\">&lt;/<span class=\"name\">threadsCountMax</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- 0 = auto --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">fBindToCPU</span>&gt;</span>yes<span class=\"tag\">&lt;/<span class=\"name\">fBindToCPU</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- Bind threads to CPUs. --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">fCacheGetTimeSyscall</span>&gt;</span>yes<span class=\"tag\">&lt;/<span class=\"name\">fCacheGetTimeSyscall</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- Cache gettime() syscalls.. --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">timerGranularity</span>&gt;</span>100<span class=\"tag\">&lt;/<span class=\"name\">timerGranularity</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- 1/1000 sec --&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;/<span class=\"name\">threadPool</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">systemResourceLimits</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- &quot;unlimited&quot;  - value valid only in this section! --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">maxOpenFiles</span>&gt;</span>8192<span class=\"tag\">&lt;/<span class=\"name\">maxOpenFiles</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- Numbers only! --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">maxCoreFileSize</span>&gt;</span>unlimited<span class=\"tag\">&lt;/<span class=\"name\">maxCoreFileSize</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">maxMemLock</span>&gt;</span>unlimited<span class=\"tag\">&lt;/<span class=\"name\">maxMemLock</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">processPriority</span>&gt;</span>-10<span class=\"tag\">&lt;/<span class=\"name\">processPriority</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- Program scheduling priority. setpriority(). Hi: -20, Low: 20, Default: 0 --&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;/<span class=\"name\">systemResourceLimits</span>&gt;</span></span><br><span class=\"line\">   <span class=\"comment\">&lt;!-- HTTP server --&gt;</span></span><br><span class=\"line\">   <span class=\"comment\">&lt;!-- Sizes in kb, time in seconds --&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">HTTP</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- HTTP server settings. --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">skt</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Defaults for all bindings. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">backlog</span>&gt;</span>-1<span class=\"tag\">&lt;/<span class=\"name\">backlog</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">rcvBuf</span>&gt;</span>0<span class=\"tag\">&lt;/<span class=\"name\">rcvBuf</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">sndBuf</span>&gt;</span>0<span class=\"tag\">&lt;/<span class=\"name\">sndBuf</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">rcvTimeout</span>&gt;</span>30<span class=\"tag\">&lt;/<span class=\"name\">rcvTimeout</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">sndTimeout</span>&gt;</span>30<span class=\"tag\">&lt;/<span class=\"name\">sndTimeout</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">fKeepAlive</span>&gt;</span>no<span class=\"tag\">&lt;/<span class=\"name\">fKeepAlive</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">keepAliveIDLEtime</span>&gt;</span>0<span class=\"tag\">&lt;/<span class=\"name\">keepAliveIDLEtime</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">keepAliveProbesInterval</span>&gt;</span>0<span class=\"tag\">&lt;/<span class=\"name\">keepAliveProbesInterval</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">keepAliveNumberOfProbes</span>&gt;</span>0<span class=\"tag\">&lt;/<span class=\"name\">keepAliveNumberOfProbes</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">congestionControl</span> /&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- TCP_CONGESTION: replace congestion control from OS default --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">skt</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">ioBufInitSize</span>&gt;</span>4<span class=\"tag\">&lt;/<span class=\"name\">ioBufInitSize</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- HTTP request receive buf initial size. --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">ioBufMaxSize</span>&gt;</span>4<span class=\"tag\">&lt;/<span class=\"name\">ioBufMaxSize</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- HTTP request receive max buf size. --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">bindList</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">bind</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- All possible bind settings example. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">backlog</span>&gt;</span>1024<span class=\"tag\">&lt;/<span class=\"name\">backlog</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">rcvBuf</span>&gt;</span>4<span class=\"tag\">&lt;/<span class=\"name\">rcvBuf</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">sndBuf</span>&gt;</span>256<span class=\"tag\">&lt;/<span class=\"name\">sndBuf</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">rcvTimeout</span>&gt;</span>30<span class=\"tag\">&lt;/<span class=\"name\">rcvTimeout</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">sndTimeout</span>&gt;</span>30<span class=\"tag\">&lt;/<span class=\"name\">sndTimeout</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">fKeepAlive</span>&gt;</span>yes<span class=\"tag\">&lt;/<span class=\"name\">fKeepAlive</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">keepAliveIDLEtime</span>&gt;</span>600<span class=\"tag\">&lt;/<span class=\"name\">keepAliveIDLEtime</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">keepAliveProbesInterval</span>&gt;</span>8<span class=\"tag\">&lt;/<span class=\"name\">keepAliveProbesInterval</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">keepAliveNumberOfProbes</span>&gt;</span>4<span class=\"tag\">&lt;/<span class=\"name\">keepAliveNumberOfProbes</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">congestionControl</span>&gt;</span>htcp<span class=\"tag\">&lt;/<span class=\"name\">congestionControl</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- TCP_CONGESTION: replace congestion control from OS default --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">address</span>&gt;</span>192.168.1.1:7088<span class=\"tag\">&lt;/<span class=\"name\">address</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">ifName</span>&gt;</span>vlan777<span class=\"tag\">&lt;/<span class=\"name\">ifName</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Get IP address and replace in &#x27;address&#x27; before bind. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">hostnameList</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Host names for this bind. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">hostname</span>&gt;</span>megahost.sample<span class=\"tag\">&lt;/<span class=\"name\">hostname</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">hostnameList</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">bind</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">bind</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">address</span>&gt;</span>0.0.0.0:7088<span class=\"tag\">&lt;/<span class=\"name\">address</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">bind</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">bind</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">address</span>&gt;</span>0.0.0.0:40788<span class=\"tag\">&lt;/<span class=\"name\">address</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">bind</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">bind</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">address</span>&gt;</span>[::]:7088<span class=\"tag\">&lt;/<span class=\"name\">address</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">bind</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">bind</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">address</span>&gt;</span>[::1]:7088<span class=\"tag\">&lt;/<span class=\"name\">address</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">hostnameList</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Host names for this bind. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">hostname</span>&gt;</span>localhost<span class=\"tag\">&lt;/<span class=\"name\">hostname</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">hostnameList</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">bind</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">bind</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">address</span>&gt;</span>127.0.0.1:7088<span class=\"tag\">&lt;/<span class=\"name\">address</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">hostnameList</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Host names for this bind. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">hostname</span>&gt;</span>localhost<span class=\"tag\">&lt;/<span class=\"name\">hostname</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">hostnameList</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">bind</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">bindList</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">hostnameList</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Host names for all bindings. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">hostname</span>&gt;</span>*<span class=\"tag\">&lt;/<span class=\"name\">hostname</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">hostname</span>&gt;</span>netlab.linkpc.net<span class=\"tag\">&lt;/<span class=\"name\">hostname</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">hostname</span>&gt;</span>www.netlab.linkpc.net<span class=\"tag\">&lt;/<span class=\"name\">hostname</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">hostname</span>&gt;</span>netlab.dhis.org<span class=\"tag\">&lt;/<span class=\"name\">hostname</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">hostname</span>&gt;</span>net-lab.slyip.net<span class=\"tag\">&lt;/<span class=\"name\">hostname</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">hostnameList</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;/<span class=\"name\">HTTP</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">limits</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- Client params limits (from http request args). --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">precacheMin</span>&gt;</span>0<span class=\"tag\">&lt;/<span class=\"name\">precacheMin</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- No less than StreamHUB/skt/rcvLoWatermark, def: 0 --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">precacheMax</span>&gt;</span>8192<span class=\"tag\">&lt;/<span class=\"name\">precacheMax</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- max/def: StreamHUB/ringBufSize --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">sndBlockSizeMin</span>&gt;</span>32<span class=\"tag\">&lt;/<span class=\"name\">sndBlockSizeMin</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- Min send block size. --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">sndBlockSizeMax</span>&gt;</span>512<span class=\"tag\">&lt;/<span class=\"name\">sndBlockSizeMax</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- Max send block size. --&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;/<span class=\"name\">limits</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">hubProfileList</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- Stream hub profiles templates. --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">hubProfile</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>default<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">fPrecacheWait</span>&gt;</span>no<span class=\"tag\">&lt;/<span class=\"name\">fPrecacheWait</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- For new clients: wait untill data in ring buf less than client want to receive in first time. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">fDropSlowClients</span>&gt;</span>yes<span class=\"tag\">&lt;/<span class=\"name\">fDropSlowClients</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Disconnect slow clients. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">fUsePollingForSend</span>&gt;</span>yes<span class=\"tag\">&lt;/<span class=\"name\">fUsePollingForSend</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Add lagged client socket descriptor to OS io polling (kqueue/epoll). --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">fZeroCopyOnSend</span>&gt;</span>no<span class=\"tag\">&lt;/<span class=\"name\">fZeroCopyOnSend</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Enable Zero Copy on send to clients. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">fZeroSrcBitratePersistent</span>&gt;</span>no<span class=\"tag\">&lt;/<span class=\"name\">fZeroSrcBitratePersistent</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Do not destroy hub if no data received from all sources. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">fZeroCliPersistent</span>&gt;</span>no<span class=\"tag\">&lt;/<span class=\"name\">fZeroCliPersistent</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Do not destroy hub if no connected clients, othertwice self destroy after zeroCliTimeout seconds. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">zeroCliTimeout</span>&gt;</span>60<span class=\"tag\">&lt;/<span class=\"name\">zeroCliTimeout</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Time to destroy hub if no connected clients. Ignored if fZeroCliPersistent set. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">skt</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Client socket tunings. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">sndBuf</span>&gt;</span>1024<span class=\"tag\">&lt;/<span class=\"name\">sndBuf</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Max send block size, apply to clients sockets only, must be &gt; rcvLoWatermark. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">sndLoWatermark</span>&gt;</span>64<span class=\"tag\">&lt;/<span class=\"name\">sndLoWatermark</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Default send block size. Can be overwritten by arg from user request. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">sndTimeout</span>&gt;</span>30<span class=\"tag\">&lt;/<span class=\"name\">sndTimeout</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Send data to client timeout. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">fHalfClosedRcv</span>&gt;</span>no<span class=\"tag\">&lt;/<span class=\"name\">fHalfClosedRcv</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Enable shutdown(SHUT_RD) for clients. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">fTCPNoDelay</span>&gt;</span>no<span class=\"tag\">&lt;/<span class=\"name\">fTCPNoDelay</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Enable TCP_NODELAY for clients. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">fTCPNoPush</span>&gt;</span>no<span class=\"tag\">&lt;/<span class=\"name\">fTCPNoPush</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Enable TCP_NOPUSH / TCP_CORK for clients. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">congestionControl</span>&gt;</span>htcp<span class=\"tag\">&lt;/<span class=\"name\">congestionControl</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- TCP_CONGESTION: this value replace/overwrite(!) all others cc settings: cc from http req args, http server settings, OS default --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">skt</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">precache</span>&gt;</span>4096<span class=\"tag\">&lt;/<span class=\"name\">precache</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Default pre cache size. Can be overwritten by arg from user request. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">headersList</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Custom HTTP headers (sended before stream). --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">header</span>&gt;</span>Pragma: no-cache<span class=\"tag\">&lt;/<span class=\"name\">header</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">header</span>&gt;</span>Content-Type: video/mpeg<span class=\"tag\">&lt;/<span class=\"name\">header</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">header</span>&gt;</span>ContentFeatures.DLNA.ORG: DLNA.ORG_OP=01;DLNA.ORG_CI=0;DLNA.ORG_FLAGS=01700000000000000000000000000000<span class=\"tag\">&lt;/<span class=\"name\">header</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">header</span>&gt;</span>TransferMode.DLNA.ORG: Streaming<span class=\"tag\">&lt;/<span class=\"name\">header</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">headersList</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">HLS</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- HLS settings. Require fMPEG2TSAnalyzing on sources. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">fEnable</span>&gt;</span>yes<span class=\"tag\">&lt;/<span class=\"name\">fEnable</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">targetDuration</span>&gt;</span>5<span class=\"tag\">&lt;/<span class=\"name\">targetDuration</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- EXT-X-TARGETDURATION. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">HLS</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">sourceProfile</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Defaults for all sources. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">MPEG2TS</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Overwrite hub param same name flag if set. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">fEnable</span>&gt;</span>yes<span class=\"tag\">&lt;/<span class=\"name\">fEnable</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Enable MPEG2-TS analyzer. Overwrite hub param same name flag if set. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">filterPIDList</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>reset<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"comment\">&lt;!-- Clear PIDs filtering list. --&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>16<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"comment\">&lt;!-- Drop NIT PID. --&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>17<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"comment\">&lt;!-- Drop SDT PID. --&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>18<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"comment\">&lt;!-- Drop EIT PID. --&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>null<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"comment\">&lt;!-- = 8191 Drop NULL PID. --&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>unknown<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"comment\">&lt;!-- Drop all unknown PIDs. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;/<span class=\"name\">filterPIDList</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">MPEG2TS</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">ringBufSize</span>&gt;</span>65536<span class=\"tag\">&lt;/<span class=\"name\">ringBufSize</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Stream receive ring buffer size. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">ringBufStorePath</span>&gt;</span>shm<span class=\"tag\">&lt;/<span class=\"name\">ringBufStorePath</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Only if fZeroCopyOnSend set. Path to store file with ring buf. &quot;shm&quot; = use posix shared memory. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">errorRateInterval</span>&gt;</span>60<span class=\"tag\">&lt;/<span class=\"name\">errorRateInterval</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Error rate calculation interval. Work only if fMPEG2TSAnalyzing set. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">errorRateMax</span>&gt;</span>10<span class=\"tag\">&lt;/<span class=\"name\">errorRateMax</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Error rate max value before change source status to: STREAM_ERRORS. Work only if fMPEG2TSAnalyzing set. overwrite all sources same name value if set to nonzero. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">skt</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">rcvBuf</span>&gt;</span>1024<span class=\"tag\">&lt;/<span class=\"name\">rcvBuf</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Socket recv buf size. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">rcvLoWatermark</span>&gt;</span>48<span class=\"tag\">&lt;/<span class=\"name\">rcvLoWatermark</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Actual cli_snd_block_min if polling is off. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">rcvTimeout</span>&gt;</span>10<span class=\"tag\">&lt;/<span class=\"name\">rcvTimeout</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- STATUS, recv timeout. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">fHalfClosedSnd</span>&gt;</span>no<span class=\"tag\">&lt;/<span class=\"name\">fHalfClosedSnd</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Enable shutdown(SHUT_WR) for clients. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">skt</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">sourceProfile</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">hubProfile</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">hubProfile</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>default-HD<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">fPrecacheWait</span>&gt;</span>no<span class=\"tag\">&lt;/<span class=\"name\">fPrecacheWait</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- For new clients: wait untill data in ring buf less than client want to receive in first time. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">fDropSlowClients</span>&gt;</span>yes<span class=\"tag\">&lt;/<span class=\"name\">fDropSlowClients</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Disconnect slow clients. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">fUsePollingForSend</span>&gt;</span>yes<span class=\"tag\">&lt;/<span class=\"name\">fUsePollingForSend</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Add lagged client socket descriptor to OS io polling (kqueue/epoll). --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">fZeroCopyOnSend</span>&gt;</span>no<span class=\"tag\">&lt;/<span class=\"name\">fZeroCopyOnSend</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Enable Zero Copy on send to clients. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">fZeroSrcBitratePersistent</span>&gt;</span>no<span class=\"tag\">&lt;/<span class=\"name\">fZeroSrcBitratePersistent</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Do not destroy hub if no data received from all sources. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">fZeroCliPersistent</span>&gt;</span>no<span class=\"tag\">&lt;/<span class=\"name\">fZeroCliPersistent</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Do not destroy hub if no connected clients, othertwice self destroy after zeroCliTimeout seconds. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">zeroCliTimeout</span>&gt;</span>60<span class=\"tag\">&lt;/<span class=\"name\">zeroCliTimeout</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Time to destroy hub if no connected clients. Ignored if fZeroCliPersistent set. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">skt</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Client socket tunings. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">sndBuf</span>&gt;</span>1024<span class=\"tag\">&lt;/<span class=\"name\">sndBuf</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Max send block size, apply to clients sockets only, must be &gt; rcvLoWatermark. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">sndLoWatermark</span>&gt;</span>64<span class=\"tag\">&lt;/<span class=\"name\">sndLoWatermark</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Default send block size. Can be overwritten by arg from user request. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">sndTimeout</span>&gt;</span>30<span class=\"tag\">&lt;/<span class=\"name\">sndTimeout</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Send data to client timeout. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">fHalfClosedRcv</span>&gt;</span>no<span class=\"tag\">&lt;/<span class=\"name\">fHalfClosedRcv</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Enable shutdown(SHUT_RD) for clients. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">fTCPNoDelay</span>&gt;</span>no<span class=\"tag\">&lt;/<span class=\"name\">fTCPNoDelay</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Enable TCP_NODELAY for clients. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">fTCPNoPush</span>&gt;</span>no<span class=\"tag\">&lt;/<span class=\"name\">fTCPNoPush</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Enable TCP_NOPUSH / TCP_CORK for clients. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">congestionControl</span>&gt;</span>htcp<span class=\"tag\">&lt;/<span class=\"name\">congestionControl</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- TCP_CONGESTION: this value replace/overwrite(!) all others cc settings: cc from http req args, http server settings, OS default --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">skt</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">precache</span>&gt;</span>8192<span class=\"tag\">&lt;/<span class=\"name\">precache</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Default pre cache size. Can be overwritten by arg from user request. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">headersList</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Custom HTTP headers (sended before stream). --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">header</span>&gt;</span>Pragma: no-cache<span class=\"tag\">&lt;/<span class=\"name\">header</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">header</span>&gt;</span>Content-Type: video/mpeg<span class=\"tag\">&lt;/<span class=\"name\">header</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">header</span>&gt;</span>ContentFeatures.DLNA.ORG: DLNA.ORG_OP=01;DLNA.ORG_CI=0;DLNA.ORG_FLAGS=01700000000000000000000000000000<span class=\"tag\">&lt;/<span class=\"name\">header</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">header</span>&gt;</span>TransferMode.DLNA.ORG: Streaming<span class=\"tag\">&lt;/<span class=\"name\">header</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">headersList</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">sourceProfile</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Defaults for all sources. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">MPEG2TS</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Overwrite hub param same name flag if set. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">fEnable</span>&gt;</span>yes<span class=\"tag\">&lt;/<span class=\"name\">fEnable</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Enable MPEG2-TS analyzer. Overwrite hub param same name flag if set. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">filterPIDList</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>reset<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"comment\">&lt;!-- Clear PIDs filtering list. --&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>16<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"comment\">&lt;!-- Drop NIT PID. --&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>17<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"comment\">&lt;!-- Drop SDT PID. --&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>18<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"comment\">&lt;!-- Drop EIT PID. --&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>null<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"comment\">&lt;!-- = 8191 Drop NULL PID. --&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>unknown<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"comment\">&lt;!-- Drop all unknown PIDs. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;/<span class=\"name\">filterPIDList</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">MPEG2TS</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">ringBufSize</span>&gt;</span>131072<span class=\"tag\">&lt;/<span class=\"name\">ringBufSize</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Stream receive ring buffer size. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">ringBufStorePath</span>&gt;</span>shm<span class=\"tag\">&lt;/<span class=\"name\">ringBufStorePath</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Only if fZeroCopyOnSend set. Path to store file with ring buf. &quot;shm&quot; = use posix shared memory. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">errorRateInterval</span>&gt;</span>60<span class=\"tag\">&lt;/<span class=\"name\">errorRateInterval</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Error rate calculation interval. Work only if fMPEG2TSAnalyzing set. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">errorRateMax</span>&gt;</span>10<span class=\"tag\">&lt;/<span class=\"name\">errorRateMax</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Error rate max value before change source status to: STREAM_ERRORS. Work only if fMPEG2TSAnalyzing set. overwrite all sources same name value if set to nonzero. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">skt</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">rcvBuf</span>&gt;</span>1024<span class=\"tag\">&lt;/<span class=\"name\">rcvBuf</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Socket recv buf size. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">rcvLoWatermark</span>&gt;</span>48<span class=\"tag\">&lt;/<span class=\"name\">rcvLoWatermark</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Actual cli_snd_block_min if polling is off. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">rcvTimeout</span>&gt;</span>10<span class=\"tag\">&lt;/<span class=\"name\">rcvTimeout</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- STATUS, recv timeout. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">fHalfClosedSnd</span>&gt;</span>no<span class=\"tag\">&lt;/<span class=\"name\">fHalfClosedSnd</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Enable shutdown(SHUT_WR) for clients. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">skt</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">sourceProfile</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">hubProfile</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;/<span class=\"name\">hubProfileList</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">sourceProfileList</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- Stream source profiles templates. --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">sourceProfile</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>multicast-udp-default<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">MPEG2TS</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Overwrite hub param same name flag if set. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">fEnable</span>&gt;</span>yes<span class=\"tag\">&lt;/<span class=\"name\">fEnable</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Enable MPEG2-TS analyzer. Overwrite hub param same name flag if set. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">filterPIDList</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>reset<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Clear PIDs filtering list. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>16<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Drop NIT PID. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>17<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Drop SDT PID. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>18<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Drop EIT PID. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>null<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- = 8191 Drop NULL PID. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>unknown<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Drop all unknown PIDs. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">filterPIDList</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">MPEG2TS</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">ringBufSize</span>&gt;</span>32768<span class=\"tag\">&lt;/<span class=\"name\">ringBufSize</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Stream receive ring buffer size. Overwrite hub params same name value if set. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">ringBufStorePath</span>&gt;</span>shm<span class=\"tag\">&lt;/<span class=\"name\">ringBufStorePath</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Only if fZeroCopyOnSend set. Path to store file with ring buf. &quot;shm&quot; = use posix shared memory. Overwrite hub params same name value if set. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">errorRateInterval</span>&gt;</span>60<span class=\"tag\">&lt;/<span class=\"name\">errorRateInterval</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Error rate calculation interval. Work only if fMPEG2TSAnalyzing set. Overwrite hub params same name value if set o. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">errorRateMax</span>&gt;</span>10<span class=\"tag\">&lt;/<span class=\"name\">errorRateMax</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Error rate max value before change source status to: STREAM_ERRORS. Work only if fMPEG2TSAnalyzing set. Overwrite hub params same name value if set. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">skt</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">rcvBuf</span>&gt;</span>1024<span class=\"tag\">&lt;/<span class=\"name\">rcvBuf</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Socket recv buf size. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">rcvLoWatermark</span>&gt;</span>48<span class=\"tag\">&lt;/<span class=\"name\">rcvLoWatermark</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Actual cli_snd_block_min if polling is off. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">rcvTimeout</span>&gt;</span>10<span class=\"tag\">&lt;/<span class=\"name\">rcvTimeout</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- STATUS,  recv timeout. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">fHalfClosedSnd</span>&gt;</span>no<span class=\"tag\">&lt;/<span class=\"name\">fHalfClosedSnd</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Enable shutdown(SHUT_WR) for clients. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">skt</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Source connection specific info. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">udp</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- For: udp, udp-rtp, multicast-udp and multicast-udp-rtp. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">address</span>&gt;</span>239.0.0.22:1234<span class=\"tag\">&lt;/<span class=\"name\">address</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">udp</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">multicast</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- For: multicast-udp and multicast-udp-rtp. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">ifName</span>&gt;</span>lan0<span class=\"tag\">&lt;/<span class=\"name\">ifName</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- For multicast receive. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">multicast</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">sourceProfile</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">sourceProfile</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>tcp-http-default<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">MPEG2TS</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Overwrite hub param same name flag if set. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">fEnable</span>&gt;</span>yes<span class=\"tag\">&lt;/<span class=\"name\">fEnable</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Enable MPEG2-TS analyzer. Overwrite hub param same name flag if set. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">filterPIDList</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>reset<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Clear PIDs filtering list. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>16<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Drop NIT PID. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>17<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Drop SDT PID. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>18<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Drop EIT PID. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>null<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- = 8191 Drop NULL PID. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">PID</span>&gt;</span>unknown<span class=\"tag\">&lt;/<span class=\"name\">PID</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Drop all unknown PIDs. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">filterPIDList</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">MPEG2TS</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">ringBufSize</span>&gt;</span>32768<span class=\"tag\">&lt;/<span class=\"name\">ringBufSize</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Stream receive ring buffer size. Overwrite hub params same name value if set. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">ringBufStorePath</span>&gt;</span>shm<span class=\"tag\">&lt;/<span class=\"name\">ringBufStorePath</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Only if fZeroCopyOnSend set. Path to store file with ring buf. &quot;shm&quot; = use posix shared memory. Overwrite hub params same name value if set. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">errorRateInterval</span>&gt;</span>60<span class=\"tag\">&lt;/<span class=\"name\">errorRateInterval</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Error rate calculation interval. Work only if fMPEG2TSAnalyzing set. Overwrite hub params same name value if set o. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">errorRateMax</span>&gt;</span>10<span class=\"tag\">&lt;/<span class=\"name\">errorRateMax</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Error rate max value before change source status to: STREAM_ERRORS. Work only if fMPEG2TSAnalyzing set. Overwrite hub params same name value if set. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">skt</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">rcvBuf</span>&gt;</span>1024<span class=\"tag\">&lt;/<span class=\"name\">rcvBuf</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Socket recv buf size. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">rcvLoWatermark</span>&gt;</span>48<span class=\"tag\">&lt;/<span class=\"name\">rcvLoWatermark</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Actual cli_snd_block_min if polling is off. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">rcvTimeout</span>&gt;</span>30<span class=\"tag\">&lt;/<span class=\"name\">rcvTimeout</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- STATUS,  recv timeout. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">fHalfClosedSnd</span>&gt;</span>no<span class=\"tag\">&lt;/<span class=\"name\">fHalfClosedSnd</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Enable shutdown(SHUT_WR) for clients. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">skt</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Source connection specific info. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">tcp</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- For: tcp- and tcp-http. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">remonteHostname</span>&gt;</span>93.95.99.231:9500<span class=\"tag\">&lt;/<span class=\"name\">remonteHostname</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">connectTimeout</span>&gt;</span>5<span class=\"tag\">&lt;/<span class=\"name\">connectTimeout</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Connect timeout. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">reconnectInterval</span>&gt;</span>5<span class=\"tag\">&lt;/<span class=\"name\">reconnectInterval</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Retry connect delay. --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">reconnectCount</span>&gt;</span>4294967295<span class=\"tag\">&lt;/<span class=\"name\">reconnectCount</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Retry count. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">tcp</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">http</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">urlPath</span>&gt;</span>http/93.95.99.231:9500/udp/234.1.1.26:10000<span class=\"tag\">&lt;/<span class=\"name\">urlPath</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">headersList</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Custom HTTP headers for request. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">header</span>&gt;</span>Accept: */*<span class=\"tag\">&lt;/<span class=\"name\">header</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">header</span>&gt;</span>User-Agent: NSPlayer/7.10.0.3059<span class=\"tag\">&lt;/<span class=\"name\">header</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">header</span>&gt;</span>getcontentFeatures.dlna.org: 1<span class=\"tag\">&lt;/<span class=\"name\">header</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">headersList</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">http</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">sourceProfile</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;/<span class=\"name\">sourceProfileList</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">streamProxy</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- Auto generated stream hubs from user request. --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">multicast</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">fEnable</span>&gt;</span>yes<span class=\"tag\">&lt;/<span class=\"name\">fEnable</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">hubProfileName</span>&gt;</span>default<span class=\"tag\">&lt;/<span class=\"name\">hubProfileName</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Profile template. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">sourceProfileName</span>&gt;</span>multicast-udp-default<span class=\"tag\">&lt;/<span class=\"name\">sourceProfileName</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Profile template. --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">multicast</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">http</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">fEnable</span>&gt;</span>yes<span class=\"tag\">&lt;/<span class=\"name\">fEnable</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">hubProfileName</span>&gt;</span>default<span class=\"tag\">&lt;/<span class=\"name\">hubProfileName</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Profile template. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">sourceProfileName</span>&gt;</span>tcp-http-default<span class=\"tag\">&lt;/<span class=\"name\">sourceProfileName</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Profile template. --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">http</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">transparent</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Like HTTP, but &#x27;host&#x27; header point to other host. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">fEnable</span>&gt;</span>yes<span class=\"tag\">&lt;/<span class=\"name\">fEnable</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">hubProfileName</span>&gt;</span>default<span class=\"tag\">&lt;/<span class=\"name\">hubProfileName</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Profile template. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">sourceProfileName</span>&gt;</span>tcp-http-default<span class=\"tag\">&lt;/<span class=\"name\">sourceProfileName</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Profile template. --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">transparent</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;/<span class=\"name\">streamProxy</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">channelList</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">includeFile</span>&gt;</span>/home/rim/docs/Progs/msd/msd/conf/msd_channels.conf<span class=\"tag\">&lt;/<span class=\"name\">includeFile</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">c-hannel</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>Test1.ts<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Channel name, used in request: /channel/... . --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">hubProfileName</span>&gt;</span>default<span class=\"tag\">&lt;/<span class=\"name\">hubProfileName</span>&gt;</span></span><br><span class=\"line\">         <span class=\"comment\">&lt;!-- Profile template. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">precache</span>&gt;</span>8192<span class=\"tag\">&lt;/<span class=\"name\">precache</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">skt</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">sndBuf</span>&gt;</span>1024<span class=\"tag\">&lt;/<span class=\"name\">sndBuf</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- Max send block size, apply to clients sockets only, must be &gt; rcvLoWatermark. --&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">skt</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">sourceList</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">source</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">type</span>&gt;</span>multicast-udp<span class=\"tag\">&lt;/<span class=\"name\">type</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">sourceProfileName</span>&gt;</span>multicast-udp-default<span class=\"tag\">&lt;/<span class=\"name\">sourceProfileName</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Profile template name. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">udp</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">address</span>&gt;</span>239.0.0.2:1234<span class=\"tag\">&lt;/<span class=\"name\">address</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;/<span class=\"name\">udp</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">multicast</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">ifName</span>&gt;</span>vlan777<span class=\"tag\">&lt;/<span class=\"name\">ifName</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;/<span class=\"name\">multicast</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">source</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">source</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">type</span>&gt;</span>multicast-udp<span class=\"tag\">&lt;/<span class=\"name\">type</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">sourceProfileName</span>&gt;</span>multicast-udp-default<span class=\"tag\">&lt;/<span class=\"name\">sourceProfileName</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Profile template name. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">udp</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">address</span>&gt;</span>239.0.0.3:1234<span class=\"tag\">&lt;/<span class=\"name\">address</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;/<span class=\"name\">udp</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">multicast</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">ifName</span>&gt;</span>vlan777<span class=\"tag\">&lt;/<span class=\"name\">ifName</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;/<span class=\"name\">multicast</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">source</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">source</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">type</span>&gt;</span>tcp-http<span class=\"tag\">&lt;/<span class=\"name\">type</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">sourceProfileName</span>&gt;</span>tcp-http-default<span class=\"tag\">&lt;/<span class=\"name\">sourceProfileName</span>&gt;</span></span><br><span class=\"line\">               <span class=\"comment\">&lt;!-- Profile template. --&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">tcp</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"comment\">&lt;!-- For: tcp- and tcp-http. --&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">remonteHostname</span>&gt;</span>93.95.99.231:9500<span class=\"tag\">&lt;/<span class=\"name\">remonteHostname</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;/<span class=\"name\">tcp</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">http</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">urlPath</span>&gt;</span>udp/234.1.1.26:10000<span class=\"tag\">&lt;/<span class=\"name\">urlPath</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;/<span class=\"name\">http</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">source</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">sourceList</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">c-hannel</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;/<span class=\"name\">channelList</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">msd</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>我设置修改的部分为(bro0.41 和 IP地址):</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">address</span>&gt;</span>192.168.6.115:7088<span class=\"tag\">&lt;/<span class=\"name\">address</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ifName</span>&gt;</span>bro0.41<span class=\"tag\">&lt;/<span class=\"name\">ifName</span>&gt;</span> <span class=\"comment\">&lt;!-- Get IP address and replace in &#x27;address&#x27; before bind. --&gt;</span></span><br></pre></td></tr></table></figure>\n\n\n\n<p>运行:  msd -c .&#x2F;msd.conf </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">admin@RT-AC86U-A4C8:/tmp/mnt/AC86U/entware/etc<span class=\"comment\"># msd -d -c ./msd.conf </span></span><br></pre></td></tr></table></figure>\n\n<p>运行日志:</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">admin@RT-AC86U-A4C8:/tmp/mnt/AC86U/entware/etc# cd /opt/var/log                                              </span><br><span class=\"line\">admin@RT-AC86U-A4C8:/tmp/mnt/AC86U/entware/var/log# ls                                                       </span><br><span class=\"line\">msd.log                                                                                                      </span><br><span class=\"line\">admin@RT-AC86U-A4C8:/tmp/mnt/AC86U/entware/var/log# cat msd.log                                              </span><br><span class=\"line\">                                                                                                             </span><br><span class=\"line\">                                                                                                             </span><br><span class=\"line\">                                                                                                             </span><br><span class=\"line\">                                                                                                             </span><br><span class=\"line\">[2024-09-28 13:48:57]: msd 3.01.0: started                                                                   </span><br><span class=\"line\">[2024-09-28 13:48:57]: Build: Jul 23 2024 11:34:57, Release                                                  </span><br><span class=\"line\">[2024-09-28 13:48:57]: CPU count: 2                                                                          </span><br><span class=\"line\">[2024-09-28 13:48:57]: descriptor table size: 1024 (max files)                                               </span><br><span class=\"line\">[2024-09-28 13:48:57]: Thread 1 started...                                                                   </span><br><span class=\"line\">[2024-09-28 13:48:57]: Bind thread 1 to CPU 1                                                                </span><br><span class=\"line\">[2024-09-28 13:48:57]: Thread 2 started...                                                                   </span><br><span class=\"line\">[2024-09-28 13:48:57]: hostname: *                                                                           </span><br><span class=\"line\">[2024-09-28 13:48:57]: hostname: netlab.linkpc.net                                                           </span><br><span class=\"line\">[2024-09-28 13:48:57]: hostname: www.netlab.linkpc.net                                                       </span><br><span class=\"line\">[2024-09-28 13:48:57]: hostname: netlab.dhis.org                                                             </span><br><span class=\"line\">[2024-09-28 13:48:57]: hostname: net-lab.slyip.net                                                           </span><br><span class=\"line\">[2024-09-28 13:48:57]: Bind thread 2 to CPU 0                                                                </span><br><span class=\"line\">[2024-09-28 13:48:57] http_srv_xml_load_bind, line 292: HTTP server: cant get addr for: bro0.41 - error 29: b</span><br><span class=\"line\">.slyip.net                                                                                                   </span><br><span class=\"line\">et                                                                                                           </span><br><span class=\"line\">                                                                                                             </span><br><span class=\"line\">[2024-09-28 13:48:57] http_srv_xml_load_start, line 348: http_srv_xml_load_bind() - error 29: h�_�           </span><br><span class=\"line\">[2024-09-28 13:48:57]: bind 0.0.0.0:7088, backlog = -1, tcp_cc =                                             </span><br><span class=\"line\">[2024-09-28 13:48:57]: bind 0.0.0.0:40788, backlog = -1, tcp_cc =                                            </span><br><span class=\"line\">[2024-09-28 13:48:57]: bind [:]:7088, backlog = -1, tcp_cc =                                                 </span><br><span class=\"line\">[2024-09-28 13:48:57]: hostname: localhost                                                                   </span><br><span class=\"line\">[2024-09-28 13:48:57] http_srv_bind_add, line 629: err_out - error 99: ��&lt;�U                                 </span><br><span class=\"line\">[2024-09-28 13:48:57] http_srv_xml_load_start, line 361: http_srv_bind_add(): [::]:7088, backlog = -1, tcp_cc</span><br><span class=\"line\"> =  - error 99: ȇ��גӛ��_�                                                                                    </span><br><span class=\"line\">[2024-09-28 13:48:57]: hostname: localhost                                                                   </span><br><span class=\"line\">[2024-09-28 13:48:57]: bind 127.0.0.1:7088, backlog = -1, tcp_cc =                                           </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 198: Try to add filtering PID 17, mem=0, count=0      </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 209: Added filtering PID 17, mem=55c23ce6e0, count=1  </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 198: Try to add filtering PID 18, mem=55c23ce6e0, coun</span><br><span class=\"line\">t=1                                                                                                          </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 209: Added filtering PID 18, mem=55c23ce6e0, count=2  </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_settings_copy, line 231: mem=55c23ce6e0, count=2                              </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 198: Try to add filtering PID 17, mem=55c23ceb30, coun</span><br><span class=\"line\">t=0                                                                                                          </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 209: Added filtering PID 17, mem=55c23ceb30, count=1  </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 198: Try to add filtering PID 18, mem=55c23ceb30, coun</span><br><span class=\"line\">t=1                                                                                                          </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 209: Added filtering PID 18, mem=55c23ceb30, count=2  </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 198: Try to add filtering PID 17, mem=0, count=0      </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 209: Added filtering PID 17, mem=55c23cec20, count=1  </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 198: Try to add filtering PID 18, mem=55c23cec20, coun</span><br><span class=\"line\">t=1                                                                                                          </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 209: Added filtering PID 18, mem=55c23cec20, count=2  </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_settings_copy, line 231: mem=55c23cec20, count=2                              </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 198: Try to add filtering PID 17, mem=55c23cec40, coun</span><br><span class=\"line\">t=0                                                                                                          </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 209: Added filtering PID 17, mem=55c23cec40, count=1  </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 198: Try to add filtering PID 18, mem=55c23cec40, coun</span><br><span class=\"line\">t=1                                                                                                          </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 209: Added filtering PID 18, mem=55c23cec40, count=2  </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 198: Try to add filtering PID 17, mem=0, count=0      </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 209: Added filtering PID 17, mem=55c23ced90, count=1  </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 198: Try to add filtering PID 18, mem=55c23ced90, coun</span><br><span class=\"line\">t=1                                                                                                          </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 209: Added filtering PID 18, mem=55c23ced90, count=2  </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_settings_copy, line 231: mem=55c23ced90, count=2                              </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 198: Try to add filtering PID 17, mem=55c23cedb0, coun</span><br><span class=\"line\">t=0                                                                                                          </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 209: Added filtering PID 17, mem=55c23cedb0, count=1  </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 198: Try to add filtering PID 18, mem=55c23cedb0, coun</span><br><span class=\"line\">t=1                                                                                                          </span><br><span class=\"line\">[2024-09-28 13:48:57] mpeg2_ts_xml_load_settings, line 209: Added filtering PID 18, mem=55c23cedb0, count=2  </span><br><span class=\"line\">[2024-09-28 13:48:57]: Thread 0 started...                                                                   </span><br><span class=\"line\">[2024-09-28 13:48:57]: Bind thread 0 to CPU 0                                                                </span><br><span class=\"line\">[2024-09-28 13:48:57]: Load channels: from main config.                                                      </span><br><span class=\"line\">[2024-09-28 13:48:57]: Load channels: from included configs.                                                 </span><br><span class=\"line\">[2024-09-28 13:48:57]: Load channels: from &quot;/home/rim/docs/Progs/msd/msd/conf/msd_channels.conf&quot;             </span><br><span class=\"line\">[2024-09-28 13:48:57] msd_load_timer_cb, line 475: Load channels: FAIL from &quot;/home/rim/docs/Progs/msd/msd/con</span><br><span class=\"line\">f/msd_channels.conf&quot; - error 2: ȇ��גӛ��_�                                                                    </span><br><span class=\"line\">[2024-09-28 13:49:24]: error: no http header, client ip: 192.168.6.221:53758                                 </span><br><span class=\"line\">[2024-09-28 13:50:38] mpeg2_ts_settings_copy, line 231: mem=55c23ceb30, count=2                              </span><br><span class=\"line\">[2024-09-28 13:50:38]: /udp/239.3.1.241:8000@: Created.                                                      </span><br><span class=\"line\">[2024-09-28 13:50:38] mpeg2_ts_settings_copy, line 231: mem=55c23ce6e0, count=2                              </span><br><span class=\"line\">[2024-09-28 13:50:38] mpeg2_ts_settings_copy, line 231: mem=7fa4001ad0, count=2                              </span><br><span class=\"line\">[2024-09-28 13:50:38] mpeg2_ts_settings_copy, line 231: mem=7fac001ab0, count=2                              </span><br><span class=\"line\">[2024-09-28 13:50:38]: /udp/239.3.1.241:8000@ - 0/0: waiting for data [0: OK ]...                            </span><br><span class=\"line\">[2024-09-28 13:50:38]: /udp/239.3.1.241:8000@ - 192.168.6.221:53843: attached, cli_count = 1                 </span><br><span class=\"line\">[2024-09-28 13:50:38]: /udp/239.3.1.241:8000@ - 1/1: running [0: OK ]...                                     </span><br><span class=\"line\">[2024-09-28 13:51:04]: Thread 1 exited...                                                                    </span><br><span class=\"line\">[2024-09-28 13:51:04]: Thread 0 exited...                                                                    </span><br><span class=\"line\">[2024-09-28 13:51:04]: /udp/239.3.1.241:8000@ - 192.168.6.221:53843: deattached, cli_count = 0               </span><br><span class=\"line\">[2024-09-28 13:51:04]: /udp/239.3.1.241:8000@: Destroyed.                                                    </span><br><span class=\"line\">[2024-09-28 13:51:04]: exiting.  </span><br></pre></td></tr></table></figure>\n\n<p>本章节鸣谢: <a href=\"https://www.right.com.cn/forum/thread-8344786-1-1.html\">梅林固件下使用msdlite求助</a></p>\n<p>中继K2P</p>\n<p>中继成功, 但无DHCP功能, 导致客户端无法自动获取IP地址</p>\n<h2 id=\"frpc-内网穿透管理AC86U\"><a href=\"#frpc-内网穿透管理AC86U\" class=\"headerlink\" title=\"frpc 内网穿透管理AC86U\"></a>frpc 内网穿透管理AC86U</h2><p>修改了frpc在群晖中的设置, 从原来的源头192.168.6.243 到现在的 192.168.6.115; 需要进群晖管理界面, 呼叫出:任务管理器, 然后看到之前的 frpc进程, 然后先kill掉, 重新在运行起来:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">nohup</span> /usr/local/frp/frpc -c /usr/local/frp/frpc.ini &gt;/dev/null 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure>\n\n\n\n<p><a href=\"http://127.0.0.1:22224/Main_Login.asp\">http://127.0.0.1:22224/Main_Login.asp</a></p>\n<p>admin:00000</p>\n<h2 id=\"AC86U做AP不定时失效\"><a href=\"#AC86U做AP不定时失效\" class=\"headerlink\" title=\"AC86U做AP不定时失效\"></a>AC86U做AP不定时失效</h2><p>失效原因未知; 当前的WIFI用户不受影响, 但是新的手机等无法连接到这个AP的WIFI点.</p>\n<p>解决办法: AP 每天重启 AC86U</p>\n<p>同时设置了NAS中定时任务, 重启 supervisorctl restart ffmpeg</p>","categories":[{"name":"K2P","path":"api/categories/K2P.json"}],"tags":[{"name":"K2P","path":"api/tags/K2P.json"}]}