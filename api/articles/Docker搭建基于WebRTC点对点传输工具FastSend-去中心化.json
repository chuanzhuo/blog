{"title":"Docker搭建基于WebRTC点对点传输工具FastSend-去中心化","slug":"Docker搭建基于WebRTC点对点传输工具FastSend-去中心化","date":"2025-05-04T03:00:01.000Z","updated":"2025-05-05T11:26:41.677Z","comments":true,"path":"api/articles/Docker搭建基于WebRTC点对点传输工具FastSend-去中心化.json","excerpt":" [Figure] 局域网或Internet, 跨平台设备之间文件或目录互传, 批量文件高速传输","covers":["https://img.carlzeng.com:3/i/2025/05/05/6818a04e6096d.png","https://img.carlzeng.com:3/i/2025/05/05/68189755deb09.png","https://img.carlzeng.com:3/i/2025/05/05/68189805918be.png"],"content":"<img class=\"lozad\" data-src=\"https://img.carlzeng.com:3/i/2025/05/05/6818a04e6096d.png\">\n\n<p>局域网或Internet, 跨平台设备之间文件或目录互传, 批量文件高速传输</p>\n<span id=\"more\"></span>\n\n<div> \n<button onclick=\"synthesizeSpeech()\">朗读全文</button>\n</div>\n<audio controls id=\"audioPlayer\">Your browser does not support the audio element.</audio>      \n<script>\n  function synthesizeSpeech() { \n    var inputText = document.getElementsByClassName('post-block')[0].innerText;\n    var voice = \"ZH\";\n    var url = 'https://tts.carlzeng.com:3/speech?text=' + encodeURIComponent(inputText.substring(0,3000)) + '&voice=' + voice;\n    var audioPlayer = document.getElementById('audioPlayer');          \n    audioPlayer.src = url;\n    audioPlayer.load();\n    audioPlayer.play();\n  }\n</script>\n\n\n<h1 id=\"有什么用\"><a href=\"#有什么用\" class=\"headerlink\" title=\"有什么用\"></a>有什么用</h1><p>2025年5月 当前类似的产品, 很好用: <a href=\"https://yunhe.in/\">https://yunhe.in</a></p>\n<h1 id=\"怎么用\"><a href=\"#怎么用\" class=\"headerlink\" title=\"怎么用\"></a>怎么用</h1><p>两个客户端同时打开网页, 一个发送, 另一个接受</p>\n<p>比如手机端发送, MAC电脑端接受</p>\n<h1 id=\"相关内容\"><a href=\"#相关内容\" class=\"headerlink\" title=\"相关内容\"></a>相关内容</h1><iframe style=\"box-shadow: 0px 0px 20px -10px;\" src=\"https://query.carlzeng.com:3/appsearch?q=docker\" frameborder=\"0\" scrolling=\"auto\" width=\"100%\" height=\"500\"></iframe>\n\n<h1 id=\"实现方法\"><a href=\"#实现方法\" class=\"headerlink\" title=\"实现方法\"></a>实现方法</h1><p>git clone -depth 1 </p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clone --depth 1 https://github.com/ShouChenICU/FastSend.git </span><br></pre></td></tr></table></figure>\n\n\n\n\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">root@debian12:~/FastSend# docker-compose up -d                                                    </span><br><span class=\"line\">WARN[0000] /root/FastSend/docker-compose.yaml: `version` is obsolete                              </span><br><span class=\"line\">[+] Building 41.7s (7/11)                                                          docker:default </span><br><span class=\"line\"> =&gt; [app internal] load build definition from Dockerfile                                     0.0s </span><br><span class=\"line\"> =&gt; =&gt; transferring dockerfile: 32B                                                          0.0s </span><br><span class=\"line\"> =&gt; [app internal] load .dockerignore                                                        0.0s </span><br><span class=\"line\"> =&gt; =&gt; transferring context: 2B                                                              0.0s </span><br><span class=\"line\"> =&gt; [app internal] load metadata for docker.io/library/node:18-alpine                       41.6s </span><br><span class=\"line\"> =&gt; [app builder 1/6] FROM docker.io/library/node:18-alpine@sha256:8d6421d663b4c28fd3ebc498  0.0s </span><br><span class=\"line\"> =&gt; [app internal] load build context                                                        0.0s </span><br><span class=\"line\"> =&gt; =&gt; transferring context: 14.72kB                                                         0.0s </span><br><span class=\"line\"> =&gt; CACHED [app builder 2/6] WORKDIR /app                                                    0.0s </span><br><span class=\"line\"> =&gt; CACHED [app builder 3/6] COPY package.json yarn.lock ./                                  0.0s </span><br><span class=\"line\"> =&gt; ERROR [app builder 4/6] RUN yarn install --frozen-lockfile                              31.2s </span><br><span class=\"line\">------                                                                                            </span><br><span class=\"line\"> &gt; [app builder 4/6] RUN yarn install --frozen-lockfile:                                          </span><br><span class=\"line\">0.435 yarn install v1.22.22                                                                       </span><br><span class=\"line\">0.507 [1/4] Resolving packages...                                                                 </span><br><span class=\"line\">0.946 [2/4] Fetching packages...                                                                  </span><br><span class=\"line\">30.54 error magic-string-ast@0.8.0: The engine &quot;node&quot; is incompatible with this module. Expected v</span><br><span class=\"line\">ersion &quot;&gt;=20.18.0&quot;. Got &quot;18.20.8&quot;                                                                 </span><br><span class=\"line\">30.56 error Found incompatible module.                                                            </span><br><span class=\"line\">30.56 info Visit https://yarnpkg.com/en/docs/cli/install for documentation about this command.    </span><br><span class=\"line\">------                                                                                            </span><br><span class=\"line\">failed to solve: executor failed running [/bin/sh -c yarn install --frozen-lockfile]: exit code: 1</span><br><span class=\"line\">root@debian12:~/FastSend# docker-compose up -d</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"切换到新的源\"><a href=\"#切换到新的源\" class=\"headerlink\" title=\"切换到新的源\"></a>切换到新的源</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker pull 918178/fastsend</span><br><span class=\"line\"></span><br><span class=\"line\">root@debian12:~/FastSend<span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"built_in\">mkdir</span> -p ~/FastSend  &amp;&amp;  <span class=\"built_in\">cd</span> ~/FastSend</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">version:</span> <span class=\"string\">&#x27;3&#x27;</span></span><br><span class=\"line\"><span class=\"attr\">services:</span></span><br><span class=\"line\">  <span class=\"attr\">fastsend:</span></span><br><span class=\"line\">    <span class=\"attr\">image:</span>  <span class=\"number\">918178</span><span class=\"string\">/fastsend:v0.5.7</span></span><br><span class=\"line\">    <span class=\"attr\">container_name:</span> <span class=\"string\">fastsend</span></span><br><span class=\"line\">    <span class=\"attr\">restart:</span> <span class=\"string\">unless-stopped</span></span><br><span class=\"line\">    <span class=\"attr\">ports:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"number\">8084</span><span class=\"string\">:3000</span></span><br><span class=\"line\">    <span class=\"attr\">environment:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">NODE_ENV=production</span></span><br><span class=\"line\">    <span class=\"attr\">command:</span> <span class=\"string\">node</span> <span class=\"string\">server/index.mjs</span></span><br></pre></td></tr></table></figure>\n\n<p><img data-src=\"https://img.carlzeng.com:3/i/2025/05/05/68189755deb09.png\" alt=\"image-20250505184747522\"></p>\n<p>可以正常使用, 但是缺点太明显了:</p>\n<ol>\n<li>一次只能传输1个文件, 已经是Chrome了(同等情况下<a href=\"https://yunhe.in表现更优秀/\">https://yunhe.in表现更优秀</a>)</li>\n<li>传输文件需要的点击数太多了; 手机端选择图片以后, 会出现一个接收码, <ol>\n<li>然后电脑端 还需要输入这个接收码</li>\n<li>然后还需要手机端确认, 然后电脑端在确认</li>\n<li>操作太繁琐</li>\n</ol>\n</li>\n</ol>\n<p><img data-src=\"https://img.carlzeng.com:3/i/2025/05/05/68189805918be.png\" alt=\"image-20250505185044035\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">version:</span> <span class=\"string\">&#x27;3&#x27;</span></span><br><span class=\"line\"><span class=\"attr\">services:</span></span><br><span class=\"line\">  <span class=\"attr\">fastsend:</span></span><br><span class=\"line\">    <span class=\"attr\">image:</span>  <span class=\"string\">niliaerith/fastsend</span></span><br><span class=\"line\">    <span class=\"attr\">container_name:</span> <span class=\"string\">fastsend</span></span><br><span class=\"line\">    <span class=\"attr\">restart:</span> <span class=\"string\">unless-stopped</span></span><br><span class=\"line\">    <span class=\"attr\">ports:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"number\">8084</span><span class=\"string\">:3000</span></span><br><span class=\"line\">    <span class=\"attr\">environment:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">NODE_ENV=production</span></span><br><span class=\"line\">    <span class=\"attr\">command:</span> <span class=\"string\">node</span> <span class=\"string\">server/index.mjs</span></span><br></pre></td></tr></table></figure>\n\n<p>也是ok的, 但是功能上的弊端&#x2F;缺陷, 依然存在; </p>\n<p>暂停项目, 建议使用<a href=\"https://yunhe.in/\">https://yunhe.in</a></p>\n","more":"<div> \n<button onclick=\"synthesizeSpeech()\">朗读全文</button>\n</div>\n<audio controls id=\"audioPlayer\">Your browser does not support the audio element.</audio>      \n<script>\n  function synthesizeSpeech() { \n    var inputText = document.getElementsByClassName('post-block')[0].innerText;\n    var voice = \"ZH\";\n    var url = 'https://tts.carlzeng.com:3/speech?text=' + encodeURIComponent(inputText.substring(0,3000)) + '&voice=' + voice;\n    var audioPlayer = document.getElementById('audioPlayer');          \n    audioPlayer.src = url;\n    audioPlayer.load();\n    audioPlayer.play();\n  }\n</script>\n\n\n<h1 id=\"有什么用\"><a href=\"#有什么用\" class=\"headerlink\" title=\"有什么用\"></a>有什么用</h1><p>2025年5月 当前类似的产品, 很好用: <a href=\"https://yunhe.in/\">https://yunhe.in</a></p>\n<h1 id=\"怎么用\"><a href=\"#怎么用\" class=\"headerlink\" title=\"怎么用\"></a>怎么用</h1><p>两个客户端同时打开网页, 一个发送, 另一个接受</p>\n<p>比如手机端发送, MAC电脑端接受</p>\n<h1 id=\"相关内容\"><a href=\"#相关内容\" class=\"headerlink\" title=\"相关内容\"></a>相关内容</h1><iframe style=\"box-shadow: 0px 0px 20px -10px;\" src=\"https://query.carlzeng.com:3/appsearch?q=docker\" frameborder=\"0\" scrolling=\"auto\" width=\"100%\" height=\"500\"></iframe>\n\n<h1 id=\"实现方法\"><a href=\"#实现方法\" class=\"headerlink\" title=\"实现方法\"></a>实现方法</h1><p>git clone -depth 1 </p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clone --depth 1 https://github.com/ShouChenICU/FastSend.git </span><br></pre></td></tr></table></figure>\n\n\n\n\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">root@debian12:~/FastSend# docker-compose up -d                                                    </span><br><span class=\"line\">WARN[0000] /root/FastSend/docker-compose.yaml: `version` is obsolete                              </span><br><span class=\"line\">[+] Building 41.7s (7/11)                                                          docker:default </span><br><span class=\"line\"> =&gt; [app internal] load build definition from Dockerfile                                     0.0s </span><br><span class=\"line\"> =&gt; =&gt; transferring dockerfile: 32B                                                          0.0s </span><br><span class=\"line\"> =&gt; [app internal] load .dockerignore                                                        0.0s </span><br><span class=\"line\"> =&gt; =&gt; transferring context: 2B                                                              0.0s </span><br><span class=\"line\"> =&gt; [app internal] load metadata for docker.io/library/node:18-alpine                       41.6s </span><br><span class=\"line\"> =&gt; [app builder 1/6] FROM docker.io/library/node:18-alpine@sha256:8d6421d663b4c28fd3ebc498  0.0s </span><br><span class=\"line\"> =&gt; [app internal] load build context                                                        0.0s </span><br><span class=\"line\"> =&gt; =&gt; transferring context: 14.72kB                                                         0.0s </span><br><span class=\"line\"> =&gt; CACHED [app builder 2/6] WORKDIR /app                                                    0.0s </span><br><span class=\"line\"> =&gt; CACHED [app builder 3/6] COPY package.json yarn.lock ./                                  0.0s </span><br><span class=\"line\"> =&gt; ERROR [app builder 4/6] RUN yarn install --frozen-lockfile                              31.2s </span><br><span class=\"line\">------                                                                                            </span><br><span class=\"line\"> &gt; [app builder 4/6] RUN yarn install --frozen-lockfile:                                          </span><br><span class=\"line\">0.435 yarn install v1.22.22                                                                       </span><br><span class=\"line\">0.507 [1/4] Resolving packages...                                                                 </span><br><span class=\"line\">0.946 [2/4] Fetching packages...                                                                  </span><br><span class=\"line\">30.54 error magic-string-ast@0.8.0: The engine &quot;node&quot; is incompatible with this module. Expected v</span><br><span class=\"line\">ersion &quot;&gt;=20.18.0&quot;. Got &quot;18.20.8&quot;                                                                 </span><br><span class=\"line\">30.56 error Found incompatible module.                                                            </span><br><span class=\"line\">30.56 info Visit https://yarnpkg.com/en/docs/cli/install for documentation about this command.    </span><br><span class=\"line\">------                                                                                            </span><br><span class=\"line\">failed to solve: executor failed running [/bin/sh -c yarn install --frozen-lockfile]: exit code: 1</span><br><span class=\"line\">root@debian12:~/FastSend# docker-compose up -d</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"切换到新的源\"><a href=\"#切换到新的源\" class=\"headerlink\" title=\"切换到新的源\"></a>切换到新的源</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker pull 918178/fastsend</span><br><span class=\"line\"></span><br><span class=\"line\">root@debian12:~/FastSend<span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"built_in\">mkdir</span> -p ~/FastSend  &amp;&amp;  <span class=\"built_in\">cd</span> ~/FastSend</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">version:</span> <span class=\"string\">&#x27;3&#x27;</span></span><br><span class=\"line\"><span class=\"attr\">services:</span></span><br><span class=\"line\">  <span class=\"attr\">fastsend:</span></span><br><span class=\"line\">    <span class=\"attr\">image:</span>  <span class=\"number\">918178</span><span class=\"string\">/fastsend:v0.5.7</span></span><br><span class=\"line\">    <span class=\"attr\">container_name:</span> <span class=\"string\">fastsend</span></span><br><span class=\"line\">    <span class=\"attr\">restart:</span> <span class=\"string\">unless-stopped</span></span><br><span class=\"line\">    <span class=\"attr\">ports:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"number\">8084</span><span class=\"string\">:3000</span></span><br><span class=\"line\">    <span class=\"attr\">environment:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">NODE_ENV=production</span></span><br><span class=\"line\">    <span class=\"attr\">command:</span> <span class=\"string\">node</span> <span class=\"string\">server/index.mjs</span></span><br></pre></td></tr></table></figure>\n\n<p><img data-src=\"https://img.carlzeng.com:3/i/2025/05/05/68189755deb09.png\" alt=\"image-20250505184747522\"></p>\n<p>可以正常使用, 但是缺点太明显了:</p>\n<ol>\n<li>一次只能传输1个文件, 已经是Chrome了(同等情况下<a href=\"https://yunhe.in表现更优秀/\">https://yunhe.in表现更优秀</a>)</li>\n<li>传输文件需要的点击数太多了; 手机端选择图片以后, 会出现一个接收码, <ol>\n<li>然后电脑端 还需要输入这个接收码</li>\n<li>然后还需要手机端确认, 然后电脑端在确认</li>\n<li>操作太繁琐</li>\n</ol>\n</li>\n</ol>\n<p><img data-src=\"https://img.carlzeng.com:3/i/2025/05/05/68189805918be.png\" alt=\"image-20250505185044035\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">version:</span> <span class=\"string\">&#x27;3&#x27;</span></span><br><span class=\"line\"><span class=\"attr\">services:</span></span><br><span class=\"line\">  <span class=\"attr\">fastsend:</span></span><br><span class=\"line\">    <span class=\"attr\">image:</span>  <span class=\"string\">niliaerith/fastsend</span></span><br><span class=\"line\">    <span class=\"attr\">container_name:</span> <span class=\"string\">fastsend</span></span><br><span class=\"line\">    <span class=\"attr\">restart:</span> <span class=\"string\">unless-stopped</span></span><br><span class=\"line\">    <span class=\"attr\">ports:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"number\">8084</span><span class=\"string\">:3000</span></span><br><span class=\"line\">    <span class=\"attr\">environment:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">NODE_ENV=production</span></span><br><span class=\"line\">    <span class=\"attr\">command:</span> <span class=\"string\">node</span> <span class=\"string\">server/index.mjs</span></span><br></pre></td></tr></table></figure>\n\n<p>也是ok的, 但是功能上的弊端&#x2F;缺陷, 依然存在; </p>\n<p>暂停项目, 建议使用<a href=\"https://yunhe.in/\">https://yunhe.in</a></p>","categories":[{"name":"FastSend","path":"api/categories/FastSend.json"}],"tags":[{"name":"docker","path":"api/tags/docker.json"},{"name":"docker-compose","path":"api/tags/docker-compose.json"},{"name":"fastsend","path":"api/tags/fastsend.json"}]}