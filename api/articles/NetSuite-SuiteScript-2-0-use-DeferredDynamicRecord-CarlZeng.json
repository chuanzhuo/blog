{"title":"NetSuite SuiteScript 2.0 use DeferredDynamicRecord-CarlZeng","slug":"NetSuite-SuiteScript-2-0-use-DeferredDynamicRecord-CarlZeng","date":"2017-05-08T12:38:00.000Z","updated":"2023-10-08T13:38:52.658Z","comments":true,"path":"api/articles/NetSuite-SuiteScript-2-0-use-DeferredDynamicRecord-CarlZeng.json","excerpt":"Background There is a case when we add dynamic sublists to NetSuite Transaction, for user to put in data. In server-side, how to read it in SuiteScrip","covers":["http://images2015.cnblogs.com/blog/41238/201705/41238-20170508203127926-1479487721.jpg"],"content":"<p>Background There is a case when we add dynamic sublists to NetSuite Transaction, for user to put in data. In server-side, how to read it in SuiteScrip</p>\n<!-- more -->\n<h3 id=\"Background\"><a href=\"#Background\" class=\"headerlink\" title=\"Background\"></a>Background</h3><p>There is a case when we add dynamic sublists to NetSuite Transaction, for user to put in data.</p>\n<p>In server-side, how to read it in SuiteScript 2.0, NetSuite version 2017.1.0.70</p>\n<p>I found we can’t use scriptContext.newRecord.getSublistValue to read data in custom sublist.</p>\n<p>and we can’t use scriptContext.newRecord.sublists.custpage_receipts to read detail objects. </p>\n<p>How to resolve this?</p>\n<h3 id=\"Solution\"><a href=\"#Solution\" class=\"headerlink\" title=\"Solution\"></a>Solution</h3><p>In beforeSubmit we have native NetSuite parameter scriptContext,</p>\n<p>when we saw scriptContext.newRecord it’s a type of DeferredDynamicRecord.</p>\n<p>I thought we can read the object details inside, I.e. scriptContext.newRecord.sublists.custpage_receipts</p>\n<p><img data-src=\"http://images2015.cnblogs.com/blog/41238/201705/41238-20170508203127926-1479487721.jpg\"></p>\n<p>But actually since scriptContext.newRecord is a type of DeferredDynamicRecord, we can’t read the data inside.</p>\n<p>Try this:</p>\n<p>var currentRecord &#x3D; scriptContext.newRecord; var objCurRec &#x3D; JSON.parse(JSON.stringify(currentRecord)); var objSublists &#x3D; objCurRec.sublists ? objCurRec.sublists : ‘’; var objCustReceipts &#x3D; objSublists.custpage_receipts ? objSublists.custpage_receipts : ‘’;</p>\n<p>Steps:</p>\n<ol>\n<li>JSON.stringify scriptContext.newRecord. (It became string)</li>\n<li>JSON.parse the strigified string. (Now it becomes native object)</li>\n<li>Now we can read data inside I.e. objCurRec.sublists.custpage_receipts</li>\n</ol>\n<!-- p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Monaco} -->","more":"<p>Background There is a case when we add dynamic sublists to NetSuite Transaction, for user to put in data. In server-side, how to read it in SuiteScrip</p>\n<!-- more -->\n<h3 id=\"Background\"><a href=\"#Background\" class=\"headerlink\" title=\"Background\"></a>Background</h3><p>There is a case when we add dynamic sublists to NetSuite Transaction, for user to put in data.</p>\n<p>In server-side, how to read it in SuiteScript 2.0, NetSuite version 2017.1.0.70</p>\n<p>I found we can’t use scriptContext.newRecord.getSublistValue to read data in custom sublist.</p>\n<p>and we can’t use scriptContext.newRecord.sublists.custpage_receipts to read detail objects. </p>\n<p>How to resolve this?</p>\n<h3 id=\"Solution\"><a href=\"#Solution\" class=\"headerlink\" title=\"Solution\"></a>Solution</h3><p>In beforeSubmit we have native NetSuite parameter scriptContext,</p>\n<p>when we saw scriptContext.newRecord it’s a type of DeferredDynamicRecord.</p>\n<p>I thought we can read the object details inside, I.e. scriptContext.newRecord.sublists.custpage_receipts</p>\n<p><img data-src=\"http://images2015.cnblogs.com/blog/41238/201705/41238-20170508203127926-1479487721.jpg\"></p>\n<p>But actually since scriptContext.newRecord is a type of DeferredDynamicRecord, we can’t read the data inside.</p>\n<p>Try this:</p>\n<p>var currentRecord &#x3D; scriptContext.newRecord; var objCurRec &#x3D; JSON.parse(JSON.stringify(currentRecord)); var objSublists &#x3D; objCurRec.sublists ? objCurRec.sublists : ‘’; var objCustReceipts &#x3D; objSublists.custpage_receipts ? objSublists.custpage_receipts : ‘’;</p>\n<p>Steps:</p>\n<ol>\n<li>JSON.stringify scriptContext.newRecord. (It became string)</li>\n<li>JSON.parse the strigified string. (Now it becomes native object)</li>\n<li>Now we can read data inside I.e. objCurRec.sublists.custpage_receipts</li>\n</ol>\n<!-- p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Monaco} -->","categories":[{"name":"NetSuite","path":"api/categories/NetSuite.json"}],"tags":[{"name":"NetSuite","path":"api/tags/NetSuite.json"}]}