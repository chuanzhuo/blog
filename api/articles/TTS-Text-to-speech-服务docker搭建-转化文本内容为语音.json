{"title":"TTS(Text-to-speech)服务docker搭建 转化文本内容为语音","slug":"TTS-Text-to-speech-服务docker搭建-转化文本内容为语音","date":"2024-01-07T07:12:46.000Z","updated":"2024-01-16T01:06:46.926Z","comments":true,"path":"api/articles/TTS-Text-to-speech-服务docker搭建-转化文本内容为语音.json","excerpt":" [Figure] 转化文本内容为语音，TTS，生成中文语音，朗读全文，多语言支持","covers":null,"content":"<img class=\"lozad\" data-src=\"\">\n\n<p>转化文本内容为语音，TTS，生成中文语音，朗读全文，多语言支持</p>\n<span id=\"more\"></span>\n\n<div> \n<button onclick=\"synthesizeSpeech()\">朗读全文</button>\n</div>\n<audio controls id=\"audioPlayer\">Your browser does not support the audio element.</audio>      \n<script>\n  function synthesizeSpeech() { \n    var inputText = document.getElementsByClassName('post-block')[0].innerText;\n    var voice = \"ZH\";\n    var url = 'https://tts.carlzeng.top:3/speech?text=' + encodeURIComponent(inputText.substring(0,3000)) + '&voice=' + voice;\n    var audioPlayer = document.getElementById('audioPlayer');          \n    audioPlayer.src = url;\n    audioPlayer.load();\n    audioPlayer.play();\n  }\n</script>\n\n<h1 id=\"有什么用\"><a href=\"#有什么用\" class=\"headerlink\" title=\"有什么用\"></a>有什么用</h1><p>转化文本内容为语音，转化网站内容为语音，朗读，生成中文语音</p>\n<h1 id=\"怎么用\"><a href=\"#怎么用\" class=\"headerlink\" title=\"怎么用\"></a>怎么用</h1><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span> </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onclick</span>=<span class=\"string\">&quot;synthesizeSpeech()&quot;</span>&gt;</span>朗读全文<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">audio</span> <span class=\"attr\">controls</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;audioPlayer&quot;</span>&gt;</span>Your browser does not support the audio element.<span class=\"tag\">&lt;/<span class=\"name\">audio</span>&gt;</span>      </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"keyword\">function</span> <span class=\"title function_\">synthesizeSpeech</span>(<span class=\"params\"></span>) &#123; </span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">var</span> inputText = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByClassName</span>(<span class=\"string\">&#x27;post-block&#x27;</span>)[<span class=\"number\">0</span>].<span class=\"property\">innerText</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">var</span> voice = <span class=\"string\">&quot;ZH&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">var</span> url = <span class=\"string\">&#x27;https://tts.carlzeng.top:3/speech?text=&#x27;</span> + <span class=\"built_in\">encodeURIComponent</span>(inputText) + <span class=\"string\">&#x27;&amp;voice=&#x27;</span> + voice;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">var</span> audioPlayer = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;audioPlayer&#x27;</span>);          </span></span><br><span class=\"line\"><span class=\"language-javascript\">    audioPlayer.<span class=\"property\">src</span> = url;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    audioPlayer.<span class=\"title function_\">load</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">    audioPlayer.<span class=\"title function_\">play</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ol>\n<li>把以上这个html内容加到html页面中（或者模版中）</li>\n<li>编辑&#x2F;修改一下inputText的内容来源为需要朗读的文本内容。</li>\n</ol>\n<h1 id=\"实现过程\"><a href=\"#实现过程\" class=\"headerlink\" title=\"实现过程\"></a>实现过程</h1><p>TTS docker， eSpeak TTS server for WebSpeech</p>\n<p>方案有许多，但都不够亲民，或者不支持中文普通话</p>\n<p><a href=\"https://github.com/synesthesiam/opentts\">https://github.com/synesthesiam/opentts</a><br>docker run -it -p 5500:5500 synesthesiam&#x2F;opentts:zh –no-espeak<br>弊端：不支持中文，无法包含英语</p>\n<p>预览全流程 <a href=\"https://www.youtube.com/watch?v=n9E-qipw2-Y\">Setup a Text to Speech Engine(ON YOUR COMPUTER)</a></p>\n<p>新的方案：</p>\n<p>Text-to-speach server<br>    <a href=\"https://github.com/parente/espeakbox\">https://github.com/parente/espeakbox</a></p>\n<p><a href=\"http://192.168.6.203:8089/speech?text=%E6%8E%92%E6%9F%A5Nginx\">http://192.168.6.203:8089/speech?text=排查Nginx</a> Proxy Manager，反向代理，让网站变成HTTPS&amp;voice&#x3D;ZH</p>\n<pre><code>Text-to-speach server\nhttps://github.com/parente/espeakbox\n</code></pre>\n<h2 id=\"Docker的具体位置\"><a href=\"#Docker的具体位置\" class=\"headerlink\" title=\"Docker的具体位置\"></a>Docker的具体位置</h2><p><a href=\"https://hub.docker.com/r/parente/espeakbox\">https://hub.docker.com/r/parente/espeakbox</a></p>\n<div> \n<button onclick=\"synthesizeSpeech()\">合成全文语音</button>\n</div>\n<audio controls id=\"audioPlayer\">Your browser does not support the audio element.</audio>      \n<script>\n  function synthesizeSpeech() { \n    var inputText = document.getElementsByClassName('post-block')[0].innerText;\n    var voice = \"ZH\";\n    var url = 'https://tts.carlzeng.top:3/speech?text=' + encodeURIComponent(inputText) + '&voice=' + voice;\n    var audioPlayer = document.getElementById('audioPlayer');          \n    audioPlayer.src = url;\n    audioPlayer.load();\n    audioPlayer.play();\n  }\n</script>\n\n<h1 id=\"相关内容\"><a href=\"#相关内容\" class=\"headerlink\" title=\"相关内容\"></a>相关内容</h1><iframe style=\"box-shadow: 0px 0px 20px -10px;\" src=\"https://query.carlzeng.top:3/appsearch?q=tts\" frameborder=\"0\" scrolling=\"auto\" width=\"100%\" height=\"500\"></iframe>\n\n<h1 id=\"下一步\"><a href=\"#下一步\" class=\"headerlink\" title=\"下一步\"></a>下一步</h1><p>寻找更精准的朗读AI模型，让中文阅读，更加顺耳</p>\n<p>比如讯飞语音的朗读，比这个好听多了….</p>\n<h1 id=\"灵感来源\"><a href=\"#灵感来源\" class=\"headerlink\" title=\"灵感来源\"></a>灵感来源</h1><p><a href=\"https://github.com/parente/espeakbox\">https://github.com/parente/espeakbox</a></p>\n<p><a href=\"https://github.com/kripken/speak.js\">https://github.com/kripken/speak.js</a></p>\n<p>手机刷入 防沉迷 \t系统<br>    小米K40</p>\n<p>安卓 屏幕时间管理 app</p>\n<p>手机 青少年模式</p>\n<pre><code>ChatGPT语音插件\n\nAzure Text to speech API\n\nTTS docker\n</code></pre>\n","more":"<div> \n<button onclick=\"synthesizeSpeech()\">朗读全文</button>\n</div>\n<audio controls id=\"audioPlayer\">Your browser does not support the audio element.</audio>      \n<script>\n  function synthesizeSpeech() { \n    var inputText = document.getElementsByClassName('post-block')[0].innerText;\n    var voice = \"ZH\";\n    var url = 'https://tts.carlzeng.top:3/speech?text=' + encodeURIComponent(inputText.substring(0,3000)) + '&voice=' + voice;\n    var audioPlayer = document.getElementById('audioPlayer');          \n    audioPlayer.src = url;\n    audioPlayer.load();\n    audioPlayer.play();\n  }\n</script>\n\n<h1 id=\"有什么用\"><a href=\"#有什么用\" class=\"headerlink\" title=\"有什么用\"></a>有什么用</h1><p>转化文本内容为语音，转化网站内容为语音，朗读，生成中文语音</p>\n<h1 id=\"怎么用\"><a href=\"#怎么用\" class=\"headerlink\" title=\"怎么用\"></a>怎么用</h1><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span> </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onclick</span>=<span class=\"string\">&quot;synthesizeSpeech()&quot;</span>&gt;</span>朗读全文<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">audio</span> <span class=\"attr\">controls</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;audioPlayer&quot;</span>&gt;</span>Your browser does not support the audio element.<span class=\"tag\">&lt;/<span class=\"name\">audio</span>&gt;</span>      </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"keyword\">function</span> <span class=\"title function_\">synthesizeSpeech</span>(<span class=\"params\"></span>) &#123; </span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">var</span> inputText = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByClassName</span>(<span class=\"string\">&#x27;post-block&#x27;</span>)[<span class=\"number\">0</span>].<span class=\"property\">innerText</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">var</span> voice = <span class=\"string\">&quot;ZH&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">var</span> url = <span class=\"string\">&#x27;https://tts.carlzeng.top:3/speech?text=&#x27;</span> + <span class=\"built_in\">encodeURIComponent</span>(inputText) + <span class=\"string\">&#x27;&amp;voice=&#x27;</span> + voice;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">var</span> audioPlayer = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;audioPlayer&#x27;</span>);          </span></span><br><span class=\"line\"><span class=\"language-javascript\">    audioPlayer.<span class=\"property\">src</span> = url;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    audioPlayer.<span class=\"title function_\">load</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">    audioPlayer.<span class=\"title function_\">play</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ol>\n<li>把以上这个html内容加到html页面中（或者模版中）</li>\n<li>编辑&#x2F;修改一下inputText的内容来源为需要朗读的文本内容。</li>\n</ol>\n<h1 id=\"实现过程\"><a href=\"#实现过程\" class=\"headerlink\" title=\"实现过程\"></a>实现过程</h1><p>TTS docker， eSpeak TTS server for WebSpeech</p>\n<p>方案有许多，但都不够亲民，或者不支持中文普通话</p>\n<p><a href=\"https://github.com/synesthesiam/opentts\">https://github.com/synesthesiam/opentts</a><br>docker run -it -p 5500:5500 synesthesiam&#x2F;opentts:zh –no-espeak<br>弊端：不支持中文，无法包含英语</p>\n<p>预览全流程 <a href=\"https://www.youtube.com/watch?v=n9E-qipw2-Y\">Setup a Text to Speech Engine(ON YOUR COMPUTER)</a></p>\n<p>新的方案：</p>\n<p>Text-to-speach server<br>    <a href=\"https://github.com/parente/espeakbox\">https://github.com/parente/espeakbox</a></p>\n<p><a href=\"http://192.168.6.203:8089/speech?text=%E6%8E%92%E6%9F%A5Nginx\">http://192.168.6.203:8089/speech?text=排查Nginx</a> Proxy Manager，反向代理，让网站变成HTTPS&amp;voice&#x3D;ZH</p>\n<pre><code>Text-to-speach server\nhttps://github.com/parente/espeakbox\n</code></pre>\n<h2 id=\"Docker的具体位置\"><a href=\"#Docker的具体位置\" class=\"headerlink\" title=\"Docker的具体位置\"></a>Docker的具体位置</h2><p><a href=\"https://hub.docker.com/r/parente/espeakbox\">https://hub.docker.com/r/parente/espeakbox</a></p>\n<div> \n<button onclick=\"synthesizeSpeech()\">合成全文语音</button>\n</div>\n<audio controls id=\"audioPlayer\">Your browser does not support the audio element.</audio>      \n<script>\n  function synthesizeSpeech() { \n    var inputText = document.getElementsByClassName('post-block')[0].innerText;\n    var voice = \"ZH\";\n    var url = 'https://tts.carlzeng.top:3/speech?text=' + encodeURIComponent(inputText) + '&voice=' + voice;\n    var audioPlayer = document.getElementById('audioPlayer');          \n    audioPlayer.src = url;\n    audioPlayer.load();\n    audioPlayer.play();\n  }\n</script>\n\n<h1 id=\"相关内容\"><a href=\"#相关内容\" class=\"headerlink\" title=\"相关内容\"></a>相关内容</h1><iframe style=\"box-shadow: 0px 0px 20px -10px;\" src=\"https://query.carlzeng.top:3/appsearch?q=tts\" frameborder=\"0\" scrolling=\"auto\" width=\"100%\" height=\"500\"></iframe>\n\n<h1 id=\"下一步\"><a href=\"#下一步\" class=\"headerlink\" title=\"下一步\"></a>下一步</h1><p>寻找更精准的朗读AI模型，让中文阅读，更加顺耳</p>\n<p>比如讯飞语音的朗读，比这个好听多了….</p>\n<h1 id=\"灵感来源\"><a href=\"#灵感来源\" class=\"headerlink\" title=\"灵感来源\"></a>灵感来源</h1><p><a href=\"https://github.com/parente/espeakbox\">https://github.com/parente/espeakbox</a></p>\n<p><a href=\"https://github.com/kripken/speak.js\">https://github.com/kripken/speak.js</a></p>\n<p>手机刷入 防沉迷 \t系统<br>    小米K40</p>\n<p>安卓 屏幕时间管理 app</p>\n<p>手机 青少年模式</p>\n<pre><code>ChatGPT语音插件\n\nAzure Text to speech API\n\nTTS docker\n</code></pre>","categories":[{"name":"Docker","path":"api/categories/Docker.json"}],"tags":[{"name":"docker","path":"api/tags/docker.json"},{"name":"docker-compose","path":"api/tags/docker-compose.json"},{"name":"AI","path":"api/tags/AI.json"},{"name":"TTS","path":"api/tags/TTS.json"},{"name":"语音","path":"api/tags/语音.json"}]}