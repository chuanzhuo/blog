{"title":"学习日志 - Openwrt安装python然后wallproxy-CarlZeng","slug":"学习日志-Openwrt安装python然后wallproxy-CarlZeng","date":"2014-10-16T02:27:00.000Z","updated":"2023-10-02T02:27:29.022Z","comments":true,"path":"api/articles/学习日志-Openwrt安装python然后wallproxy-CarlZeng.json","excerpt":"前提：- 先要把U盘插入路由器的usb口，大多数情况Openwrt都会自动挂载的吧，尽量找当前年或前一年的固件。ssh进路由器，可以看到/mnt/sda1- 让路由器联网，因为需要从网络上下载安装包；（当然也可以提前下载发到/tmp下面安装。。。）2. Python 安装的命令mkdir /mnt/...","covers":null,"content":"<p>前提：- 先要把U盘插入路由器的usb口，大多数情况Openwrt都会自动挂载的吧，尽量找当前年或前一年的固件。ssh进路由器，可以看到&#x2F;mnt&#x2F;sda1- 让路由器联网，因为需要从网络上下载安装包；（当然也可以提前下载发到&#x2F;tmp下面安装。。。）2. Python 安装的命令mkdir &#x2F;mnt&#x2F;…</p>\n<!-- more -->\n<p>前提：</p>\n<p> - 先要把U盘插入路由器的usb口，大多数情况Openwrt都会自动挂载的吧，尽量找当前年或前一年的固件。ssh进路由器，可以看到&#x2F;mnt&#x2F;sda1</p>\n<p> -  让路由器联网，因为需要从网络上下载安装包；（当然也可以提前下载发到&#x2F;tmp下面安装。。。）</p>\n<p>2. Python 安装的命令<br>mkdir &#x2F;mnt&#x2F;sda1&#x2F;packages&#x2F;<br>echo dest usb &#x2F;mnt&#x2F;sda1&#x2F;packages&#x2F; &gt;&gt; &#x2F;etc&#x2F;opkg.conf<br>opkg update<br>opkg -dest usb install python pyopenssl python-openssl</p>\n<p># 文档都准备完毕后【可选】<br>cp -R &#x2F;mnt&#x2F;sda1&#x2F;local&#x2F; &#x2F;</p>\n<p># 配置wallproxy<br>## 1. Get GAE, done</p>\n<p>## 2. Download Wallproxy 到U盘</p>\n<p>## 3. Run: &#x2F;mnt&#x2F;sda1&#x2F;packages&#x2F;usr&#x2F;bin&#x2F;python2.7 &#x2F;local&#x2F;startup.py &amp;<br>　　        - &#x2F;mnt&#x2F;sda1&#x2F;packages&#x2F;usr&#x2F;bin&#x2F;python2.7 &#x2F;mnt&#x2F;sda1&#x2F;local&#x2F;startup.py &amp;</p>\n<p>## 4. Upload: &#x2F;mnt&#x2F;sda1&#x2F;packages&#x2F;usr&#x2F;bin&#x2F;python2.7 &#x2F;mnt&#x2F;sda1&#x2F;server&#x2F;uploader.py</p>\n<p># upload之前要修改如下配置文件测参数：<br>- ip &#x3D; 0.0.0.0:8087<br>- ***1|***2 　　　　&#x2F;* Enter the GAE app name*&#x2F;<br>- ***@gmail.com　　&#x2F;* Enter appengine&#x2F;gmail account*&#x2F;<br>- XXX　　　　　　　　&#x2F;* Enter password*&#x2F;</p>\n<p>## 5. Update proxy.ini with in Router, By: i.e. 192.168.1.1:8087<br>- listen on 0.0.0.0<br>- uploaded appids.<br>- Update to open router’s firewall</p>\n<p>## 6.<br># 最后运行<br>&#x2F;mnt&#x2F;sda1&#x2F;packages&#x2F;usr&#x2F;bin&#x2F;python2.7 &#x2F;local&#x2F;startup.py &amp;<br>或者：&#x2F;mnt&#x2F;sda1&#x2F;packages&#x2F;usr&#x2F;bin&#x2F;python2.7 &#x2F;mnt&#x2F;sda1&#x2F;local&#x2F;startup.py &amp;</p>\n<p>## 7. Import ca.crt for browser  </p>\n<p>## [Troubleshoot] on GAE：<a href=\"https://appengine.google.com/\">https://appengine.google.com/</a>, app 运行是否正常?<br>- 是否因为 2-Step Verification is: OFF<br>- 使用ssh代理链接上网址后，查看app正常，是否是因为cmd中router无法链接到appengine.google.com？如何给它router一个代理？用来完成upload<br>- 2014Sep30, 用代理来完成上传，用mac来完成上传。。。继续尝试 resolved because of security setup, been defaulted<br>　　- 帐户所授权限 应用和网站 查看全部<br>　　　　不够安全的应用的访问权限<br>　　　　[已启用 ]设置<br>　　- Need to enable this</p>\n","more":"<p>前提：- 先要把U盘插入路由器的usb口，大多数情况Openwrt都会自动挂载的吧，尽量找当前年或前一年的固件。ssh进路由器，可以看到&#x2F;mnt&#x2F;sda1- 让路由器联网，因为需要从网络上下载安装包；（当然也可以提前下载发到&#x2F;tmp下面安装。。。）2. Python 安装的命令mkdir &#x2F;mnt&#x2F;…</p>\n<!-- more -->\n<p>前提：</p>\n<p> - 先要把U盘插入路由器的usb口，大多数情况Openwrt都会自动挂载的吧，尽量找当前年或前一年的固件。ssh进路由器，可以看到&#x2F;mnt&#x2F;sda1</p>\n<p> -  让路由器联网，因为需要从网络上下载安装包；（当然也可以提前下载发到&#x2F;tmp下面安装。。。）</p>\n<p>2. Python 安装的命令<br>mkdir &#x2F;mnt&#x2F;sda1&#x2F;packages&#x2F;<br>echo dest usb &#x2F;mnt&#x2F;sda1&#x2F;packages&#x2F; &gt;&gt; &#x2F;etc&#x2F;opkg.conf<br>opkg update<br>opkg -dest usb install python pyopenssl python-openssl</p>\n<p># 文档都准备完毕后【可选】<br>cp -R &#x2F;mnt&#x2F;sda1&#x2F;local&#x2F; &#x2F;</p>\n<p># 配置wallproxy<br>## 1. Get GAE, done</p>\n<p>## 2. Download Wallproxy 到U盘</p>\n<p>## 3. Run: &#x2F;mnt&#x2F;sda1&#x2F;packages&#x2F;usr&#x2F;bin&#x2F;python2.7 &#x2F;local&#x2F;startup.py &amp;<br>　　        - &#x2F;mnt&#x2F;sda1&#x2F;packages&#x2F;usr&#x2F;bin&#x2F;python2.7 &#x2F;mnt&#x2F;sda1&#x2F;local&#x2F;startup.py &amp;</p>\n<p>## 4. Upload: &#x2F;mnt&#x2F;sda1&#x2F;packages&#x2F;usr&#x2F;bin&#x2F;python2.7 &#x2F;mnt&#x2F;sda1&#x2F;server&#x2F;uploader.py</p>\n<p># upload之前要修改如下配置文件测参数：<br>- ip &#x3D; 0.0.0.0:8087<br>- ***1|***2 　　　　&#x2F;* Enter the GAE app name*&#x2F;<br>- ***@gmail.com　　&#x2F;* Enter appengine&#x2F;gmail account*&#x2F;<br>- XXX　　　　　　　　&#x2F;* Enter password*&#x2F;</p>\n<p>## 5. Update proxy.ini with in Router, By: i.e. 192.168.1.1:8087<br>- listen on 0.0.0.0<br>- uploaded appids.<br>- Update to open router’s firewall</p>\n<p>## 6.<br># 最后运行<br>&#x2F;mnt&#x2F;sda1&#x2F;packages&#x2F;usr&#x2F;bin&#x2F;python2.7 &#x2F;local&#x2F;startup.py &amp;<br>或者：&#x2F;mnt&#x2F;sda1&#x2F;packages&#x2F;usr&#x2F;bin&#x2F;python2.7 &#x2F;mnt&#x2F;sda1&#x2F;local&#x2F;startup.py &amp;</p>\n<p>## 7. Import ca.crt for browser  </p>\n<p>## [Troubleshoot] on GAE：<a href=\"https://appengine.google.com/\">https://appengine.google.com/</a>, app 运行是否正常?<br>- 是否因为 2-Step Verification is: OFF<br>- 使用ssh代理链接上网址后，查看app正常，是否是因为cmd中router无法链接到appengine.google.com？如何给它router一个代理？用来完成upload<br>- 2014Sep30, 用代理来完成上传，用mac来完成上传。。。继续尝试 resolved because of security setup, been defaulted<br>　　- 帐户所授权限 应用和网站 查看全部<br>　　　　不够安全的应用的访问权限<br>　　　　[已启用 ]设置<br>　　- Need to enable this</p>\n","categories":[],"tags":[]}