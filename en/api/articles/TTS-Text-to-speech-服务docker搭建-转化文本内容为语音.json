{"title":"Docker Setup for TTS (Text-to-speech) Service - Converting Text Content to Speech","slug":"TTS-Text-to-speech-服务docker搭建-转化文本内容为语音","date":"2024-01-07T07:12:46.000Z","updated":"2024-01-16T01:08:25.673Z","comments":true,"path":"api/articles/TTS-Text-to-speech-服务docker搭建-转化文本内容为语音.json","excerpt":" [Figure] Converting textual content to speech, TTS, generating Chinese speech, reading aloud the entire text, and supporting multiple languages.","covers":null,"content":"<img class=\"lozad\" data-src=\"\">\n\n<p>Converting textual content to speech, TTS, generating Chinese speech, reading aloud the entire text, and supporting multiple languages.</p>\n<span id=\"more\"></span> \n\n<div> <button onclick=\"synthesizeSpeech()\">Read Aloud Entire Text</button> </div> <audio controls id=\"audioPlayer\">Your browser does not support the audio element.</audio> <script> function synthesizeSpeech() { var inputText = document.getElementsByClassName('post-block')[0].innerText; var voice = \"ZH\"; var url = 'https://tts.carlzeng.top:3/speech?text=' + encodeURIComponent(inputText.substring(0,3000)) + '&voice=' + voice; var audioPlayer = document.getElementById('audioPlayer'); audioPlayer.src = url; audioPlayer.load(); audioPlayer.play(); } </script>\n\n<h1 id=\"Purpose\"><a href=\"#Purpose\" class=\"headerlink\" title=\"Purpose\"></a>Purpose</h1><p>Converting textual content to speech, converting website content to speech, speech synthesis, generating Chinese speech.</p>\n<h1 id=\"How-to-Use\"><a href=\"#How-to-Use\" class=\"headerlink\" title=\"How to Use\"></a>How to Use</h1><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span> </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onclick</span>=<span class=\"string\">&quot;synthesizeSpeech()&quot;</span>&gt;</span>Read Aloud Entire Text<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">audio</span> <span class=\"attr\">controls</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;audioPlayer&quot;</span>&gt;</span>Your browser does not support the audio element.<span class=\"tag\">&lt;/<span class=\"name\">audio</span>&gt;</span>      </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"keyword\">function</span> <span class=\"title function_\">synthesizeSpeech</span>(<span class=\"params\"></span>) &#123; </span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">var</span> inputText = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByClassName</span>(<span class=\"string\">&#x27;post-block&#x27;</span>)[<span class=\"number\">0</span>].<span class=\"property\">innerText</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">var</span> voice = <span class=\"string\">&quot;ZH&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">var</span> url = <span class=\"string\">&#x27;https://tts.carlzeng.top:3/speech?text=&#x27;</span> + <span class=\"built_in\">encodeURIComponent</span>(inputText) + <span class=\"string\">&#x27;&amp;voice=&#x27;</span> + voice;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">var</span> audioPlayer = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;audioPlayer&#x27;</span>);          </span></span><br><span class=\"line\"><span class=\"language-javascript\">    audioPlayer.<span class=\"property\">src</span> = url;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    audioPlayer.<span class=\"title function_\">load</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">    audioPlayer.<span class=\"title function_\">play</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ol>\n<li>Add the above HTML content to your HTML page (or template).</li>\n<li>Edit&#x2F;modify the inputText content source to the text content you want to read aloud.</li>\n</ol>\n<h1 id=\"Implementation-Process\"><a href=\"#Implementation-Process\" class=\"headerlink\" title=\"Implementation Process\"></a>Implementation Process</h1><p>TTS docker, eSpeak TTS server for WebSpeech.</p>\n<p>There are many solutions, but none are user-friendly or support Mandarin Chinese.</p>\n<p><a href=\"https://github.com/synesthesiam/opentts\">https://github.com/synesthesiam/opentts</a><br>docker run -it -p 5500:5500 synesthesiam&#x2F;opentts:zh –no-espeak<br>Drawback: Does not support Mandarin Chinese, cannot include English.</p>\n<p>Preview the full process <a href=\"https://www.youtube.com/watch?v=n9E-qipw2-Y\">Setup a Text to Speech Engine (ON YOUR COMPUTER)</a></p>\n<p>New Solution:</p>\n<p>Text-to-speech server<br><a href=\"https://github.com/parente/espeakbox\">https://github.com/parente/espeakbox</a></p>\n<p><a href=\"http://192.168.6.203:8089/speech?text=%E6%8E%92%E6%9F%A5Nginx\">http://192.168.6.203:8089/speech?text=排查Nginx</a> Proxy Manager，反向代理，让网站变成HTTPS&amp;voice&#x3D;ZH</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Text-to-speech server</span><br><span class=\"line\">https://github.com/parente/espeakbox</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Docker-specific-Location\"><a href=\"#Docker-specific-Location\" class=\"headerlink\" title=\"Docker-specific Location\"></a>Docker-specific Location</h2><p><a href=\"https://hub.docker.com/r/parente/espeakbox\">https://hub.docker.com/r/parente/espeakbox</a></p>\n<div> <button onclick=\"synthesizeSpeech()\">Synthesize Entire Text to Speech</button> </div> <audio controls id=\"audioPlayer\">Your browser does not support the audio element.</audio> <script> function synthesizeSpeech() { var inputText = document.getElementsByClassName('post-block')[0].innerText; var voice = \"ZH\"; var url = 'https://tts.carlzeng.top:3/speech?text=' + encodeURIComponent(inputText) + '&voice=' + voice; var audioPlayer = document.getElementById('audioPlayer'); audioPlayer.src = url; audioPlayer.load(); audioPlayer.play(); } </script>\n\n<h1 id=\"Related-Content\"><a href=\"#Related-Content\" class=\"headerlink\" title=\"Related Content\"></a>Related Content</h1><iframe style=\"box-shadow: 0px 0px 20px -10px;\" src=\"https://query.carlzeng.top:3/appsearch?q=tts\" frameborder=\"0\" scrolling=\"auto\" width=\"100%\" height=\"500\"></iframe>\n\n<h1 id=\"Next-Steps\"><a href=\"#Next-Steps\" class=\"headerlink\" title=\"Next Steps\"></a>Next Steps</h1><p>Seeking a more accurate AI model for speech synthesis to make Chinese reading more pleasant, for instance, the speech synthesis from Xunfei is much better than this…</p>\n<h1 id=\"Source-of-Inspiration\"><a href=\"#Source-of-Inspiration\" class=\"headerlink\" title=\"Source of Inspiration\"></a>Source of Inspiration</h1><p><a href=\"https://github.com/parente/espeakbox\">https://github.com/parente/espeakbox</a></p>\n<p><a href=\"https://github.com/kripken/speak.js\">https://github.com/kripken/speak.js</a></p>\n<p>Incorporating screen time management app into the operating system, such as the “Anti-Addiction System” on the Xiaomi K40.</p>\n<p>Android screen time management app for adolescents.</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ChatGPT speech plugin</span><br><span class=\"line\"> </span><br><span class=\"line\">Azure Text to Speech API</span><br><span class=\"line\"> </span><br><span class=\"line\">TTS docker</span><br></pre></td></tr></table></figure>\n","more":"<div> <button onclick=\"synthesizeSpeech()\">Read Aloud Entire Text</button> </div> <audio controls id=\"audioPlayer\">Your browser does not support the audio element.</audio> <script> function synthesizeSpeech() { var inputText = document.getElementsByClassName('post-block')[0].innerText; var voice = \"ZH\"; var url = 'https://tts.carlzeng.top:3/speech?text=' + encodeURIComponent(inputText.substring(0,3000)) + '&voice=' + voice; var audioPlayer = document.getElementById('audioPlayer'); audioPlayer.src = url; audioPlayer.load(); audioPlayer.play(); } </script>\n\n<h1 id=\"Purpose\"><a href=\"#Purpose\" class=\"headerlink\" title=\"Purpose\"></a>Purpose</h1><p>Converting textual content to speech, converting website content to speech, speech synthesis, generating Chinese speech.</p>\n<h1 id=\"How-to-Use\"><a href=\"#How-to-Use\" class=\"headerlink\" title=\"How to Use\"></a>How to Use</h1><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span> </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onclick</span>=<span class=\"string\">&quot;synthesizeSpeech()&quot;</span>&gt;</span>Read Aloud Entire Text<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">audio</span> <span class=\"attr\">controls</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;audioPlayer&quot;</span>&gt;</span>Your browser does not support the audio element.<span class=\"tag\">&lt;/<span class=\"name\">audio</span>&gt;</span>      </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"keyword\">function</span> <span class=\"title function_\">synthesizeSpeech</span>(<span class=\"params\"></span>) &#123; </span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">var</span> inputText = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByClassName</span>(<span class=\"string\">&#x27;post-block&#x27;</span>)[<span class=\"number\">0</span>].<span class=\"property\">innerText</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">var</span> voice = <span class=\"string\">&quot;ZH&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">var</span> url = <span class=\"string\">&#x27;https://tts.carlzeng.top:3/speech?text=&#x27;</span> + <span class=\"built_in\">encodeURIComponent</span>(inputText) + <span class=\"string\">&#x27;&amp;voice=&#x27;</span> + voice;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">var</span> audioPlayer = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;audioPlayer&#x27;</span>);          </span></span><br><span class=\"line\"><span class=\"language-javascript\">    audioPlayer.<span class=\"property\">src</span> = url;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    audioPlayer.<span class=\"title function_\">load</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">    audioPlayer.<span class=\"title function_\">play</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ol>\n<li>Add the above HTML content to your HTML page (or template).</li>\n<li>Edit&#x2F;modify the inputText content source to the text content you want to read aloud.</li>\n</ol>\n<h1 id=\"Implementation-Process\"><a href=\"#Implementation-Process\" class=\"headerlink\" title=\"Implementation Process\"></a>Implementation Process</h1><p>TTS docker, eSpeak TTS server for WebSpeech.</p>\n<p>There are many solutions, but none are user-friendly or support Mandarin Chinese.</p>\n<p><a href=\"https://github.com/synesthesiam/opentts\">https://github.com/synesthesiam/opentts</a><br>docker run -it -p 5500:5500 synesthesiam&#x2F;opentts:zh –no-espeak<br>Drawback: Does not support Mandarin Chinese, cannot include English.</p>\n<p>Preview the full process <a href=\"https://www.youtube.com/watch?v=n9E-qipw2-Y\">Setup a Text to Speech Engine (ON YOUR COMPUTER)</a></p>\n<p>New Solution:</p>\n<p>Text-to-speech server<br><a href=\"https://github.com/parente/espeakbox\">https://github.com/parente/espeakbox</a></p>\n<p><a href=\"http://192.168.6.203:8089/speech?text=%E6%8E%92%E6%9F%A5Nginx\">http://192.168.6.203:8089/speech?text=排查Nginx</a> Proxy Manager，反向代理，让网站变成HTTPS&amp;voice&#x3D;ZH</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Text-to-speech server</span><br><span class=\"line\">https://github.com/parente/espeakbox</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Docker-specific-Location\"><a href=\"#Docker-specific-Location\" class=\"headerlink\" title=\"Docker-specific Location\"></a>Docker-specific Location</h2><p><a href=\"https://hub.docker.com/r/parente/espeakbox\">https://hub.docker.com/r/parente/espeakbox</a></p>\n<div> <button onclick=\"synthesizeSpeech()\">Synthesize Entire Text to Speech</button> </div> <audio controls id=\"audioPlayer\">Your browser does not support the audio element.</audio> <script> function synthesizeSpeech() { var inputText = document.getElementsByClassName('post-block')[0].innerText; var voice = \"ZH\"; var url = 'https://tts.carlzeng.top:3/speech?text=' + encodeURIComponent(inputText) + '&voice=' + voice; var audioPlayer = document.getElementById('audioPlayer'); audioPlayer.src = url; audioPlayer.load(); audioPlayer.play(); } </script>\n\n<h1 id=\"Related-Content\"><a href=\"#Related-Content\" class=\"headerlink\" title=\"Related Content\"></a>Related Content</h1><iframe style=\"box-shadow: 0px 0px 20px -10px;\" src=\"https://query.carlzeng.top:3/appsearch?q=tts\" frameborder=\"0\" scrolling=\"auto\" width=\"100%\" height=\"500\"></iframe>\n\n<h1 id=\"Next-Steps\"><a href=\"#Next-Steps\" class=\"headerlink\" title=\"Next Steps\"></a>Next Steps</h1><p>Seeking a more accurate AI model for speech synthesis to make Chinese reading more pleasant, for instance, the speech synthesis from Xunfei is much better than this…</p>\n<h1 id=\"Source-of-Inspiration\"><a href=\"#Source-of-Inspiration\" class=\"headerlink\" title=\"Source of Inspiration\"></a>Source of Inspiration</h1><p><a href=\"https://github.com/parente/espeakbox\">https://github.com/parente/espeakbox</a></p>\n<p><a href=\"https://github.com/kripken/speak.js\">https://github.com/kripken/speak.js</a></p>\n<p>Incorporating screen time management app into the operating system, such as the “Anti-Addiction System” on the Xiaomi K40.</p>\n<p>Android screen time management app for adolescents.</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ChatGPT speech plugin</span><br><span class=\"line\"> </span><br><span class=\"line\">Azure Text to Speech API</span><br><span class=\"line\"> </span><br><span class=\"line\">TTS docker</span><br></pre></td></tr></table></figure>","categories":[{"name":"Docker","path":"api/categories/Docker.json"}],"tags":[{"name":"AI","path":"api/tags/AI.json"},{"name":"Docker","path":"api/tags/Docker.json"},{"name":"docker-compose","path":"api/tags/docker-compose.json"},{"name":"TTS","path":"api/tags/TTS.json"},{"name":"Speech","path":"api/tags/Speech.json"}]}